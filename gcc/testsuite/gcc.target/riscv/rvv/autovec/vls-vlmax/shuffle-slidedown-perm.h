#include "shuffle-slide.h"

/* All permutations with 4 and 8 elements.  */
#define PERM4_1(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 1, 3, 0)
#define PERM4_2(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 1, 3, 1)
#define PERM4_3(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 1, 3, 2)
#define PERM4_4(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 2, 2, 0)
#define PERM4_5(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 2, 2, 1)
#define PERM4_6(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 3, 1, 0)
#define PERM8_1(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 1, 7, 3)
#define PERM8_2(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 1, 7, 4)
#define PERM8_3(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 1, 7, 5)
#define PERM8_4(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 1, 7, 6)
#define PERM8_5(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 2, 6, 2)
#define PERM8_6(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 2, 6, 3)
#define PERM8_7(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 2, 6, 4)
#define PERM8_8(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 2, 6, 5)
#define PERM8_9(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 3, 5, 1)
#define PERM8_10(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 3, 5, 2)
#define PERM8_11(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 3, 5, 3)
#define PERM8_12(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 3, 5, 4)
#define PERM8_13(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 4, 4, 0)
#define PERM8_14(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 4, 4, 1)
#define PERM8_15(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 4, 4, 2)
#define PERM8_16(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 4, 4, 3)
#define PERM8_17(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 5, 3, 0)
#define PERM8_18(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 5, 3, 1)
#define PERM8_19(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 5, 3, 2)
#define PERM8_20(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 6, 2, 0)
#define PERM8_21(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 6, 2, 1)
#define PERM8_22(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 7, 1, 0)

/* We don't test all possible permutations with higher number of elements to avoid
   timing out.  */
#define PERM16_1(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 4, 12, 6)
#define PERM16_2(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 7, 9, 4)
#define PERM16_3(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 14, 2, 0)
#define PERM32_1(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 2, 30, 17)
#define PERM32_2(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 3, 29, 20)
#define PERM32_3(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 13, 19, 18)
#define PERM64_1(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 1, 63, 31)
#define PERM64_2(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 25, 39, 14)
#define PERM64_3(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 59, 5, 3)
#define PERM128_1(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 4, 124, 73)
#define PERM128_2(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 10, 118, 117)
#define PERM128_3(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 22, 106, 50)
#define PERM128_4(TYPE, NUNITS, FUNC) FUNC(TYPE, NUNITS, 35, 93, 42)

#define DO_ALL_TEST4(FUNC)      \
  TEST_4 (FUNC, PERM4_1)        \
  TEST_4 (FUNC, PERM4_2)        \
  TEST_4 (FUNC, PERM4_3)        \
  TEST_4 (FUNC, PERM4_4)        \
  TEST_4 (FUNC, PERM4_5)        \
  TEST_4 (FUNC, PERM4_6)

#define DO_ALL_TEST8(FUNC)      \
  TEST_8 (FUNC, PERM8_1)        \
  TEST_8 (FUNC, PERM8_2)        \
  TEST_8 (FUNC, PERM8_3)        \
  TEST_8 (FUNC, PERM8_4)        \
  TEST_8 (FUNC, PERM8_5)        \
  TEST_8 (FUNC, PERM8_6)        \
  TEST_8 (FUNC, PERM8_7)        \
  TEST_8 (FUNC, PERM8_8)        \
  TEST_8 (FUNC, PERM8_9)        \
  TEST_8 (FUNC, PERM8_10)        \
  TEST_8 (FUNC, PERM8_11)        \
  TEST_8 (FUNC, PERM8_12)        \
  TEST_8 (FUNC, PERM8_13)        \
  TEST_8 (FUNC, PERM8_14)        \
  TEST_8 (FUNC, PERM8_15)        \
  TEST_8 (FUNC, PERM8_16)        \
  TEST_8 (FUNC, PERM8_17)        \
  TEST_8 (FUNC, PERM8_18)        \
  TEST_8 (FUNC, PERM8_19)        \
  TEST_8 (FUNC, PERM8_20)        \
  TEST_8 (FUNC, PERM8_21)        \
  TEST_8 (FUNC, PERM8_22)

#define DO_ALL_TEST16(FUNC)       \
  TEST_16 (FUNC, PERM16_1)        \
  TEST_16 (FUNC, PERM16_2)        \
  TEST_16 (FUNC, PERM16_3)

#define DO_ALL_TEST32(FUNC)       \
  TEST_32 (FUNC, PERM32_1)        \
  TEST_32 (FUNC, PERM32_2)        \
  TEST_32 (FUNC, PERM32_3)

#define DO_ALL_TEST64(FUNC)       \
  TEST_64 (FUNC, PERM64_1)        \
  TEST_64 (FUNC, PERM64_2)        \
  TEST_64 (FUNC, PERM64_3)

#define DO_ALL_TEST128(FUNC)        \
  TEST_128 (FUNC, PERM128_1)        \
  TEST_128 (FUNC, PERM128_2)        \
  TEST_128 (FUNC, PERM128_3)        \
  TEST_128 (FUNC, PERM128_4)

DO_ALL_TEST4(PERMUTE4)
DO_ALL_TEST8(PERMUTE8)
DO_ALL_TEST16(PERMUTE16)
DO_ALL_TEST32(PERMUTE32)
DO_ALL_TEST64(PERMUTE64)
DO_ALL_TEST128(PERMUTE128)
