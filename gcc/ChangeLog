Tue Nov 17 17:13:53 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* flow.c (insn_dead_p): New argument NOTES.  Changed all callers.

Mon Nov 16 17:56:07 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.c (output_mi_thunk): Improve test for local branch.

Mon Nov 16 17:56:07 1998  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>

	* rs6000.c (output_mi_thunk): Correct test for aggregate values.

Mon Nov 16 21:02:52 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* reload1.c (reload_reg_free_before_p): Delete.
	Changed all callers to use reload_reg_free_for_value_p instead.
	(reload_reg_free_for_value_p): Handle more reload types.
	A RELOAD_FOR_INPUT doesn't conflict with its
	RELOAD_FOR_INPUT_ADDRESS / RELOAD_FOR_INPADDR_ADDRESS.
	Add special case for OUT == const0_rtx.
	Added ignore_address_reloads argument.  Changed all callers.

Mon Nov 16 02:22:29 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* toplev.c (compile_file): Don't pedwarn about undefined static
	functions just because we passed -Wunused.

Mon Nov 16 04:41:41 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* function.c (purge_addressof_1): Unshare rtl created by
	store_bit_field.

Mon Nov 16 04:23:06 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* regmove.c (regmove_optimize): Don't do anything but
	optimize_reg_copy[123] when flag_regmove is not set.

Sat Nov 14 15:05:07 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.md (addsi3, subsi3): Revise 5 Nov change to store DImode
	value in paradoxical SImode result, rather than truncating midpoint.

Fri Nov 13 22:19:23 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.c (reg_not_elim_operand): New.
	* alpha.h (PREDICATE_CODES): Add it.
	* alpha.md (s48addq, s48subq patterns): Use it as the predicate
	for the multiplicand.

Fri Nov 13 22:50:37 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.md (movsf): Remove explicit secondary-reload-like
	functionality.  Only truncate SFmode store if in FPR.
	(movsf splitters): Combine const_double splitters.
	(movsf_hardfloat): Add GPR support.

Fri Nov 13 11:02:11 1998  Stan Cox  <scox@cygnus.com>

	* splet.h (SUBTARGET_OVERRIDE_OPTIONS): New to
	deprecate -mlive-g0 and -mbroken-saverestore.
	* t-splet (MULTILIB_OPTIONS): Likewise.
	
	* sparc.c (sparc_flat_compute_frame_size): Correctly calc args_size
	in a leaf function.  Clarify total_size/extra_size relationship.

Thu Nov 12 19:20:57 1998  Geoffrey Noer  <noer@cygnus.com>

	* i386/cygwin32.asm: Delete.
	* i386/cygwin.asm: New file, renamed from cygwin32.asm.
	* i386/cygwin32.h: Delete.
	* i386/cygwin.h: New file, renamed from cygwin32.h.
	* i386/t-cygwin32: Delete.
	* i386/t-cygwin: New file, renamed from t-cygwin32.  Include
	cygwin.asm instead of cygwin32.asm.  Remove "32" from comment.
	* i386/x-cygwin32: Delete.
	* i386/x-cygwin: New file, renamed from x-cygwin32.
	* i386/xm-cygwin32: Delete.
	* i386/xm-cygwin: New file, renamed from xm-cygwin32.  Use newly
	renamed cygwin_ funcs for path translations.
	* i386/win32.h: Define __CYGWIN__ when -mcygwin given.
	* i386/winnt.c: Remove "32" from comment about cygwin.
	* i386/mingw32.h: Fix references to cygwin32.h in light of above.
	* rs6000/cygwin32.h: Delete.
	* rs6000/cygwin.h: New file, renamed from cygwin32.h.  Add
	-D__CYGWIN__ to CPP_PREDEFINES.
	* rs6000/x-cygwin32: Delete.
	* rs6000/x-cygwin: New file, renamed from x-cygwin32.
	* rs6000/xm-cygwin32: Delete.
	* rs6000/xm-cygwin: New file, renamed from xm-cygwin32.

	* configure.in: Check for cygwin* instead of cygwin32.  Account
	for the rename of cygwin-related config files to lose the "32"s.
	* configure: Regenerate.

	* cccp.c, collect2.c, gcc.c, getpwd.c, libgcc2.c, protoize.c,
	toplev.c: Change all refs to __CYGWIN32__ to __CYGWIN__.

Wed Nov 11 12:25:19 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.in (JAVAGC): New macro.
	* configure: Rebuilt.
	* configure.in: Recognize --enable-java-gc argument.  Subst
	`JAVAGC' variable.

Thu Nov 12 03:32:16 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	Handle equivalences that have been obscured by gcse:

	* reload1.c (reload): Handle equivalences set up in multiple places.
	* local-alloc.c (reg_equiv_init_insns): New variable.
	(no_equiv): New function.
	(update_equiv_regs): Handle equivalences set up in multiple places.
	Don't ignore an insn just because its destination is likely to be
	spilled.

Wed Nov 11 13:46:13 1998  Jim Wilson  <wilson@cygnus.com>

	* except.c (expand_eh_return): Readd force_operand call lost in
	Sept 15 change.

Tue Nov 10 17:04:11 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.h (LEGITIMIZE_ADDRESS): Add missing goto on last case.

1998-11-09  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>

	* dbxout.c: Check HAVE_STAB_H instead of HAVE_STABS_H.

Mon Nov  9 20:15:19 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* regmove.c (regmove_optimize): Fix error in last change.

Mon Nov  9 16:37:52 1998  Andrew Cagney  <cagney@b1.cygnus.com>

	* mips.c (function_prologue): When TARGET_MIPS16, adjust the register
	offset in the .mask pseudo to compensate for frame pointer adjustments.
	(mips16_fp_args, build_mips16_call_stub): For little endian, do not
	word swap arguments moved to/from FP registers.
	* mips16.S (DFREVCMP): Reverse arguments to OPCODE.
	
Mon Nov 9 09:47:06 PST 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Nov 9 02:14:14 PST 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Nov  9 03:06:24 1998  Jeffrey A Law  (law@cygnus.com)

	* reload1.c (delete_output_reload_insn): If a pseudo is set multiple
	times, then it can not be completely replaced.

Mon Nov  9 00:39:02 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.md (call, call_value) [OSF]: Correct alt 3 insn length.

Sun Nov  8 17:50:30 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* gansidecl.h: Prepend a "G" to the macro wrapping this file
	(to distinguish it from the macro wrapping ansidecl.h.)
	Include libiberty's ansidecl.h.  Remove all redundant definitions.
  	Define the PROTO() style macros in terms of the PARAMS() ones.

	
	* calls.c (emit_library_call): Switch on ANSI_PROTOTYPES, not
	__STDC__, when deciding whether to use ANSI variable args.
	(emit_library_call_value): Likewise.

	* cccp.c (error): Likewise.
	(warning): Likewise.
	(error_with_line): Likewise.
	(warning_with_line): Likewise.
	(pedwarn): Likewise.
	(pedwarn_with_line): Likewise.
	(pedwarn_with_file_and_line): Likewise.
	(fatal): Likewise.

	* cexp.y (error): Likewise.
	(pedwarn): Likewise.
	(warning): Likewise.

	* collect2.c (fatal_perror): Likewise.
	(fatal): Likewise.
	(error): Likewise.

	* combine.c (gen_rtx_combine): Likewise.

	* cpperror.c (cpp_message): Likewise.
	(cpp_fatal): Likewise.

	* cpplib.c (cpp_error): Likewise.
	(cpp_warning): Likewise.
	(cpp_pedwarn): Likewise.
	(cpp_error_with_line): Likewise.
	(cpp_warning_with_line): Likewise.
	(cpp_pedwarn_with_line): Likewise.
	(cpp_pedwarn_with_file_and_line): Likewise.

	* cpplib.h: Don't define PARAMS() macro.

	* demangle.h: Likewise.

	* doprint.c (checkit): Switch on ANSI_PROTOTYPES, not __STDC__,
 	when deciding whether to use ANSI variable args.

	* emit-rtl.c (gen_rtx): Likewise.
	(gen_rtvec): Likewise.

	* final.c (asm_fprintf): Likewise.

	* fix-header.c (cpp_message): Likewise.
	(fatal): Likewise.
	(cpp_fatal): Likewise.

	* gcc.c (concat): Likewise.
	(fatal): Likewise.
	(error): Likewise.

	* genattr.c (fatal): Likewise.

	* genattrtab.c (attr_rtx): Likewise.
	(attr_printf): Likewise.
	(fatal): Likewise.

	* gencodes.c (fatal): Likewise.

	* genconfig.c (fatal): Likewise.

	* genemit.c (fatal): Likewise.

	* genextract.c (fatal): Likewise.

	* genflags.c (fatal): Likewise.

	* genopinit.c (fatal): Likewise.

	* genoutput.c (fatal): Likewise.
	(error): Likewise.

	* genpeep.c (fatal): Likewise.

	* genrecog.c (fatal): Likewise.

	* halfpic.h: Switch on ANSI_PROTOTYPES, not __STDC__, when
	deciding whether to declare `tree_node' and `rtx_def'.

	* hash.h: Don't define stuff we get from gansidecl.h.

	* mips-tfile.c: Likewise.  Define __proto() in terms of PARAMS().
	(fatal): Switch on ANSI_PROTOTYPES, not __STDC__, when deciding
	whether to use ANSI variable args.
	(error): Likewise.

	* prefix.c (concat): Likewise.

	* scan.h: Likewise.

	* system.h: Likewise.

	* toplev.c (error_with_file_and_line): Likewise.
	(error_with_decl): Likewise.
	(error_for_asm): Likewise.
	(error): Likewise.
	(fatal): Likewise.
	(warning_with_file_and_line): Likewise.
	(warning_with_decl): Likewise.
	(warning_for_asm): Likewise.
	(warning): Likewise.
	(pedwarn): Likewise.
	(pedwarn_with_decl): Likewise.
	(pedwarn_with_file_and_line): Likewise.
	(sorry): Likewise.
	(really_sorry): Likewise.

	* toplev.h: Switch on ANSI_PROTOTYPES, not __STDC__, when deciding
	whether to declare `tree_node' and `rtx_def'.

	* tree.c (build): Switch on ANSI_PROTOTYPES, not __STDC__, when
	deciding whether to use ANSI variable args.
	(build_nt): Likewise.
	(build_parse_node): Likewise.

Sun Nov 8 13:10:55 PST 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Sat Nov  7 23:34:01 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* Makefile.in (libcpp.a): Check RANLIB_TEST before runing RANLIB.

Sat Nov  7 22:26:19 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* collect2.c (main, case 'b'): Use else if.

Sat Nov  7 15:35:25 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* configure.in (host_xm_file, build_xm_file, xm_file, tm_file):
	Arrange to include gansidecl.h in {ht}config.h & tm.h just
	before the config/ directory headers.
	(tm_file_list, host_xm_file_list, build_xm_file_list): Handle
        gansidecl.h in the list of dependencies.

	* Makefile.in (RTL_BASE_H): Don't depend on gansidecl.h.
	(TREE_H, DEMANGLE_H, RECOG_H, REGS_H, libgcc2.a, stmp-multilib,
 	mbchar.o, collect2.o, pexecute.o, vfprintf.o, splay-tree.o, gcc.o,
 	gencheck.o, choose-temp.o, mkstemp.o, mkstemp.o, prefix.o,
 	dyn-string.o, cexp.o, cccp.o, cppmain.o, cpplib.o, cpperror.o,
 	cppexp.o, cppfiles.o, cpphash.o, cppalloc.o, scan-decls.o):
 	Likewise.

	* cccp.c: Don't include gansidecl.h.
	* cexp.y: Likewise.
	* collect2.c: Likewise.
	* config/c4x/c4x.c: Likewise.
	* config/v850/v850.h: Likewise.
	* cppalloc.c: Likewise.
	* cpperror.c: Likewise.
	* cppexp.c: Likewise.
	* cppfiles.c: Likewise.
	* cpphash.c: Likewise.
	* cpplib.c: Likewise.
	* cppmain.c: Likewise.
	* cppulp.c: Likewise.
	* demangle.h: Likewise.
	* doprint.c: Likewise.
	* dyn-string.c: Likewise.
	* eh-common.h: Likewise.
	* fix-header.c: Likewise.
	* frame.c: Likewise.
	* gcc.c: Likewise.
	* gcov.c: Likewise.
	* gen-protos.c: Likewise.
	* gencheck.c: Likewise.
	* halfpic.h: Likewise.
	* hash.c: Likewise.
	* machmode.h: Likewise.
	* mbchar.c: Likewise.
	* prefix.c: Likewise.
	* protoize.c: Likewise.
	* recog.h: Likewise.
	* rtl.h: Likewise.
	* scan-decls.c: Likewise.
	* tree.h: Likewise.
	* varray.h: Likewise.
	
Sat Nov  7 11:37:53 1998  Richard Henderson  <rth@cygnus.com>

	* i386.md (call_value_pop): If we're not popping anything,
	defer to call_value.
	(call_pop): Likewise defer to call.

Sat Nov  7 02:49:56 1998  Richard Henderson  <rth@cygnus.com>

	* function.c (purge_addressof): Clear purge_addressof_replacements
	only after processing the whole function.

Sat Nov  7 00:54:55 1998  Jeffrey A Law  (law@cygnus.com)

	* reload1.c (reload): If we can not perform a particular elimination
	when we thought we could earlier, then we must always iterate through
	the loop at least one more time.

Fri Nov  6 19:37:33 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.c (add_operand): Simplify the CONST_INT match.
	(sext_add_operand): Correct typo in comparison by using
	CONST_OK_FOR_LETTER_P.
	* alpha.md (s?addq): Use sext_add_operand to allow the negative
	constant alternatives to be generated.
	(mulsi3, muldi3, umuldi3_highpart): Loosen constraints to allow
	small constants, since the hw instructions do.

Fri Nov  6 20:15:19 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* reload1.c (emit_reload_insns):  When rewriting the SET_DEST of a
	previous insn to store directly into our reload register, make sure
	that if the source of the previous insn is a reload register, its
	spill_reg_store and spill_reg_stored_to values are cleared.

Fri Nov  6 16:35:10 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.md (floatunssidf2_internal splitter): Use base register
	operand, not hard-coded SP.

Fri Nov  6 04:07:53 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* jump.c (calculate_can_reach_end): Fix thinko.

Fri Nov  6 00:16:04 1998  Jeffrey A Law  (law@cygnus.com)

	* reorg.c (fill_simple_delay_slots): Fix typo.

	* romp.h (LEGITIMIZE_ADDRESS): Fix typo.

Fri Nov  6 00:10:00 1998  Jan Hubicka (hubicka@freesoft.cz)

	* i386.md (extendsidi2): Use # in the output template.
	(extendsidi splitters): New splitters.

Thu Nov  5 07:59:05 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* jump.c (init_label_info, delete_barrier_successors,
	mark_all_labels, delete_unreferenced_labels,
	delete_noop_moves, calculate_can_reach_end): New functions broken
	out of jump_optimize.
	(jump_optimize): Use them.

Thu Nov  5 07:57:45 EST 1998  Andrew MacLeod  <amacleod@cygnus.com>

	* except.c (expand_fixup_region_end): Make sure outer context labels
	are not issued in an inner context during cleanups.

Thu Nov  5 04:03:06 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.md (addsi3, subsi3): No new temporaries once cse is
	no longer expected.

Thu Nov  5 03:29:19 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.md (addsi3, subsi3): Expand to a DImode temporary so as
	to expose this midpoint to CSE.

Thu Nov  5 03:42:54 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (movdf_const_intreg_sp64): Enable again.

Thu Nov  5 10:53:01 1998  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>

	* configure.in: Bring over gcc2 change of Nov 19 1997.

Wed Nov  4 23:43:08 1998  Graham  <grahams@rcp.co.uk>

        * toplev.c (output_lang_identify): Make definition dependent on
	ASM_IDENTIFY_LANGUAGE.

        * print-rtl.c (spaces): Make static.

Wed Nov  4 22:16:36 1998  Hans-Peter Nilsson  <hp@axis.se>

	* extend.texi: Clarify proper uses for register clobbers in asms.

Wed Nov  4 22:16:36 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* recog.h (enum op_type): Define.
	(constrain_operands): Adjust prototype.
	(recog_op_type): Declare new variable.
	* recog.c (recog_op_type): New variable.
	(insn_invalid_p): Allow modifying an asm statement after reload.
	(extract_insn): Set up recog_op_type.
	(constrain_operands): Lose INSN_CODE_NUM arg.  All callers changed.
	Don't compute operand types, use recog_op_type.
	Use the information computed by extract_insn instead of the previous
	method of finding it by insn code number.
	* caller-save.c (init_caller_save): Use extract_insn, not insn_extract.
	* reorg.c (fill_slots_from_thread): Likewise.
	* reload1.c (reload_as_needed): Likewise.
	(gen_reload): Likewise.
	(inc_for_reload): Likewise.
	(reload_cse_simplify_operands): Likewise.
	Use the information computed by extract_insn instead of the previous
	method of finding it by insn code number.
	* genattrtab.c (write_attr_case): Generate call to extract_insn, not
	insn_extract.
	* final.c (final_scan_insn): Use extract_insn, not insn_extract.
	(cleanup_operand_subregs): Use extract_insn, not insn_extract.
	Use the information computed by extract_insn instead of the previous
	method of finding it by insn code number.
	* regmove.c (find_matches): Likewise.  Change meaning of the return
	value to be nonzero if the optimization can be performed, zero if
	not.  All callers changed.
	Shorten some variable names to fix formatting problems.
	(regmove_optimize): Shorten some variable names to fix formatting
	problems.
	Use the information computed by extract_insn instead of the previous
	method of finding it by insn code number.
	* regclass.c (scan_one_insn): Likewise.
	(record_reg_classes): Don't compute operand types, use recog_op_type.
	* reload.c (find_reloads): Lose CONSTRAINTS1 variable; use
	recog_constraints instead.

Wed Nov  4 21:37:46 1998  Jeffrey A Law  (law@cygnus.com)

	* rtl.h (flow2_completed): Declare.
	* flow.c (flow2_completed): Definition.
	* toplev.c (rest_of_compilation): Set and clear flow2_completed
	as necessary.

Wed Nov  4 19:15:37 1998  "Melissa O'Neill" <oneill@cs.sfu.ca>

	* Makefile.in (libcpp.a): Ranlib libcpp.a

	* cppulp.c (user_label_prefix): Initialize.
	
Wed Nov  4 19:07:08 1998   John Wehle  (john@feith.com)

        * flow.c (mark_regs_live_at_end): Mark the stack pointer as live
        at a RETURN if current_function_sp_is_unchanging is set.

Wed Nov  4 18:16:29 1998 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl> 

	* emit-rtl.c (try_split): Fixed error in Oct 10 patch.

Wed Nov  4 15:11:15 1998  Geoffrey Noer  <noer@cygnus.com>

	* i386/cygwin32.h (MASK_WIN32, MASK_CYGWIN, MASK_WINDOWS, MASK_DLL,
	TARGET_WIN32, TARGET_CYGWIN, TARGET_WINDOWS, TARGET_DLL): New.
	(SUBTARGET_SWITCHES): Add -mno-cygwin, -mcygwin, and -mdll options.
	(CPP_PREDEFINES): Don't define __CYGWIN32__ here.
	(STARTFILE_SPEC): Handle -mdll, -mno-cygwin options.
	(CPP_SPEC): Handle -mno-cygwin option.  Define __CYWIN__ in addition
	to __CYGWIN32__.
	(LIB_SPEC): Handle -mno-cyginw option.
	(LINK_SPEC): Handle -mdll.

Wed Nov  4 22:56:14 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* reload.c (find_reloads): Fix test for usage by other reload
	to handle secondary reloads properly.

Wed Nov  4 17:25:10 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* reload1.c (ELIMINABLE_REGS, NUM_ELIMINABLE_REGS): Introduce an
 	intermediate structure which has exactly the members provided by
 	ELIMINABLE_REGS.  Define NUM_ELIMINABLE_REGS in terms of the
 	static intermediate structure.
	
	(init_elim_table): Xmalloc() `reg_eliminate', and initialize it
 	from the intermediate structure.  Do the same analogous fix in
 	the case where ELIMINABLE_REGS is not defined.

Tue Nov  3 20:50:03 1998  Jeffrey A Law  (law@cygnus.com)

	* pa.h (SELECT_SECTION): Fix thinko.

Tue Nov  3 17:51:36 1998  Jim Wilson  <wilson@cygnus.com>

	* dwarf2out.c (output_call_frame_info): Comments on last change.

Tue Nov  3 07:51:43 1998  Richard Earnshaw (rearnsha@arm.com)

	* arm.c (add_constant): When taking the address of an item in the
	pool, get the mode of the item addressed.

	* arm.c (final_prescan_insn case INSN): If an insn doesn't 
	contain a SET or a PARALLEL, don't consider it for conditional
	execution.

	Restore ABI compatibility for NetBSD.
	* arm/netbsd.h (DEFAULT_PCC_STRUCT_RETURN): Override setting in
	arm.h
	(RETURN_IN_MEMORY): Likewise.

Mon Nov  2 11:46:17 1998  Doug Evans  <devans@canuck.cygnus.com>

	* m32r/m32r.c (m32r_expand_block_move): Fix byte count computations.
	(m32r_output_block_move): Rewrite bytes < 4 handling.

Mon Nov  2 10:10:35 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* configure.in: Call AC_FUNC_VFORK.

	* collect2.c: Define VFORK_STRING as a printable string for
 	error messages (either "vfork" or "fork".)  If HAVE_VFORK_H is
 	defined, include vfork.h.  If VMS is defined, define vfork()
	appropriately.  Remove vfork check on USG, we're using autoconf.
	(collect_execute): Pass VFORK_STRING to fatal_perror instead of
	checking locally what string to pass.
	(scan_prog_file): Likewise.
	(scan_libraries): Likewise.

	* gcc.c: Remove vfork check on USG, we're using autoconf.
	Besides, no calls to vfork/fork occur in this file.

	* protoize.c: Likewise.

Mon Nov  2 07:52:28 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* configure.in (DEFAULT_LINKER): renamed from LD
	(DEFAULT_ASSEMBLER): renamed from AS; reverted Schwab's patch
	(gcc_cv_as): try $DEFAULT_ASSEMBLER before $AS
	* configure: rebuilt

Mon Nov  2 01:48:10 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* BUGS: fix the regexp for `more' to find the appropriate node.
	Reported by Joerg Pietschmann  <joerg_pietschmann@zkb.ch>

	* BUGS: added link to the WWW FAQ

Sun Nov 1 18:27:15 PST 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Sun Nov  1 11:04:32 1998  Jeffrey A Law  (law@cygnus.com)

        * From Christian Gafton:
        * i386/linux.h (CPP_PREDEFINES): Add -D__i386__.
        * sparc/linux.h (CPP_PREDEFINES): Add -D__sparc__.
        * sparc/linux64.h (CPP_PREDEFINES): Add -D__sparc__.

Sat Oct 31 21:42:39 1998  Mark Mitchell  <mark@markmitchell.com>

	* c-common.c (c_get_alias_set): Allow all type-punning through
	unions.  Don't get confused about the type of a bit-field, despite
	the antics of build_modify_expr.

Sat Oct 31 22:35:29 1998  Jean-Pierre Radley <jpr@jpr.com>

	* fixinc.sco: Paramaterize #include_next values.
	* fixinc/fixinc.sco: Likewise.

Sat Oct 31 20:39:35 1998  Jeffrey A Law  (law@cygnus.com)

	* toplev.c (rest_of_compilation): No longer set reload_completed.
	* reload1.c (reload): Set it here.  Perform instruction splitting
	after reload has completed if we will be running the scheduler
	again.

Sat Oct 31 12:30:02 1998  Jeffrey A Law  (law@cygnus.com)

	* jump.c (jump_optimize): Initialize mappings from INSN_UID to
	EH region if exceptions are enabled and we're performing cross
	jump optimizations.
	(find_cross_jump): Exit loop if the insns are in different EH regions.

Sat Oct 31 10:02:48 1998  Mark Mitchell  <mark@markmitchell.com>

	* dwarf2out.c (output_call_frame_info): Use
	ASM_OUTPUT_DWARF_DELTA4 for the CIE offset to match frame.c.

Sat Oct 31 10:23:14 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	Reinstall Apr 24th fix, lost during May 6th gcc2 merge:
        * c-common.c (check_format_info): Don't check for the 'x'
	format character twice, instead check for 'x' and 'X'

Fri Oct 30 14:50:25 1998  Jeffrey A Law  (law@cygnus.com)

	* configure.in (assembler features): Also make gas is configured if
	we find it in the souce tree.

Fri Oct 30 13:23:20 1998  Richard Henderson  <rth@cygnus.com>

	* i386.c (i386_comp_type_attributes): Compare whether the 
	attributes are defined, not their tree nodes.

Fri Oct 30 11:39:47 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* configure.in (gxx_include_dir): bitten by autoconf quoting
	characters :-(
	* configure: rebuilt

Fri Oct 30 10:43:29 1998  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>

	* configure.in: Ignore non-absolute value in $AS.

Fri Oct 30 00:54:25 1998  Peter Jakubek <pjak@snafu.de>

	* m68k.h (INDIRECTABLE_1_ADDRESS_P): Fix thinko.

Fri Oct 30 00:42:34 1998  Mark Elbrecht <snowball3@usa.net>

	* configure.in (msdosdjgpp): Set exeext and target_alias.

Thu Oct 29 23:55:43 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* flow.c (XNMALLOC): New macro.
	(flow_int_list_blocks, basic_block_succ, basic_block_pred): New
	static variables.
	(add_edge, add_edge_to_label): New static functions.
	(free_bb_memory): New function.
	(flow_delete_insn): Delete function.
	(basic_block_drops_in): Delete variable.
	(find_basic_blocks): Allocate and initialize basic_block_head,
	basic_block_succ.  Don't allocate basic_block_drops_in.
	Call free_bb_memory at the beginning.
	(find_basic_blocks_1): Don't do multiple passes.
	Delete code to compute basic_block_drops_in.
	After calling make_edges, mark blocks reached by current block live.
	Update test for unreachable live blocks.
	(mark_label_ref): Delete args X, CHECKDUP.  Add PRED arg.  All callers
	changed.
	Simplify to call add_edge_to_label when a LABEL_REF is found.
	(make_edges): Simplify to call add_edge_to_label instead of
	mark_label_ref most of the time.
	Compute here whether control drops into the next block.
	(delete_unreachable_blocks): Return void.  All callers changed.
	Delete unreachable blocks in reverse order.
	After deleting all unreachable blocks, renumber the remaining ones
	and update n_basic_blocks.
	(delete_block): Speed up deletion a bit.
	Don't set basic_block_drops_in for deleted blocks.
	(free_basic_block_vars): Don't free basic_block_drops_in.
	(life_analysis_1): Update to use new edge representation.
	(dump_flow_info): Delete code to print basic block info; call
	dump_bb_data instead.
	(compute_preds_succs): Delete code to recompute basic_block_drops_in
	and uid_block_number.
	Simply copy the previously computed cfg.
	(dump_bb_data): New arg LIVE_INFO.  All callers changed.
	Print register lifetime information if LIVE_INFO is nonzero.
	* basic-block.h (dump_bb_data): Adjust prototype.
	* gcse.c (gcse_main): Update call to dump_bb_data.
	* rtl.h (free_bb_memory): Declare.
	* toplev.c (rest_of_compilation): Call free_bb_memory.

	* reload1.c (struct elim_table): Delete MAX_OFFSET member.
	(update_eliminable_offsets): Don't compute it.
	(set_initial_elim_offsets): Don't initialize it.
	Break out some code into set_initial_label_offsets so the rest of
	this function can be called from reload_as_needed.
	Assume that INITIAL_FRAME_POINTER_OFFSET is defeined when
	ELIMINABLE_REGS isn't.
	(set_initial_label_offsets): New function, broken out of
	set_initial_elim_offsets.
	(set_offsets_for_label): New function, broken out of set_label_offsets
	and reload_as_needed.
	(reload): Call the two new functions.
	(reload_as_needed): Call set_initial_elim_offsets instead of
	duplicating the code.  Likewise for set_offsets_for_label.

	* reload1.c (choose_reload_regs): Fix typo in Oct 17 change.
	(emit_reload_insns): Ensure that when we set reg_reloaded_valid for
	any hard reg, reg_reloaded_dead contains valid data.

Thu Oct 29 22:30:54 1998  Marcus Meissner <Marcus.Meissner@informatik.uni-erlangen.de>

	* i386.c (i386_comp_type_attributes): Return nonzero for mismatched
	"stdcall" and "cdecl" attributes.

Thu Oct 29 19:05:17 1998  Jim Wilson  <wilson@cygnus.com>

	* sched.c (update_flow_info): Add code to ! found_orig_dest case to
	handle deleted no-op moves of hard registers.
	* haifa-sched.c (update_flow_info): Likewise.

Thu Oct 29 18:07:47 1998  Jeffrey A Law  (law@cygnus.com)

	* mips.md (reload_{in,out}{si,di}): Emit a USE of HILO at the end
	of the sequences to reload the HILO register which do not actually
	reference HILO.

Thu Oct 29 12:39:35 1998  Jim Wilson  <wilson@cygnus.com>

	* c-common.c (c_get_alias_set): Handle ARRAY_REF of union field.

Thu Oct 29 14:10:22 EST 1998  Andrew MacLeod  <amacleod@cygnus.com>

	* except.c (emit_eh_context): Make the EH context register stay alive
	at -O0 so stupid.c doesn't get confused.

1998-10-29 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>

	* emit-rtl.c (try_split): Do not try to split a BARRIER.

Thu Oct 29 01:33:54 1998  Jan Hubicka <hubicka@freesoft.cz>
			  Jeffrey A Law  (law@cygnus.com)

	* i386.md: Change ix86_cpu == PROCESSOR_PENTIUM to TARGET_PENTIUM
	(zero_extendsidi2): Use # in output template and handle completely by
	splits.
	(zero_extend splitters): New define_splits.
	(ashiftrt_32): New pattern.

Wed Oct 28 22:58:35 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* tree.c (append_random_chars): New fn.
	(get_file_function_name_long): Use it.

Wed Oct 28 22:27:05 1998  Richard Henderson  <rth@cygnus.com>

	* Makefile.in (cc1): Put C_OBJS, and thence @extra_c_objs@ last.
	(LIBCPP_OBJS): New.  Add cppulp.o.
	(cppmain, fix-header): Depend on and use libcpp.a.
	* configure.in (extra_c_objs, extra_cxx_objs): Use libcpp.a instead
	of the individual object files.
	* objc/Make-lang.in (cc1obj): Put OBJC_OBJS, and thence @extra_c_objs@,
	last.

	* cccp.c (user_label_prefix): New.
	(main): Set it off -f*leading-underscore.
	(special_symbol): Use it.
	* cpplib.c (special_symbol): Likewise.
	(cpp_handle_option): Handle -f*leading-underscore.
	* cppulp.c: New file.

	* output.h (user_label_prefix): Declare it.
	* dwarf2out.c (ASM_NAME_TO_STRING): Prepend user_label_prefix.
	* toplev.c (f_options, main): Handle -f*leading-underscore.

	* defaults.h (ASM_OUTPUT_LABELREF): Use asm_fprintf instead of
	referencing USER_LABEL_PREFIX directly.
	* config/nextstep.h (ASM_OUTPUT_LABELREF): Likewise.
	* m32r/m32r.h (ASM_OUTPUT_LABELREF): Likewise.
	* final.c (asm_fprintf): Use user_label_prefix instead.
	* arm/thumb.c (thumb_print_operand): Likewise.

	* gcc.c (default_compilers): Pass -f*leading-underscore on to
	cpp wherever appropriate.

Wed Oct 28 23:09:25 1998  Robert Lipe  <robertl@dgii.com>

	* sco5.h (SUBTARGET_SWITCHES): Add documentation for OpenServer-
	specific compiler switches.

Wed Oct 28 21:05:53 1998  Jeffrey A Law  (law@cygnus.com)

	* Makefile.in (c-common.o): Depend on c-pragma.h.  Use $(RTL_H) instead
	of rtl.h.

Wed Oct 28 20:52:47 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* gcc.c (EXTRA_SPECS, extra_specs): Introduce an intermediate
 	structure which has exactly the members provided by EXTRA_SPECS.
  	Xmalloc() the real `extra_specs', and initialize it from this
	intermediate structure.

	* alpha.h (EXTRA_SPECS): Revert change for missing initializers.

	* mips.h  (EXTRA_SPECS): Likewise.

	* sparc.h (EXTRA_SPECS): Likewise.

Wed Oct 28 16:46:07 1998  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>
    
	* function.c (purge_addressof_1): Instead of aborting when a
	bitfield insertion as a replacement for (MEM (ADDRESSOF)) does not
	work just put the ADDRESSOF on stack.  Otherwise remember all such
	successfull replacements, so that exactly the same replacements
	can be made on the REG_NOTEs.  Remove the special case for CALL
	insns again.
	(purge_addressof_replacements): New variable.
	(purge_addressof): Clear it at end.

1998-10-28 16:10 -0500	Zack Weinberg  <zack@rabi.phys.columbia.edu>

	 * c-lang.c: Declare extern char *yy_cur if USE_CPPLIB.
	   (lang_init): Call check_newline always.
	 * c-lex.c (init_parse) [USE_CPPLIB=1]: After calling
	   cpp_start_read, set yy_cur and yy_lim to read from
	   parse_in.token_buffer, so that we'll see the first #line
	   directive.
	 * cpplib.c (cpp_start_read): finclude the main input file
	   before processing -include/-imacros.	 Process -imacros and
	   -include separately, and handle -include by stacking a
	   buffer for the file in question as if it'd been #included.
	 * toplev.c (documented_lang_options) Recognize -H when
	   USE_CPPLIB is on.

1998-10-28 16:09 -0500	Zack Weinberg  <zack@rabi.phys.columbia.edu>

	 * cpplib.c: Merge do_once into do_pragma.  Break file handling
	   code out of do_include.
	   Move append_include_chain, deps_output,
	   file_cleanup, redundant_include_p, import_hash,
	   lookup_import, add_import, read_filename_string, read_name_map,
	   open_include_file, finclude, safe_read to cppfiles.c.
	   Move prototypes for deps_output, append_include_chain,
	   finclude to cpplib.h.  Move definition of struct
	   file_name_list there also.

	 * cppfiles.c: New file.  Contains all the above functions
	   broken out of cpplib.c; also hack_vms_include_specification
	   from cccp.c and find_include_file, a new function broken out of
	   do_include.

	 * Makefile.in (cppmain): Depend on cppfiles.o.
	   (fix-header): Likewise.
	   (cppfiles.o): New target.
	 * configure.in (--enable-c-cpplib): Add cppfiles.o to
	   extra_c_objs.  Add ../cppfiles.o to extra_cxx_objs.

Wed Oct 28 14:06:49 1998  Jim Wilson  <wilson@cygnus.com>

	* dwarfout.c (dwarfout_file_scope_decl): If DECL_CONTEXT, don't abort
	if pending_types is non-zero.
	(dwarfout_finish): Verify pending_types is zero before finishing.

Wed Oct 28 10:29:09 1998  Nick Clifton  <nickc@cygnus.com>

	* expr.c (convert_move): Use shifts to perform the move if a
	suitable extend pattern cannot be found.  Code written by
	Richard Henderson <rth@cygnus.com>.

Wed Oct 28 03:59:29 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* regclass.c (renumber, regno_allocated): New static variables, moved
	out of allocate_reg_info.
	(allocate_reg_info): Move these two variables outside the function.
	Move code to free memory into new function free_reg_info.
	(free_reg_info): New function, broken out of allocate_reg_info.
	* toplev.c (compile_file): Call free_reg_info, not allocate_reg_info.
	* rtl.h (allocate_reg_info): Don't declare.
	(free_reg_info): Declare.

	* final.c (cleanup_subreg_operands):  ASM_INPUTs need no treatment.

Wed Oct 28 02:38:12 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* toplev.c (compile_file): Temporarily revert last change.

Wed Oct 28 00:00:35 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* c-typeck.c (convert_for_assignment): Parenthesize.

1998-10-28  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>

	* reload1.c (delete_output_reload): Avoid ambigous else.

Wed Oct 28 00:10:35 1998  Jeffrey A Law  (law@cygnus.com)

	* toplev.c (compile_file): Call allocate_reg_info to free register
	table memory.
	* rtl.h (allocate_reg_info): Declare.

	* PROJECTS: Remove entry for local spilling.

	* final.c (cleanup_subreg_operands): New function.
	(final_scan_insn): Use it.
	(alter_subreg): Clear the "used" field when we turn a SUBREG into
	a REG.
	* reload1.c (reload): Delete CLOBBER insns and also cleanup SUBREG
	operands when reload has finished.
	* reload.h (cleanup_subreg_operands): Declare..
	* flow.c (life_analysis_1): No longer delete CLOBBER insns after
	reload.  Handled in reload itself.

Tue Oct 27 23:32:34 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* reload1.c (verify_initial_offsets): New function.
	(reload): Call it after reload_as_needed.  Also verify that the frame
	size stays constant during reload_as_needed.
	* i386.h (CONST_DOUBLE_OK_FOR_LETTER_P): Undo Jul 26 change.

	* reload.h (struct insn_chain): Add need_operand_change element.
	* reload1.c (new_insn_chain): Clear it.
	(calculate_needs_all_insns): Set it; don't overload need_reload.
	(reload_as_needed): Use it.

	* reload.c (find_reloads_address): Use BASE_REG_CLASS instead of
	reload_address_base_reg_class throughout.  Similar for INDEX_REG_CLASS
	and reload_address_index_reg_class.
	(find_reloads_address_1): Likewise.
	* reload.h (reload_address_base_reg_class,
	reload_address_index_reg_class): Don't declare.
	* reload1.c (reg_old_renumber, pseudo_previous_regs,
	pseudo_forbidden_regs, bad_spill_regs_global): New static variables.
	(used_spill_regs): Now static.
	(reload_address_base_reg_class, reload_address_index_reg_class,
	regs_explicitly_used, counted_for_groups, counted_for_nongroups,
	basic_block_needs, max_needs, group_size, group_mode, max_groups,
	max_nongroups, max_needs_insn, max_groups_insn, max_nongroups_insn,
	forbidden_regs):
	Deleted variables.
	(init_reload): Delete code to compute base/index reg classes.
	(reload): Delete variable J.
	Delete code to manage basic_block_needs.
	Don't compute regs_explicitly_used.
	Allocate, initialize and free reg_old_renumber, pseudo_forbidden_regs,
	pseudo_previous_regs.
	Initialize bad_spill_regs_global.
	Don't call order_regs_for_reload here.
	Don't initialize spill_reg_order and n_spills.
	Don't forbid explicitly used regs to be used for spill regs.
	Change main loop to infinite loop, with explicit break statements.
	Make SOMETHING_CHANGED variable local to that loop.
	Don't initialize max_needs, max_groups, max_nongroups, max_needs_insn,
	max_groups_insn, max_nongroups_insn, group_size, group_mode.
	Make sure spilled_speudos is cleared before calling spill_hard_reg or
	new_spill_reg.
	Don't call dump_needs.
	Delete code to reset potential_reload_regs.
	Delete code to terminate loop conditional on the global needs variables
	showing no further needs.
	(calculate_needs_all_insns): Return void.  All callers changed.
	Initialize somehing_needs_elimination here, not in reload.
	Delete avoid_return_reg kludge.
	(calculate_needs): Lose AVOID_RETURN_REG and GLOBAL args, return void.
	All callers changed.
	Initialize the group_mode and group_size elements of the arg CHAIN.
	Delete code to manage basic_block_needs.
	Operate on elements of CHAIN instead of global variables.
	Delete avoid_return_reg kludge.
	(find_tworeg_group): Lose GLOBAL arg, take CHAIN arg, return void.
	All callers changed.
	Operate on elements of CHAIN instead of global variables.
	Delete special SMALL_REGISTER_CLASSES code.
	Delete spill_failure code; now in new_spill_reg.
	(find_group): Lose GLOBAL arg, take CHAIN arg, return void.
	All callers changed.
	Operate on elements of CHAIN instead of global variables.
	(maybe_mark_pseudo_spilled): New static function.
	(find_reload_regs): Lose GLOBAL arg, take CHAIN arg, return void.
	All callers changed.
	Operate on elements of CHAIN instead of global variables.
	Call order_regs_for_reload here, not in reload.
	Initialize spill_reg_order and n_spills.
	Simplify test whether an asm insn is involved.
	Delete spill_failure code; now in new_spill_reg.
	Call maybe_mark_pseudo_spilled for everything marked as live in
	CHAIN.  Merge CHAIN's used_spill_regs into the global variable
	used_spill_regs.
	(dump_needs): Take CHAIN arg.  No longer static, to prevent the
	compiler from optimizing this function (now unused) away.
	Operate on elements of CHAIN instead of global variables.
	(possible_group_p): Lose MAX_GROUPS arg, take CHAIN arg.  All callers
	changed.
	Operate on elements of CHAIN instead of global variables.
	(count_possible_groups): Lose GROUP_SIZE, GROUP_MODE, MAX_GROUPS args,
	take CHAIN arg.  All callers changed.
	Operate on elements of CHAIN instead of global variables.
	(new_spill_reg): Lose MAX_NEEDS, MAX_NONGROUPS, GLOBAL args, take
	CHAIN, NONGROUP args.  Return void.  All callers changed.
	Verify caller isn't trying to spill a pseudo.
	Simplify test for illegal reg, just use bad_spill_regs.
	Generate better error messages.
	Operate on elements of CHAIN instead of global variables.
	Mark spilled register in CHAIN's used_spill_regs element.
	Don't call spill_hard_reg.
	(spill_hard_reg): Lose GLOBAL arg, return void.  All callers changed.
	Mark spilled hard regs in bad_spill_regs_global.
	Mark affected pseudos in spilled_pseudos, but don't spill them.
	(ior_hard_reg_set): New static function.
	(finish_spills): Return int.  All callers changed.
	Compute spill_reg_order, n_spills and spill_regs here.  Also update
	regs_ever_live for regs used as spills.
	For every pseudo in spilled_pseudos, spill it and mark the previous
	hard reg it had in pseudo_previous_regs.  Compute which hard regs
	arseudo): New static function.
	(order_regs_for_reload): Take CHAIN arg.  All callers changed.
	Initialize bad_spill_regs from bad_spill_regs_global, then merge any
	hard registers explicitly used across the current insn into the set.
	Compute hard_reg_n_uses taking only pseudos live across this insn
	into account.
	Tweak sorting of potential_reload_regs.
	(compare_spill_regs): Delete function.
	(reload_as_needed): Don't sort the spill_regs array, it's computed
	in proper order in finish_spills.
	Delete avoid_return_reg kludge.
	Delete code to manage basic_block_needs.
	(allocate_reload_reg): Minor speed/readability tweaks.
	Operate on elements of CHAIN instead of global variables.
	(choose_reload_regs): Lose AVOID_RETURN_REG arg.  All callers changed.
	Delete avoid_return_reg kludge.
	Initialize reload_reg_used from CHAIN's used_spill_regs element.
	Delete unused label FAIL.
	(reload_combine): Replce reload_address_index_reg_class with
	INDEX_REGS.
	Don't use used_spill_regs to determine information about lifetime of
	hard regs.

Tue Oct 27 13:15:02 1998  Nick Clifton  <nickc@cygnus.com>
	
	* toplev.c (display_help): Ignore empty target specific
	options, and if -W is also specified on the command line then
	display undocumented options.

	* config/arm/arm.c: Updated with changes in devo sources.
	* config/arm/arm.h: Updated with changes in devo sources.
	* config/arm/lib1funcs.asm: Updated with changes in devo sources.
	* config/arm/lib1thumb.asm: Add ELF support.

Tue Oct 27 16:11:43 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* collect2.c (aix64_flag): New variable.
	(main, case 'b'): Parse it.
	(GCC_CHECK_HDR): object magic number must match mode.
	(scan_prog_file): Only check for shared object if valid header.
	Print debugging if header/mode mismatch.

Tue Oct 27 10:15:02 1998  Nick Clifton  <nickc@cygnus.com>

	Added support for arm-elf-linux configuration, submitted by Philip
	Blundell <pb@nexus.co.uk>, and integrated this with the arm-elf
	code developed by Catherine Moore <clm@cygnus.com>.  The following
	files are affected: 

	* configure.in: Add arm-*-linux-gnu, armv2-*-linux and arm-*-elf
	targets. 

	* configure: Regenerated.
	
	* config/arm/aout.h: Add default definitions of REGISTER_PREFIX,
	USER_LABEL_PREFIX and LOCAL_LABEL_PREFIX.  Make other macro
	definitions conditional on their not having been already defined.

	* config/arm/lin1funcs.asm: Add ELF only macros to generate .size
	and .type directives, and add "(PLT)" qualification to function
	calls.

	* config/arm/linux.h: Deleted.  This file is now superceeded by
	either linux-elf.h or linux-aout.h.

	* config/arm/linux-gas.h: Define `inhibit_libc' if cross-compiling.
	(CLEAR_INSN_CACHE): New macro, currently disabled (awaiting kernel
	support).
	Move definitions from old linux.h file here.
	
	* config/arm/elf.h: New file.  Generic ARM/ELF support.
	
	* config/arm/linux-aout.h: New file.  Support for Linux with a.out.
	
	* config/arm/linux-elf.h: New file.  Support for Linux with ELF.
	
	* config/arm/linux-elf26.h: New file.  Support for Linux with ELF
	using the 26bit APCS.
	
	* config/arm/unknown-elf.h: New file.  Support for OS'es other
	than Linux with ELF.

	* config/arm/t-arm-elf: New file.  makefile fragment for arm-elf
	builds.
	
	* config/arm/coff.h: Include aout.h for basic assembler macros.
	Add support for -mstructure_size_boundary=<n> command line option.
	
	* config/arm/arm.h: Add support for -mstructure_size_boundary=<n>
	command line option.  Make macro definitions conditional on their
	not having been already defined. 

	* config/arm/arm.c: Add support for -mstructure_size_boundary=<n>
	command line option.

	
Tue Oct 27 08:56:46 1998  Andrew MacLeod  <amacleod@cygnus.com>

	* dwarfout.c (ASM_OUTPUT_DWARF_STRING_NEWLINE): ASM_OUTPUT_DWARF_STRING
	has been changed to not include a newline. Use this macro instead.
	(output_enumeral_list, const_value_attribute, name_attribute,
	comp_dir_attribute, prototyped_attribute, producer_attribute,
	inline_attribute, pure_or_virtual_attribute, output_inheritance_die,
	dwarfout_file_scope_decl, generate_new_sfname_entry,
	generate_macinfo_entry, dwarfout_init, dwarfout_finish): Use
	ASM_OUTPUT_DWARF_STRING_NEWLINE macro.

Mon Oct 26 13:35:02 1998  Richard Henderson  <rth@cygnus.com>

	* combine.c (subst): Process the inputs to a parallel asm_operands
	only once.

Mon Oct 26 13:32:31 1998  Richard Henderson  <rth@cygnus.com>

	* stmt.c (expand_asm_operands): Accept `=' or `+' at any position.

Mon Oct 26 12:53:14 1998  Jeffrey A Law  (law@cygnus.com)

	* tm.texi (ASM_OUTPUT_MAX_SKIP_ALIGN): Document.

Mon Oct 26 00:36:58 PST 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Sun Oct 25 23:36:52 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* stmt.c (expand_fixup): Set fixup->before_jump to a
	NOTE_INSN_DELETED instead of a NOTE_INSN_BLOCK_BEG.

Sun Oct 25 15:49:57 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* Makefile.in (recog.o): Depend on toplev.h.
	(insn-emit.o): Depend on recog.h.
	(insn-peep.o): Depend on recog.h and insn-config.h.

	* combine.c (simplify_set): Remove unused variable `scratches'.

	* final.c (final_scan_insn): Wrap declaration of variables `vlen'
 	and `idx' in macro conditional controlling their use.

	* genemit.c (main): Make the generated output file include
 	recog.h.  Don't have it declare `insn_operand_constraint', since
 	we get it from recog.h.

	* genpeep.c (main): Make the generated output file include
	insn-config.h and recog.h.

	* recog.c: Include toplev.h.
	(extract_insn): Remove unused variable `p'.

	* regclass.c (fix_register): Add missing braces around initializer
	for `what_option'.
	(allocate_reg_info): Move variable `i' into the scope where it is
	used.  Change its type to `size_t'.

Sun Oct 25 13:10:15 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* reload.c (push_reload): When merging reloads, make sure
	that reload_in_reg and reload_in are from the same reload in
	all cases.

Sun Oct 25 12:07:00 1998  Mumit Khan  <khan@xraylith.wisc.edu>

	* i386/crtdll.h (CPP_PREDEFINES): Fix typo.
	* i386/mingw32.h (CPP_PREDEFINES): Likewise.

Fri Oct 23 23:42:03 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* loop.c (loop_has_tablejump): New variable.
	(prescan_loop): Scan for it.
	(insert_bct): Replace explicit scan with use of it.
	* regclass.c (regclass): Restore loop variable j.
	(record_reg_classes): Deterine op_types modifiers and initialize
	classes[i] before matching constraints.  Handle matching
	constraints 5-9.
	
Fri Oct 23 13:55:48 1998  Jim Wilson  <wilson@cygnus.com>

	* m32r/m32r.c (gen_split_move_double): Call alter_subreg.  Delete
	subreg support.

Fri Oct 23 16:19:24 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* mips.h (EXTRA_SPECS): Add missing initializers.

Fri Oct 23 16:08:39 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* sparc.h (EXTRA_SPECS): Add missing initializers.
	(sparc_defer_case_vector): Provide a prototype.

	* svr4.h (ASM_OUTPUT_ASCII): Cast STRING_LIMIT to (long) when
 	comparing it to the result of a pointer subtraction.

Fri Oct 23 15:34:14 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* alpha.c (override_options): Use ISDIGIT(), not isdigit().  Cast
	the argument to (unsigned char).

	* alpha.h (EXTRA_SPECS): Add missing initializers.
	(ASM_GENERATE_INTERNAL_LABEL): Ensure the argument matches the
	format specifier.

Fri Oct 23 13:12:35 1998  Jeffrey A Law  (law@cygnus.com)

	* flow.c (life_analysis_1): Enable "rescan" code after reload.
	(propagate_block): Delete dead code after reload.

	* sched.c (update_flow_info): Revert Oct 19, 1998 change.  Brings
	back Oct 15, 1998 change.  
	* haifa-sched.c (update_flow_info): Likewise.
	* flow.c (life_analysis_1): Delete CLOBBER insns after reload.

	* mn10200.md (truncated shift): Accept constant inputs too.

Fri Oct 23 04:06:57 1998  Richard Earnshaw (rearnsha@arm.com)

	* machmode.h (mode_mask_array): No longer const.
	* rtl.c (init_rtl): Fully initialize it if EXTRA_CC_MODES defined.

Fri Oct 23 11:19:06 1998  Martin v. Löwis <loewis@informatik.hu-berlin.de>

	* frame.c: Somewhat explain `FDE'.
	Suggested by Brendan Kehoe

Fri Oct 23 00:56:11 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* expr.c (pending_chain): Move up.
	(save_expr_status): Do save pending_chain.
	(restore_expr_status): And restore it.
	* function.h (struct function): Add pending_chain.

1998-10-23 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>

	* reorg.c (relax_delay_slots): Fixed test for mostly_true_jump. The
	did not match the code.

Fri Oct 23 00:07:01 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* regclass.c (regclass): Break out some code into new function
	scan_one_insn, and into regclass_init.
	(init_cost): New static variable, moved out of regclass.
	(regclass_init): Initialize it here, not in .
	(scan_one_insn): New static function, broken out of regclass.
	* recog.c (apply_change_group): Break out some code into new
	function insn_invalid_p.
	(insn_invalid_p): New static fn, broken out of apply_change_group.

Thu Oct 22 22:34:42 1998  Jim Wilson  <wilson@cygnus.com>

	* reload1.c (reload_as_needed): When rewrite POST_INC, verify
	reg_reloaded_contents matches incremented pseudo.

	* v850/v850.c (v850_reorg): Call alter_subreg.  Delete subreg support.

Fri Oct 23 11:11:56 1998  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>

	* rtl.def (POST_MODIFY, PRE_MODIFY): New generalized operators for
  	addressing modes with side effects.  These are currently
  	placeholders for the C4x target.

Thu Oct 22 16:46:35 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* loop.c (express_from): Make sure that when generating a PLUS of
	a PLUS, any constant expression appears on the outermost PLUS.

Thu Oct 22 15:46:23 1998  Per Bothner (bothner@cygnus.com)

	* Makefile.in (distdir-cvs, distdir-start):  Clean up so it
	works if "$(srcdir)" != ".".

Wed Oct 21 19:23:59 1998  Jim Wilson  <wilson@cygnus.com>

	* expmed.c (store_bit_field): If need to add a SUBREG, then remove
	existing SUBREG if we can, otherwise abort.

Wed Oct 21 09:58:51 1998  Mark Mitchell  <mark@markmitchell.com>

	* c-common.c (c_apply_type_quals_to_decl): Don't crash when
	`restrict' is applied to a non-pointer variable.

Wed Oct 21 09:18:58 1998  Mark Mitchell  <mark@markmitchell.com>

	* invoke.texi: Document -flang-isoc9x.

	* Makefile.in (OBJS): Add splay-tree.o.
	(c-common.o): Depend on rtl.h.
	(splay-tree.o): List dependencies and provide build rule.
	
	* rtl.h (record_alias_subset): New function.
	* alias.c: Include splay-tree.h.
	(alias_set_entry): New type.
	(CHECK_ALIAS_SETS_FOR_CONSISTENCY): Remove.
	(DIFFERENT_ALIAS_SETS_P): Use mem_in_disjoint_alias_sets_p.
	(mems_in_disjoin_alias_sets_p): New function.
	(alias_set_compare): Likewise.
	(insert_subset_children): Likewise.
	(get_alias_set_entry): Likewise.

	* tree.h (TYPE_RESTRICT): New macro.
	(TYPE_UNQUALIFIED): New manifest constant.
	(TYPE_QUAL_CONST): Likewise
	(TYPE_QUAL_VOLATILE): Likewise.
	(TYPE_QUAL_RESTRICT): Likewise.
	(tree_type): Add restrict_flag.  Reduce count of free bits.
	(DECL_POINTER_ALIAS_SET): New macro.
	(DECL_POINTER_ALIAS_SET_KNOWN_P): Likewise.
	(tree_decl): Add pointer_alias_set.
	(build_qualified_type): New function.
	(build_type_variant): Define in terms of build_qualified_type.
	* tree.c (set_type_quals): New function.
	(make_node): Initializae DECL_POINTER_ALIAS_SET.
	(build_type_attribute_variant): Use build_qualified_type and
	set_type_quals.
	(build_type_variant): Rename, and modify, to become...
	(build_qualified_type): New function.
	(build_complex_type): Use set_type_quals.

	* c-tree.h (C_TYPE_OBJECT_P): New macro.
	(C_TYPE_FUNCTION_P): Likewise.
	(C_TYPE_INCOMPLETE_P): Likewise.
	(C_TYPE_OBJECT_OR_INCOMPLETE_P): Likewise.
	(c_apply_type_quals_to_decl): New function.
	(c_build_qualified_type): New function.
	(c_build_type_variant): Define in terms of c_build_qualified_type.
	(flag_isoc9x): Declare.
	* c-typeck.c (qualify_type): Use c_build_qualified_type.
	(common_type): Change to use TYPE_QUALS.
	(comptypes): Likewise.
	(convert_for_assignment): Likewise.
	* c-aux-info.c (gen_type): Likewise.  Deal with `restrict'.
	* c-decl.c (flag_isoc9x): Define.
	(c_decode_option): Handle -flang-isoc9x.
	(grokdeclarator): Update to handle restrict.  Use TYPE_QUALS,
	c_build_qualified_type, etc.  Use c_apply_type_quals_to_decl.
	* c-lex.c (init_lex): Deal with restrict.
	(init_lex): Don't treat restrict as a reserved word in
	-traditional mode, or without -flang-isoc9x.
	* c-lex.h (rid): Add RID_RESTRICT.
	* c-parse.gperf (restrict, __restrict, __restrict__): Make
	equivalent to RID_RESTRICT.
	* c-parse.in (TYPE_QUAL): Update comment.
	* c-common.c: Include rtl.h.
	(c_find_base_decl): New function.
	(c_build_type_variant): Rename, and modify, to become ...
	(c_build_qualified_type): New function.
	(c_apply_type_quals_to_decl): Likewise.
	(c_get_alias_set): For INDIRECT_REFs, check to see if we can find
	a particular alias set for the reference.
	* toplev.c (documented_lang_options): Add -flang-isoc9x.

Wed Oct 21 09:15:06 1998  Nick Clifton  <nickc@cygnus.com>

	* config/arm/arm.h (TARGET_SWITCHES): Document arm specific
	command line switches.

Tue Oct 20 10:04:51 1998  Graham  <grahams@rcp.co.uk>

	* reload.c (loc_mentioned_in_p): Add missing braces to bind
	else to correct if.

Mon Oct 19 16:34:05 1998  Tom Tromey  <tromey@cygnus.com>

	* gcc.c (option_map): Added --classpath and --CLASSPATH.

Tue Oct 20 10:59:02 1998  Gavin Romig-Koch  <gavin@cygnus.com>

	* regclass.c (fix_register): Add error message.
	* invoke.texi (-fcall-used-REG,-fcall-saved-REG): Note the
	  new error message.

Tue Oct 20 10:12:17 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* c-decl.c (warn_missing_noreturn): New global variable.
	(c_decode_option): Check for new flags -W{no-}missing-noreturn.
	(finish_function): Implement missing noreturn warning.

	* c-tree.h (warn_missing_noreturn): Declare extern.

	* invoke.texi: Document new flags.

	* toplev.c (documented_lang_options): Add description.

Tue Oct 20 22:16:11 1998  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>

	* config/c4x/c4x.c (c4x_parallel_process): Disable until BCT
	loop optimization stable for the C4x.
	(c4x_rptb_info_t, c4x_dump, c4x_rptb_in_range, c4x_rptb_unjumped_loop,
	c4x_rptb_find_comp_and_jump, c4x_rptb_loop_info_get,
	c4x_rptb_emit_init, c4x_rptb_process): Deleted (superceded by BCT
	loop optimization).
	(c4x_address_conflict): Be more paranoid when packing a volatile
	memref in a parallel load/store.

Tue Oct 20 21:56:05 1998  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>

	* config/c4x/c4x.md (repeat_block_top, repeat_block_end,
 	repeat_block_filler): Deleted.
	(*ashlqi3_set, *ashrqi3_const_set, *ashrqi3_nonconst_clobber):
 	Condition code not set if destination register from 'c' class.
	(*subbqi3_carry_clobber): Fix typo.

1998-10-18 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>

	* reorg.c (steal_delay_list_from_target) Check for insns that
	modify the condition codes and effect the direction of the jump
	in the sequence.

Sat Oct 17 13:09:09 1998  Graham  <grahams@rcp.co.uk>

	* function.c (purge_addressof_1): Replace call to
        emit_insns_before() with emit_insn_before().

Mon Oct 19 19:34:03 1998  Mike Stump <mrs@wrs.com>

	* libgcc2.c (__pure_virtual): Call __terminate instead of _exit.

Mon Oct 19 13:26:24 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de> 

	* jump.c (sets_cc0_p): Compile only if HAVE_cc0.

Mon Oct 19 11:40:56 1998  Jeffrey A Law  (law@cygnus.com)

	* gcse.c (compute_hash_table): Correctly identify hard regs which are
	clobbered across calls.

	* loop.c (scan_loop): Be more selective about what invariants are
	moved out of a loop.

Mon Oct 19 10:46:58 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Oct 19 11:40:56 1998  Jeffrey A Law  (law@cygnus.com)

	* libgcc2.c (eh_context_static): Do not call malloc to allocate the
	static eh_context structure.

Mon Oct 19 10:45:40 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de> 

	* combine.c (recog_for_combine): Lose PADDED_SCRATCHES arg.  All
	callers changed.
	(try_combine): Don't update max_scratch.
	* flow.c (max_scratch, num_scratch): Delete variables.
	(life_analysis_1): Don't initialize max_scratch.
	(propagate_block): Don't update max_scratch.
	(mark_set_1): Don't increment num_scratch.
	* regs.h (max_scratch): Delete declaration.

Mon Oct 19 10:28:15 1998  Jeffrey A Law  (law@cygnus.com)

	* reload1.c (reload_reg_free_before_p): Hack.  Return 0 if EQUIV
	is nonzero.  This is temporary!

	* sched.c (update_flow_info): Handle death notes made invalid by
	instruction splitting.  Partially reverts Oct 15, 1998 patch.
	* haifa-sched.c (update_flow_info): Likewise.

Sun Oct 18 17:31:26 1998  Jeffrey A Law  (law@cygnus.com)

	* function.c (uninitialized_vars_warning): Do not warn for a VAR_DECL
	if it has a nonzero DECL_INITIAL.

Sat Oct 17 23:18:08 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* Makefile.in (flow.o): Depend on recog.h.

	* cpplib.h (directive_table): Add missing initializiers.
	(finclude): Change type of variable `bsize' to size_t.
	
	* cse.c (rtx_cost): Mark parameter `outer_code' with ATTRIBUTE_UNUSED.

	* dwarfout.h (dwarfout_label): Wrap prototype in macro RTX_CODE.

	* fix-header.c (lookup_std_proto): Cast the result of `strlen' to
	`int' when comparing against one.
	(cpp_file_line_for_message): Mark parameter `pfile' with
	ATTRIBUTE_UNUSED.
	(cpp_fatal): Mark parameter `pfile' with ATTRIBUTE_UNUSED.

	* flow.c: Include recog.h.
	(sbitmap_copy): Cast arguments 1 & 2 of `bcopy' to (PTR).

	* function.c (thread_prologue_and_epilogue_insns): Mark parameter
	`f' with ATTRIBUTE_UNUSED.
	(reposition_prologue_and_epilogue_notes): Likewise.

	* genopinit.c (gen_insn): Cast argument of ctype functions to
	`unsigned char'.

	* haifa-sched.c: Include recog.h.
	(blockage_range): Cast result of UNIT_BLOCKED macro to (int) when
	comparing against one.

	* libgcc2.a (__throw): Revert ATTRIBUTE_UNUSED change for now.

	* mips-tfile.c (parse_end): Cast the argument of ctype function to
	`unsigned char'.
	(parse_ent): Likewise.
	(parse_input): Likewise.

	* optabs.c (init_libfuncs): Likewise.

	* protoize.c (find_rightmost_formals_list): Likewise.

	* recog.h (const_double_operand): Fix typo in prototype.

	* tlink.c (scan_linker_output): Cast the argument of ctype
	function to `unsigned char'.

	* toplev.c (check_lang_option): Cast the result of `strlen' to
	`int' when comparing against one.

Sat Oct 17 13:09:09 1998  Graham  <grahams@rcp.co.uk>

	* gcse.c (dump_cuid_table): Correct typo.

Sat Oct 17 11:02:47 1998  Nick Clifton  <nickc@cygnus.com>

	* toplev.c (display_help): Prepend '-m' to target specific
	options. 
	(check_lang_option): Ignore text after end of first word of a
	language specific option.

Sat Oct 17 02:26:03 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de> 

	* reload1.c (reg_used_by_pseudo): New static variable.
	(choose_reload_regs): Initialize it.
	Use it instead of testing spill_reg_order to determine whether a
	pseudo is live in a hard register across the current insn.
	Fix a typo in a reference to reload_reg_rtx.

	* flow.c (propagate_block): Replace code that computes and uses
	regs_sometimes_live with simpler code that just walks the set of
	currently live registers.

	* Makefile.in (insn-extract.o): Fix dependencies.
	* genextract.c (main): Generate includes for insn-config.h and
	recog.h.
	Delete generation of declarations which are now in recog.h.
	* genrecog.c (main): Delete generation of definitions which are
	now in recog.c.
	* local-alloc.c (block_alloc): Use extract_insn and the variables
	it sets up instead of looking up values by insn_code.
	* recog.c (recog_operand, recog_operand_loc, recog_dup_loc,
	recog_dup_num): Define here instead of generating the definition in
	genrecog.c.
	(recog_n_operands, recog_n_dups, recog_n_alternatives,
	recog_operand_mode, recog_constraints, recog_operand_address_p):
	New variables.
	(extract_insn): New function.
	* recog.h (extract_insn): Declare function.
	(which_alternative, recog_n_operands, recog_n_dups,
	recog_n_alternatives, recog_operand_mode, recog_constraints,
	recog_operand_address_p): Declare variables.
	* regclass.c (n_occurrences): New static function.
	* reload.c (n_occurrences): Delete function.
	(find_reloads): Use extract_insn.
	* reload.h (n_occurrences): Delete declaration.

Sat Oct 17 01:17:51 1998  Jeffrey A Law  (law@cygnus.com)

	* reload1.c (reload_as_needed): Fix test for when to call
	update_eliminable_offsets.

Fri Oct 16 20:40:50 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	Fix consistency problems with reg_equiv_{mem,address};
	Improve reload inheritance;

	* reload.c (reload_out_reg): New variable.
	(loc_mentioned_in_p, remove_address_replacements): New functions.
	(remove_replacements): Deleted.
	(push_reload): Set reload_out_reg[i].
	When merging, also set reload_{in,out}_reg[i], and remove
	duplicate address reloads.
	(combine_reloads): Copy reload_out_reg[i].
	(find_reloads): Do make_memloc substitution also when
	reg_equiv_memory_loc[regno] and num_not_at_initial_offset
	are both nonzero.
	Include *recog_operand_loc in commutativity operand changes.
	Generate optional output reloads.
	Delete reference to n_memlocs.  Don't set *recog_operand_loc before
	processing operands.  Call make_memloc in reg_equiv_address code.
	Set *recog_operand_loc only after processing operands, and only
	if replace is true.  Return a value.
	When changing address reload types for operands that didn't get
	reloaded, use RELOAD_FOR_OPADDR_ADDRESS for
	RELOAD_FOR_INPADDR_ADDRESS / RELOAD_FOR_OUTADDR_ADDRESS reloads.
	Don't emit USEs for pseudo SUBREGs when not replacing.
	(find_reloads_address): Do make_memloc substitution also when
	reg_equiv_memory_loc[regno] and num_not_at_initial_offset
	are both nonzero.
	(find_reloads_toplev): Likewise.
	Call make_memloc in reg_equiv_address code.
	(debug_reload_to_stream): Add code to output reload_out_reg.
	(make_memloc): Delete local variable i, ifdefed out code, and
	references to memlocs and n_memlocs.
	(memlocs, n_memlocs): Delete.
	(push_secondary_reload): Clear reload_out_reg.
	(find_reloads_address_1): Provide memrefloc argument to all calls
	to find_reloads_address.
	In AUTO_INC code, handle non-directly addressable equivalences properly.
	* reload.h (reload_out_reg, num_not_at_initial_offset): Declare.
	(find_reloads): Add return type.
	(remove_address_replacements, deallocate_reload_reg): Declare.
	* reload1.c (num_not_at_initial_offset): No longer static.
	(delete_address_reloads, delete_address_reloads_1): Likewise.
	(deallocate_reload_reg): New function.
	(spill_reg_stored_to): New array.
	(eliminate_regs): Don't substitute from reg_equiv_memory_loc.
	(eliminate_regs_in_insn): Move assignments of previous_offset and
	max_offset fields, and recalculation of num_not_at_initial_offset
	into new static function:
	(update_eliminable_offsets) .
	(reload_as_needed): Call update_eliminable_offsetss after calling
	find_reloads.
	Call forget_old_reloads_1 with contents of reloaded auto_inc
	expressions if the actual addressing can't be changed to match the
	auto_inc.
	(choose_reload_regs): For inheritance, replace
	reload_reg_free_before_p test with reload_reg_used_at_all test, and
	remove stand-alone reload_reg_used_at_all test.
	Use reload_out_reg to determine which reload regs have output reloads.
	Treat reload_override_in more similar to inherited reloads.
	Handle (subreg (reg... for inheritance.
	For flag_expensive_optimizations, add an extra pass to remove
	unnecessary reloads from known working inheritance.
	Delete obsolete code for pseudos replaced with MEMs.
	Handle inheritance from auto_inc expressions.
	(emit_reload_insns): If reload_in is a MEM, set OLD to 
	reload_in_reg[j].
	Don't reload directly from oldequiv; if it's a pseudo with a
	stack slot, use reload_in[j].
	Check that reload_in_reg[j] is a MEM before replacing reload_in
	from reg_reloaded_contents.
	Include non-spill registers in reload inheritance processing.
	Also try to use reload_out_reg to set spill_reg_store /
	reg_last_reload_reg.
	In code to set new_spill_reg_store, use single_set to find out if
	there is a single set.
	Add code that allows to delete optional output reloads.
	Add code to allow deletion of output reloads that use no spill reg.
	At the end, set reload_override_in to oldequiv.
	Also call delete_output_reload if reload_out_reg is equal to old
	in oldequiv code.
	Add code to call delete_output_reload for stores with no matching load.
	Set / use spill_reg_stored_to.
        Handle case where secondary output reload uses a temporary, but
	actual store isn't found.
	When looking for a store of a value not loaded in order to call
	delete_output_reload, count_occurences should return 0 for no
	loads; but discount inherited input reloadill_reg_stored_to.
	Do checks for extra uses of REG.  Changed all
	callers.
	Use delete_address_reloads.
	(reload): Take return value of find_reloads into account.
	If a no-op set needs more than one reload, delete it.
	(reload_reg_free_before_p): RELOAD_FOR_INPUT
	can ignore RELOAD_FOR_INPUT_ADDRESS / RELOAD_FOR_INPADDR_ADDRESS
	for the same operand.
	(clear_reload_reg_in_use): Check for other reloads that keep a
	register in use.
	(reload_reg_free_for_value_p): handle RELOAD_FOR_OPERAND_ADDRESS /
	RELOAD_FOR_OPADDR_ADDR.
	Take into account when an address address reload is only needed
	for the address reload we are considering.
	(count_occurrences): Use rtx_equal_p for MEMs.
	(inc_for_reload): Return instruction that stores into RELOADREG.
	New argument two, IN, and rtx.  Changed all callers.
	(calculate_needs_all_insns, reload_as_needed):
	Don't clear after_call for a CLOBBER.
	Keep track of how many hard registers need to be copied from
	after_call, and don't clear after_call before we have seen
	that much copies, or we see a different instruction.

Fri Oct 16 10:58:23 1998  Jeffrey A Law  (law@cygnus.com)

	* flow.c (find_basic_blocks_1): Do not delete unreachable blocks
	after reload has completed.

Fri Oct 16 17:26:10 1998  Dave Brolley  <brolley@cygnus.com>

	* cpplib.c (cpp_get_token): Replace whitespace that occurs between
	a macro name and the next token with a single blank if that whitespace
	is in a macro buffer and the next token is not '('.

Fri Oct 16 15:44:02 1998  Dave Brolley  <brolley@cygnus.com>

        * cccp.c (rescan): Handle multibyte chartacters ending in backslash.
        (rescan): Ditto.
        (skip_if_group): Ditto.
        (skip_to_end_of_comment): Ditto.
        (macarg1): Ditto.
        (discard_comments): Ditto.
        (change_newlines): Ditto.

Fri Oct 16 15:26:24 1998  Dave Brolley  <brolley@cygnus.com>

        * c-lex.c (yylex): Fix unaligned access of wchar_t.

Fri Oct 16 10:47:53 1998  Nick Clifton  <nickc@cygnus.com>

	* config/arm/arm.h (TARGET_SWITCHES): Add --help documentation.
	(TARGET_OPTIONS): Add --help documentation.

Fri Oct 16 11:49:01 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* rtl.h (sets_cc0_p): Revert Oct 14 ATTRIBUTE_NORETURN change.

Fri Oct 16 07:08:46 1998  Bruce Korb <korb@datadesign.com>
	
	* fixinc/* Moved in from ../contrib directory in preparation
	for integrating it into the normal build process.  In particular,
	fixinc/Makefile.in must be config-ed into the build directory
	as fixinc/Makefile.  Proposed patches to ./Makefile.in and
	./configure.in will be "in the mail" momentarily.

Fri Oct 16 08:13:46 1998  David S. Miller  <davem@pierdol.cobaltnet.com>

	* cse.c (cse_basic_block): Fixup hash flushing loop so we do not
	accidently walk into the free list.  Comment how that can happen.
	(invalidate): Fix indentation.

Thu Oct 15 23:53:29 1998 Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>
			 Jeffrey A Law  (law@cygnus.com)

	* flow.c (life_analysis_1): Do not clobber regs_ever_live after
	reload.  Never perform rescans of the insn chain after reload.
	(propagate_block): Do not delete insn or create new autoinc addressing
	modes after reload.

	* jump.c (jump_optimize): Unconditionally use the code that was
	previously conditional on PRESERVE_DEATH_INFO_REGNO_P.
	* reload1.c (reload): When reloading is finished, delete all
	REG_DEAD and REG_UNUSED notes.
	(emit_reload_insns): Delete all code that was conditional on
	PRESERVE_DEATH_INFO_REGNO_P.
	(no_longer_dead_regs): Delete variable.
	(reload_cse_delete_death_notes): Delete function.
	(reload_cse_no_longer_dead): Delete function.
	(reload_cse_regs_1): Delete all code to handle deletion of death
	notes.
	(reload_cse_noop_set_p): Likewise.
	(reload_cse_simplify_set): Likewise.
	(reload_cse_simplify_operands): Likewise.
	(reload_cse_move2add): Likewise.
	* reorg.c (used_spill_regs): Delete declaration.
	(max_label_num_after_reload): Delete declaration.
	(find_dead_or_set_registers): Don't assume that spill regs are
	dead at a CODE_LABEL.
	* rtlanal.c (dead_or_set_regno_p): Death notes are always accurate,
	even after reload.
	* sched.c (sched_analyze_insn): Likewise.
	(update_flow_info): Likewise.
	* haifa-sched.c (sched_analyze_insn): Likewise.
	(update_flow_info): Likewise.
	* tm.texi (PRESERVE_DEATH_INFO_REGNO_P): Delete documentation.
	* toplev.c (max_label_num_after_reload): Delete variable.
	(rest_of_compilation): Don't set max_label_num_after_reload.
	Call life_analysis after reload_cse_regs if optimizing.
	* config/gmicro/gmicro.h: Delete comment referring to
	PRESERVE_DEATH_INFO_REGNO_P.
	* config/i386/i386.h: Likewise.
	* config/m88k/m88k.h: Likewise.
	* config/m32r/m32r.h (PRESERVE_DEATH_INFO_REGNO_P): Delete definition.
	* config/sh/sh.h: Likewise.

Thu Oct 15 19:48:41 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* loop.c (strength_reduce): Restore marking bct_p as
	ATTRIBUTE_UNUSED.
	* rs6000.c (optimization_options): Change #ifdef HAIFA to
	HAVE_decrement_and_branch_on_count.
	(small_data_operand): Remove TARGET_ELF condition for marking
	parameters ATTRIBUTE_UNUSED.
	
Thu Oct 15 11:45:51 1998  Robert Lipe  <robertl@dgii.com>

	* config/i386/sco5.h (MAX_OFILE_ALIGNMENT):  Define.
	(SELECT_SECTION): Resync with svr4.h.

Thu Oct 15 12:42:13 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* loop.c (strength_reduce): Undo Oct 14 change marking bct_p
	ATTRIBUTE_UNUSED.

Thu Oct 15 00:57:55 1998  Robert Lipe  <robertl@dgii.com>

	* c-pragma.c (handle_pragma_token): Test for null tree before
	dereferencing TREE_CODE.

Thu Oct 15 17:36:48 1998  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>

	* config/c4x/c4x.c: Convert to use GEN_INT.
	(c4x_parallel_process): Rework to handle new repeat loop structure.

	* config/c4x/c4x.md: Convert to use GEN_INT. 
	(rptb_end): Convert to use GE test.  Replace uses with clobbers.
	(decrement_and_branch_on_count): Likewise.

	* config/c4x/c4x.h (REPEAT_BLOCK_PROCESS): Deleted hook now that
	loop.c has the desired functionality.
	(rc_reg_operand): New prototype.

	* config/c4x/t-c4x: Can now build all front ends.

Wed Oct 14 23:27:08 1998  Didier FORT (didier.fort@fedex.com)

	* fixincludes: Fix up rpc/{clnt,svr,xdr}.h for SunOS.

Wed Oct 14 22:13:28 1998  Joel Sherrill (joel@OARcorp.com)

	* Makefile.in (stmp-fixinc): Do not install assert.h if not desired.
	* config/t-rtems: Do not install assert.h -- use newlib's.

Wed Oct 14 21:57:08 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* combine.c (combine_instructions): When finished, call init_recog.
	* regmove.c (optimize_reg_copy_3): Reject volatile MEMs.

Wed Oct 14 16:10:22 1998  Per Bothner  <bothner@cygnus.com>

	* toplev.c:  If flag_syntax_only, don't open or write assembler file.

Wed Oct 14 13:26:05 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* cppalloc.c (memory_full): Mark function prototype with
	ATTRIBUTE_NORETURN.

	* demangle.h (collect_exit): Likewise.

	* fix-header.c (v_fatal, fatal): Likewise.

	* gcc.c (pfatal_with_name, pfatal_pexecute, fatal, fancy_abort):
	Likewise.

	* gcov.c (print_usage): Likewise.

	* genattr.c (fatal, fancy_abort): Likewise.

	* genattrtab.c (fatal, fancy_abort): Likewise.

	* gencodes.c (fatal, fancy_abort): Likewise.

	* genconfig.c (fatal, fancy_abort): Likewise.

	* genemit.c (fatal, fancy_abort): Likewise.

	* genextract.c (fatal, fancy_abort): Likewise.

	* genflags.c (fatal, fancy_abort): Likewise.

	* genopinit.c (fatal, fancy_abort): Likewise.

	* genoutput.c (fatal, fancy_abort): Likewise.

	* genpeep.c (fatal, fancy_abort): Likewise.

	* genrecog.c (fatal, fancy_abort): Likewise.

	* libgcc2.c (__eprintf, __default_terminate, __sjthrow,
	__sjpopnthrow, __throw): Likewise.

	* objc/objc-act.c (objc_fatal): Likewise.

	* protoize.c (usage, aux_info_corrupted,
	declare_source_confusing): Likewise.

	* rtl.c (dump_and_abort): Likewise.

	* rtl.h (sets_cc0_p): Likewise.

	* toplev.c (float_signal, pipe_closed): Likewise.
	
1998-10-14  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>

	* dwarf2out.c (expand_builtin_dwarf_reg_size): Look at all ranges
	when generating the decision tree for the general case.

	* config/m68k/m68k.h (HARD_REGNO_MODE_OK): Don't accept modes
	wider that 12 bytes in fpu regs or wider than 8 byte in fpa regs.

Wed Oct 14 11:14:02 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* Makefile.in (sched.o): Depend on recog.h.

	* alias.c (REG_BASE_VALUE): Cast the result of REGNO() macro to
	(unsigned) when comparing against one.
	(find_base_value): Likewise.
	(record_base_value): Cast variable `regno' to (unsigned) when
	comparing against one.  Cast the result of REGNO() macro to
	(unsigned) when comparing against one.
	(memrefs_conflict_p): Change type of variables `r_x' and `r_y'  to
	unsigned.
	(init_alias_analysis): Add unsigned variable `ui'.  Use it as loop
	variable where an unsigned index is needed.

	* caller-save.c (init_caller_save): Cast `-1' to (enum insn_code)
	before comparing against one.

	* collect2.c: Add prototypes for functions `error', `fatal' and
	`fatal_perror'.  Make these functions take variable arguments
	instead of faking it with a fixed number of args.
	(write_c_file_stat): Cast the argument of ctype macro to (unsigned
	char).

	* combine.c (can_combine_p): Mark parameter `pred' with
	ATTRIBUTE_UNUSED.
	(find_split_point): Cast variable `src' to (unsigned
	HOST_WIDE_INT) when comparing against one.
	(simplify_rtx): Cast 1 to (unsigned HOST_WIDE_INT) in shift.
	(simplify_logical): Likewise.
	(force_to_mode): Cast result of INTVAL() macro to (unsigned
	HOST_WIDE_INT) when comparing against one.  Cast 1 to (unsigned
	HOST_WIDE_INT) in shift.
	(simplify_and_const_int): Cast result of INTVAL() macro to
	`unsigned HOST_WIDE_INT' when comparing against one.
	(merge_outer_ops): Cast variable const0 to `unsigned
	HOST_WIDE_INT' when comparing against the result of
	GET_MODE_MASK() macro.
	(simplify_comparison): Likewise for variable `c0'.  Cast variable
	`const_op' to `unsigned HOST_WIDE_INT' when comparing against
	one.  Cast `1' to `unsigned HOST_WIDE_INT' in shift.  Cast the
	result of `GET_MODE_MASK()/2' to `HOST_WIDE_INT' when comparing
	against one.  Cast `1' to `unsigned HOST_WIDE_INT' in shift.  Cast
	result of INTVAL() macro to `unsigned HOST_WIDE_INT' when
	comparing against one.
	(distribute_notes): Wrap variable `cc0_setter' in macro `HAVE_cc0'.

	config/mips/mips.c (gen_int_relational): Cast result of INTVAL()
	macro to `unsigned HOST_WIDE_INT' when comparing against one.
	(output_block_move): Cast `sizeof' expression to (int) when
	comparing against one.
	(function_arg): Cast BITS_PER_WORD to `unsigned' when comparing
	against one.
	(save_restore_insns): Cast `base_offset' to `long' to match format
	specifier in fprintf.

	* config/mips/mips.h (Pmode): Cast the result of `Pmode' macro
	to `enum machine_mode'.

	* flow.c (life_analysis_1): Remove unused variable `insn'.

	* gcc.c (translate_options): Move variables `j' and `k' into the
	scope in which they are used.  Change their types to `size_t'.
	(set_spec): Cast the argument of ctype macro to `unsigned char'.
	(read_specs): Likewise.
	(process_command): Cast `sizeof' to (int) when comparing against one.
	(do_spec_1): Cast the argument of ctype macro to `unsigned char'.
	(handle_braces): Cast both sides of `==' expression to `long' to
	ensure sign matching.
	(main): Cast variable `i' to `int' when comparing against one.

	* gcov-io.h (__fetch_long): Change type of parameter `bytes' from
	int to size_t.  Cast variable `i' to size_t when comparing against
	one.

	* genattrtab.c (convert_set_attr_alternative): Remove unused
	parameter `insn_code'.  All callers changed.
	(convert_set_attr): Likewise.

	* genrecog.c (add_to_sequence): Cast result of XVECLEN() macro to
	size_t when comparing against one.  Likewise for variable `len'.

	* global.c (global_alloc): Cast variable `max_regno' to size_t
	when comparing against one.  Likewise for variable `max_allocno'.

	* jump.c (sets_cc0_p): Mark parameter `x' with ATTRIBUTE_UNUSED.

	* local-alloc.c (validate_equiv_mem_from_store): Mark parameter
	`set' with ATTRIBUTE_UNUSED.
	(find_free_reg): Cast `sizeof' expression to (int) when comparing
	against one.

	* loop.c (count_loop_regs_set): Remove unused variable `dest'.
	(strength_reduce): Mark parameter `bct_p' with ATTRIBUTE_UNUSED.
	(get_condition): Cast variable `const_val' to `unsigned
	HOST_WIDE_INT' when comparing against one.  Cast unsigned
	expression to HOST_WIDE_INT when comparing against one.
	(insert_loop_mem): Mark parameter `data' with ATTRIBUTE_UNUSED.
	(load_mems_and_recount_loop_regs_set): Cast variable `nregs' to
	`unsigned' when comparing against one.

	* protoize.c (is_id_char): Change type of parameter `ch' to
	unsigned char.
	(munge_compile_params): Cast argument of ctype macro to (const
	unsigned char).
	(process_aux_info_file): Cast variable `aux_info_size' to int when
	comparing against one.
	(forward_to_next_token_char): Cast argument of ctype macro to
	`const unsigned char'.
	(edit_formals_lists): Likewise.
	(find_rightmost_formals_list): Likewise.
	(add_local_decl): Likewise.
	(add_global_decls): Likewise.
	(edit_fn_definition): Likewise.
	(do_cleaning): Likewise.
	(scan_for_missed_items): Likewise.
	(edit_file): Cast variable `orig_size' to (int) when comparing
	against one.
	(main): Cast argument of ctype macro to `const unsigned char'.

	* recog.c (const_int_operand): Mark parameter `mode' with
	ATTRIBUTE_UNUSED.

	* regclass.c (record_reg_classes): Change type of variable `c' to
	`unsigned char'.  Cast `char' array index to `unsigned char'.

	* reload.c (push_secondary_reload): Cast argument to
	REG_CLASS_FROM_LETTER() macro to `unsigned char'.

	* reload1.c (calculate_needs): Cast `char' array index to
	`unsigned char'.
	(set_label_offsets): Change type of variable `i' to unsigned int.
	Cast result of XVECLEN() macro to unsigned when comparing against
	one.
	(mark_not_eliminable): Change type of variable `i' to unsigned.
	(order_regs_for_reload): Likewise.  Cast `max_regno' to unsigned
	when comparing against one.
	(reload_as_needed): Cast macro NUM_ELIMINABLE_REGS to (int) when
	comparing against one.
	(choose_reload_regs): Hide unused label `fail'.
	(reload_cse_simplify_operands): Cast `char' array index to
	`unsigned char'.
	(reload_combine_note_store): Mark parameter `set' with
	ATTRIBUTE_UNUSED.  Cast UNITS_PER_WORD to unsigned when comparing
	against one.
	(reload_cse_move2add): Remove unused variable `src2'.

	* sched.c: Include recog.h.
	(sched_note_set): Remove unused parameter `b'.  All callers
	changed.
	(split_hard_reg_notes): Likewise for parameter `orig_insn'.
	(blockage_range): Cast result of UNIT_BLOCKED() macro to (int)
	when comparing against one.

	* stupid.c (stupid_find_reg): Mark parameter `changes_size' with
	ATTRIBUTE_UNUSED.  Cast `sizeof' expression to (int) when
	comparing against one.

	* unroll.c (precondition_loop_p): Remove unused parameter
	`loop_end'.  All callers changed.

Tue Oct 13 22:12:11 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* reload1.c (maybe_fix_stack_asms): New static function.
	(reload): Call it.

	* reload.h (compute_use_by_pseudos): Declare.

	* reload1.c (spilled_pseudos, insns_need_reload): New variables.
	(something_needs_reloads): Delete variable.
	(finish_spills): New function.
	(compute_use_by_pseudos): New function.

	(delete_caller_save_insns): Lose argument FIRST.  All callers changed.
	Use the reload_insn_chain instead of walking the rtl directly.

	(reload): Allocate and free spilled_pseudos.
	Ensure that all calls of spill_hard_reg are followed by a call to
	finish_spills.
	Use the insns_need_reload list instead of something_needs_reloads
	to find out if reload_as_needed must be called.
	Clear unused_insn_chains at the end.

	(calculate_needs_all_insns): Lose FIRST parameter.  All callers
	changed.
	Delete code to keep track of current basic block.
	Walk reload_insn_chain instead of the rtl structure.  Build the
	insns_need_reload chain.
	Remember which insns need reloading/elimination by setting the
	appropriate fields in struct insn_chain, not by putting modes on the
	insn.

	(calculate_needs): Lose THIS_BLOCK arg.  Accept arg CHAIN instead of
	arg INSN.  All callers changed.
	Delete declaration of struct needs.
	Don't set something_needs_reloads.
	Record insn needs in the CHAIN argument.

	(spill_hard_reg): Record the affected pseudos in spilled_pseudos.

	(reload_as_needed): Lose FIRST arg.  All callers changed.
	Walk the reload_insn_chain instead of the rtx structure.
	Delete code to keep track of current basic block.
	Rename one of the NEXT variables to OLD_NEXT.

	(allocate_reload_reg): Accept arg CHAIN instead of arg INSN.  All
	callers changed.
	(choose_reload_regs): Likewise.

	(emit_reload_insns): Replace INSN and BB args with arg CHAIN.  All
	callers changed.
	
	* caller-save.c (MOVE_MAX_WORDS): New macro.  Use it throughout
	instead of (MOVE_MAX / UNITS_PER_WORD) computation.
	(hard_regs_live, hard_regs_need_restore): Delete variables.
	(n_regs_saved): Now static.
	(referenced_regs, this_insn_sets): New variables.

	(setup_save_areas): Restructure the code a bit.

	(restore_referenced_regs): Delete function.
	(mark_referenced_regs): New function, similar to the old
	restore_referenced_regs, but mark registers in referenced_regs.

	(clear_reg_live): Delete function.
	(mark_set_regs): Renamed from set_reg_live.  All callers changed.
	Only mark registers in this_insn_sets.

	(save_call_clobbered_regs): Rework this function to walk the
	reload_insn_chain instead of using the list of instructions directly.
	Delete code to keep track of register lives, compute live regs on the
	fly from information in the chain.
	Instead of calling restore_referenced_regs, use mark_referenced_regs,
	then walk the set it computes and call insert_restore as appropriate.

	(insert_restore): Lose INSN and BLOCK args.  Add CHAIN arg.  All
	callers changed.
	Restructure the code a bit.  Test hard_regs_saved instead of
	hard_regs_need_restore.
	(insert_save): Lose INSN and BLOCK args.  Add CHAIN and TO_SAVE
	args.  All callers changed.
	Restructure the code a bit.  Use TO_SAVE to determine which regs to
	save instead of more complicated test.
	(insert_one_arg): Lose INSN and BLOCK args.  Add CHAIN arg.  All
	callers changed.
	Create a new insn_chain structure for the new insn and place it
	into the chain.

	* rtl.texi: Update documentation to reflect that reload no longer
	puts modes on the insns.

1998-10-14  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>

	* function.c (purge_addressof_1): Force the first argument of a
	CALL insn to memory.

Wed Oct 14 00:38:40 1998  Jeffrey A Law  (law@cygnus.com)

	* rtl.h: Delete duplicate prototypes.  Add some missing
	prototypes.
	* rtlanal.c: (for_each_rtx): Formatting tweak.

1998-10-13 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>

	* real.c (emdnorm and etoasc): Disable round to even for c4x target
	to be compatible with TI compiler.

	* Makefile.in (USER_H): Add va-c4x.h to definition.

Tue Oct 13 23:03:37 1998  Richard Henderson  <rth@cygnus.com>

	* function.c (purge_addressof_1): Fix typo in inequality: do
	bitfield optimization for equal mode sizes.
	* expmed.c (store_bit_field): Don't take subregs of subregs in
	the movstrict case.  Tidy a potential problem in the multi-word case.
	(extract_bit_field): Likewise.

Tue Oct 13 22:12:11 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

        * flow.c (find_basic_blocks): Emit NOPs after normal calls in this
        function.
        Compute max_uid_for_flow by calling get_max_uid after the scan.
        (find_basic_blocks_1): Don't emit NOPs here.

Tue Oct 13 22:05:49 1998  Richard Henderson  <rth@cygnus.com>

	* alias.c (base_alias_check): Accept new args for the modes of the
	two references.  Use them to determine if an AND can overlap.  Update
	all callers.
	(memrefs_conflict_p): Assume sizes are aligned, and uses them
	to determine if an AND can overlap.

Tue Oct 13 17:51:04 1998  Jim Wilson  <wilson@cygnus.com>

	* config/m68k/m68k.h (HARD_REGNO_MODE_OK): For FP regs, add REGNO >= 16
	check.  Add comment to document problems with TARGET_SUN_FPA version
	of this macro.
	* config/m68k/m68k.md (movxf+1): Support 'r'/'r' moves.

Tue Oct 13 17:46:18 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* Makefile.in (gencheck.o): Depend on gansidecl.h.

	* c-common.c (print_char_table): Add missing initializers.
	(scan_char_table): Likewise.
	(time_char_table): Likewise.

	* c-decl.c (c_decode_option): Mark parameter `argc' with
	ATTRIBUTE_UNUSED.
	(declare_parm_level): Mark parameter `definition_flag' with
	ATTRIBUTE_UNUSED.

	* c-lex.c (readescape): Use `(unsigned)1' in shift.
	(yylex): Likewise.  Cast `sizeof' to an (int) when comparing
	against one.

	* calls.c (store_one_arg): Remove unused parameter `fndecl'.  All
	callers changed.
	(emit_call_1): Mark parameters `fndecl' and `funtype' with
	ATTRIBUTE_UNUSED.
	(expand_call): Cast result of MIN() to (unsigned int) when
	comparing against an unsigned value.

	* cccp.c (pcfinclude): Remove unused parameter `limit'.  All
	callers changed.
	(make_definition): Remove unused parameter `op'.  All callers
	changed.
	(create_definition): Cast REST_EXTENSION_LENGTH to (long) when
	comparing against the result of pointer arithmetic.

	* config/mips/mips.h (FUNCTION_ARG_BOUNDARY): Cast to (unsigned)
	when comparing against one.

	* dwarf2out.c (dwarf2out_frame_debug): Cast REGNO() and
 	HARD_FRAME_POINTER_REGNUM to (unsigned) when comparing against
 	one.
	(output_die): Move variable `i' into the scope in which it is
	used.  Change its type to `unsigned'.
	(output_die): Cast the result of `strlen' to (int) when passing it
	to ASM_OUTPUT_ASCII().
	(output_pubnames): Likewise.
	(output_line_info): Likewise.

	* emit-rtl.c (global_rtl): Add missing initializers.

	* explow.c (promote_mode): Mark parameter `for_call' with
	ATTRIBUTE_UNUSED.

	* expmed.c (expand_shift): Cast the result of GET_MODE_BITSIZE to
 	`unsigned HOST_WIDE_INT' when comparing against one.
	(synth_mult): Change type of variable `cost' to int.
	(emit_store_flag): Use `(unsigned HOST_WIDE_INT) 1' in shift.

	* expr.c (copy_blkmode_from_reg): Cast BITS_PER_WORD to (unsigned)
	when comparing against one.
	(get_inner_reference): Change variable `alignment' to unsigned.
	(expand_expr): Cast the result of GET_MODE_ALIGNMENT to (unsigned
	int) when comparing against one.
	(expand_builtin_setjmp): Change type of variable `i' to size_t.

	* fold-const.c (div_and_round_double): Cast BASE to
	(HOST_WIDE_INT) when comparing against one.

	* gencheck.c: Include gansidecl.h.
	(main): Mark parameter `argv' with ATTRIBUTE_UNUSED.

	* optabs.c (gen_cond_trap): Mark parameters `code', `op2' and
	`tcode' with ATTRIBUTE_UNUSED.

	* real.c (edivm): Cast constant value to (unsigned long) in
	expression compared against an unsigned value.

	* stmt.c (expand_return): Cast BITS_PER_WORD to (unsigned) when
	comparing against one.
	(expand_end_case): Cast CASE_VALUES_THRESHOLD to (unsigned int)
	when comparing against one.

	* stor-layout.c (mode_for_size): Cast MAX_FIXED_MODE_SIZE to
	(unsigned int) when comparing against one.  Likewise for
	GET_MODE_BITSIZE.
	(smallest_mode_for_size): Likewise.
	(save_storage_status): Mark parameter `p' with ATTRIBUTE_UNUSED.
	(restore_storage_status): Likewise.
	
	* toplev.c (debug_args): Add missing initializer.
	(f_options): Spelling correction.  Add missing initializers.
	(documented_lang_options): Likewise.
	(debug_end_source_file): Mark parameter `lineno' with
	ATTRIBUTE_UNUSED.

	* tree.c (valid_machine_attribute): Mark parameters `attr_args',
	`decl' and `type' with ATTRIBUTE_UNUSED.

	* varasm.c (decode_reg_name): Cast `sizeof' expression to (int)
	when comparing against one.
	(assemble_variable): Mark parameter `top_level' with
	ATTRIBUTE_UNUSED.
	(assemble_external_libcall): Mark parameter `fun' with
	ATTRIBUTE_UNUSED.
	(output_constant_pool): Mark parameters `fnname' and `fndecl' with
	ATTRIBUTE_UNUSED.

Tue Oct 13 12:51:04 1998  Nick Clifton  <nickc@cygnus.com>

	* config/v850/lib1funcs.asm (_udivsi3): Add .type declaration.
	Replace use of r5 with use of r19.

	* config/v850/v850.h (LINK_POINTER_REGNUM): Define.

	* config/v850/v850.c (compute_register_save_size): Allow for the
	fact that helper functions save all registers, not just those used
	by the function.
	
	Replace constant 31 with macro LINK_POINTER_REGNUM.

	* config/v850/v850.md: Use 'indirect_operand' rather than
	'memory_operand' for bit test/set/clear patterns.

Tue Oct 13 11:49:14 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* mips/iris6.h (ASM_OUTPUT_WEAK_ALIAS): Call ASM_GLOBALIZE_LABEL.
	* varasm.c (assemble_start_function et al): Don't call
	ASM_GLOBALIZE_LABEL for weak symbols.

Tue Oct 13 11:37:45 1998  Nick Clifton  <nickc@cygnus.com>

	* cse.c (equiv_constant): Check for NULL return from
	gen_lowpart_if_possible().

Tue Oct 13 11:24:51 1998  Jeffrey A Law  (law@cygnus.com)

	* mn10200.md (addsi3, subsi3, negsi2): Only allow register operands.

	* collect2.c (main): Pass -EL/-EB through to the compiler.

1998-10-12 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>
	
	* expr.c (push_block): Handle targets where the stack grows
	to higher addresses, but args grow to lower addresses and
	ACCUMULATE_OUTGOING_ARGS is not defined.

Tue Oct 13 08:00:52 1998  Catherine Moore  <clm@cygnus.com>

        * config/v850/v850.c (print_operand):  Extend meaning
        of 'c' operands to support .vtinherit.

Tue Oct 13 21:38:35 1998  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>

	* config/c4x/c4x.c:  Convert to gen_rtx_FOO.
	Added ATTRIBUTE_UNUSED to unused function arguments.
	(rc_reg_operand): New predicate.
	(c4x_rptb_insert): New function.
	(c4x_rptb_nop_p): Recognize modified rptb_top pattern.
	(c4x_optimization_options): New function.

	* config/c4x/c4x.md: Convert to gen_rtx_FOO.
	 (decrement_and_branch_on_count): New pattern.
	 (rptb_top): Modified pattern to work with BCT optimization.
	
	* config/c4x/c4x.h (RC_REG): New register class.
	(rc_reg_operand): Define prototype.
	(IS_RC_REG): New macro.
	(IS_RC_OR_PSEUDO_REG): New macro.
	(IS_RC_OR_PSEUDO_REGNO): New macro.
	(OPTIMIZATION_OPTIONS): Define.

Mon Oct 12 19:57:34 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* collect2.c (extract_init_priority): No priority is 65535.

Mon Oct 12 12:10:37 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>
	
	* Makefile.in (build_tooldir): new variable, same as old
	$(tooldir), but without depending on $(libdir)/$(unlibsubdir)
	(GCC_FOR_TARGET): add -B$(build_tooldir)/bin/
	(bootstrap, bootstrap2, bootstrap3, bootstrap4): ditto
	
	* configure.in (gxx_include_dir): set default based on unlibsubdir
	* Makefile.in (tooldir): ditto
	(cccp.o, cpplib.o): use unlibsubdir implicitly through
	gxx_include_dir, includedir and tooldir
	(protoize.o, unprotoize.o): ditto
	
Mon Oct 12 10:50:44 1998  Nick Clifton  <nickc@cygnus.com>

	* config/arm/arm.md: Replace (reg 24) with (reg:CC 24).

	* config/arm/thumb.c (thumb_override_options): Add warning about
	PIC code not being supported just yet.

Sun Oct 11 16:49:15 EDT 1998  John Wehle  (john@feith.com)

	* flow.c: Update comment.
	(notice_stack_pointer_modification): New static function.
	(record_volatile_insns): Use it.
	(mark_regs_live_at_end): Mark the stack pointer as alive
	at the end of the function if current_function_sp_is_unchanging
	is set.
	(life_analysis_1): Set current_function_sp_is_unchanging.
	* function.c: Define it.
	(init_function_start): Initialize it.
	* output.h: Declare it.
	* reorg.c (fill_simple_delay_slots, dbr_schedule): Mark
	the stack pointer as alive at the end of the function if
	current_function_sp_is_unchanging is set.
	* i386.c (ix86_epilogue): Optimize the restoring
	of the stack pointer.

Mon Oct 12 01:22:53 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Sun Oct 11 23:04:30 1998  Robert Lipe  <robertl@dgii.com>

        * c-pragma.c (handle_pragma_token): If passed a token instead
        of a tree, use that as the pack value.

Sun Oct 11 14:21:14 1998  Mark Mitchell  <mark@markmitchell.com>

	* flow.c (find_basic_blocks_1): Fix prototype.

Sun Oct 11 05:03:41 1998  Ken Raeburn  <raeburn@cygnus.com>

	* tree.h (DECL_NO_CHECK_MEMORY_USAGE): New macros.
	(struct tree_decl): New fields no_check_memory_usage.
	* c-common.c (enum attrs): Add A_NO_CHECK_MEMORY_USAGE.
	(init_attributes): Register it as a new attribute.
	(decl_attributes): Set flags on functions given that attribute.
	* c-decl.c (duplicate_decls): Merge new attribute.
	* expr.h (current_function_check_memory_usage): Declare new var.
	* calls.c, expr.c, function.c, stmt.c, alpha.c, clipper.c, m88k.c,
	pa.c, sparc.c: Replace uses of flag_check_memory_usage with
	current_function_check_memory_usage.
	* function.h: Add field to struct function.
	* function.c (current_function_check_memory_usage): Define it.
	(push_function_context_to, pop_function_context_from): Save and
	restore it.
	(expand_function_start): Set it, based on global flag and function
	attribute.

	* expr.c (expand_expr, case VAR_DECL): In memory-checking code, do
	check non-automatic variables, to permit detection of writes to
	read-only locations in embedded systems without memory management.
	* calls.c (store_one_arg): Use ARGS_SIZE_RTX to get size of argument
	when emitting chkr_set_right_libfunc call, even if the argument is
	BLKmode or variable-sized; don't abort.

	* optabs.c (init_optabs): Create Checker and __cyg_profile_*
	symbols in Pmode, not VOIDmode.

Sun Oct 11 01:03:05 1998  Zack Weinberg  <zack@rabi.phys.columbia.edu>

	* cppexp.c: When forcing unsigned comparisons, cast both sides
	of the operation.

	* cpphash.h: Move static declaration of hashtab[]...
	* cpphash.c: ...here.

	* cpplib.c: Cast difference of two pointers to size_t before
	comparing it to size_t.  Cast signed to unsigned
	before comparing to size_t. (FIXME: struct argdata should use
	unsigned buffer sizes.)
	* cpplib.h (struct cpp_reader): Declare token_buffer_size as
	unsigned int. (CPP_WRITTEN): Cast return value to size_t.
	(CPP_RESERVE): Parenthesize N for evaluation order, cast to
	size_t before comparison.

Sun Oct 11 00:15:29 1998  Jeffrey A Law  (law@cygnus.com)

	* flow.c (find_basic_blocks): Delete "live_reachable_p" argument.
	(find_basic_blocks_1): Similarly.
	* output.h (find_basic_blocks): Fix prototype.
	* gcse.c, toplev.c: Don't pass "live_reachable_p" argument to
	find_basic_blocks anymore.

Sat Oct 10 22:00:34 1998  Richard Henderson  <rth@cygnus.com>

        * basic-block.h (EXECUTE_IF_SET_IN_SBITMAP): New macro.
        (sbitmap_free, sbitmap_vector_free): New macros.
        * output.h (rtl_dump_file): Declare.

Sat Oct 10 17:01:42 1998  Jeffrey A Law  (law@cygnus.com)

	* regmove.c (optimize_reg_copy_3): Honor TRULY_NOOP_TRUNCATION.

Fri Oct  9 22:08:05 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* fp-bit.c (SFtype): Don't implicitly use int in declaration.
	(DFtype): Likewise.
	(_fpdiv_parts): Remove unused parameter `tmp', all callers changed.
	(divide): Remove unused variable `tmp'.
	(si_to_float): Cast numeric constant to (SItype) before comparing
	it against one.

Fri Oct  9 16:03:19 1998  Graham  <grahams@rcp.co.uk>

	* flow.c (print_rtl_with_bb): Changed type of in_bb_p to match use.
	* gcc.c (add_preprocessor_option): Correct typo when allocating
	memory, sizeof() argument had one too many `*'.
	(add_assembler_option): Likewise.
	(add_linker_option): Likewise.
	* gcov.c (output_data): Likewise.
	* local-alloc.c (memref_used_between_p): Likewise.
	(update_equiv_regs): Likewise.
	* loop.c (strength_reduce): Likewise.
	* reg-stack.c (record_asm_reg_life): Likewise.
	(subst_asm_stack_reg): Likewise.
	* reorg.c (dbr_schedule): Likewise.

Fri Oct  9 15:57:51 1998  Bernd Schmidt <crux@Pool.Informatik.RWTH-Aachen.DE>

	* flow.c (life_analysis_1): Break out some functions.
	(find_basic_blocks_1): Likewise.  Also move some variables out and
	make them static.
	Rename NONLOCAL_LABEL_LIST arg to NONLOCAL_LABELS and initialize
	new static var nonlocal_label_list with it.
	(active_eh_region, nested_eh_region, label_value_list,
	nonlocal_label_list): New static variables.
	(make_edges, delete_unreachable_blocks, delete_block): New static
	functions, broken out of find_basic_blocks_1.
	(record_volatile_insns, mark_regs_live_at_end, set_noop_p,
	noop_move_p): New static functions, broken out of life_analysis_1.

Fri Oct  9 15:49:29 1998  Richard Henderson  <rth@cygnus.com>

	* expmed.c (store_bit_field): Pun non-integral str_rtx modes.
	Take extra care for op0 now possibly being a subreg.
	(extract_bit_field): Likewise.
	* function.c (purge_addressof_1): Revert Oct 4 change.  Drop
	the reg to memory if there is no equal sized integral mode.
	* stor-layout.c (int_mode_for_mode): New function.
	* machmode.h: Prototype it.

Fri Oct  9 14:26:44 1998  Jeffrey A Law  (law@cygnus.com)

	* global.c (build_insn_chain): Verify no real insns exist past the
	end of the last basic block, then exit the loop.

Fri Oct  9 11:44:47 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* loop.c (insert_bct): Ensure loop_iteration_var non-zero before use.

Thu Oct  8 21:59:47 1998  Dave Brolley  <brolley@cygnus.com>

	* emit-rtl.c (init_emit_once): Call INIT_EXPANDERS.

Thu Oct  8 22:03:45 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.h (RTX_COSTS): Add PROCESSOR_PPC604e cases.

Thu Oct  8 17:00:18 1998  Richard Henderson  <rth@cygnus.com>

	* flow.c (find_basic_blocks): Correctly determine when a call
	is within an exception region.

Thu Oct  8 17:15:04 1998  Jeffrey A Law  (law@cygnus.com)

	* toplev.c (output_file_directive): Use DIR_SEPARATOR, not '/'.

	* cpplib.h: Protect from multiple inclusions.
	* cpplib.c: Fix minor formatting problems.

	* i386/xm-cygwin32.h: Only define POSIX if it is not already defined.

	* jump.c (jump_optimize): Revert accidental patch.

	* Makefile.in (cpplib.o): Use unlibsubdir.

Thu Oct  8 12:50:47 1998  Jim Wilson  <wilson@cygnus.com>

	* loop.c (get_condition): Allow combine when either compare is
	VOIDmode.

Thu Oct 8 11:31:01 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Thu Oct  8 12:21:14 1998  Richard Frith-Macdonald <richard@brainstorm.co.uk>

	* c-lex.c (remember_protocol_qualifiers): Handle RID_BYREF.
	(init_lex): Initialize ridpointers[RID_BYREF].
	* c-lex.h (enum rid): Add RID_BYREF.
	* c-parse.gperf: Add RID_BYREF as a type qualifier.
	* objc/objc-act.c (is_objc_type_qualifiers): Handle RID_BYREF.
	(encode_type_qualifiers): Similarly
	* c-gperf.h: Rebuilt.

Thu Oct  8 05:56:00 1998  Jeffrey A Law  (law@cygnus.com)

	* c-common.c (type_for_mode): Only return TItype nodes when
	HOST_BITS_PER_WIDE_INT is >= 64 bits.
	* c-decl.c (intTI_type_node, unsigned_intTI_type_node): Only declare
	when HOST_BITS_PER_WIDE_INT is >= 64 bits.
	(init_decl_processing): Only create TItype nodes when
	HOST_BITS_PER_WIDE_INT is >= 64 bits.
	* c-tree.h (intTI_type_node, unsigned_intTI_type_node): Only declare
	when HOST_BITS_PER_WIDE_INT is >= 64 bits.

Thu Oct  8 05:05:34 1998  Bernd Schmidt <crux@Pool.Informatik.RWTH-Aachen.DE>

	* stmt.c (n_occurrences): New static function.
	(expand_asm_operands): Verify that all constrains match in the
	number of alternatives.
	Verify that '+' or '=' are at the beginning of an output constraint.
	Don't allow '&' for input operands.
	Verify that '%' isn't written for the last operand.
	* reload.c (find_reloads): Abort if an asm is found with invalid
	constraints; all possible problems ought to be checked for earlier.

Thu Oct  8 04:26:20 1998  Michael Hayes <m.hayes@elec.canterbury.ac.nz>

	* flags.h (flag_branch_on_count_reg): Always declare 
	* toplev.c (flag_branch_on_count_reg): Likewise.
	* toplev.c: Fix typos.

	* real.c (c4xtoe): Remove unused variables.  Add some missing parens.
	(toc4x): Similarly.

Thu Oct  8 01:25:22 1998  Richard Henderson  <rth@cygnus.com>

	* flow.c (find_basic_blocks): Calc upper bound for extra nops in
	max_uids_for_flow.
	(find_basic_blocks_1): Add a nop to the end of a basic block when
	a trailing call insn does not have abnormal control flow.
	* gcse.c (pre_transpout): New variable.
	(alloc_pre_mem, free_pre_mem, dump_pre_data): Bookkeeping for it.
	(compute_pre_transpout): Calculate it.
	(compute_pre_ppinout): Use it to eliminate impossible placements
	due to abnormal control flow through calls.
	(compute_pre_data): Call compute_pre_transpout.

Wed Oct  7 21:40:24 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sol2-sld-64.h (ASM_CPU_SPEC): Fix typo.

Wed Oct  7 21:19:46 1998  Ken Raeburn  <raeburn@cygnus.com>

	* config/mips/mips.md (tablejump_internal3, tablejump_internal4
	and matching define_insns): Tack on a `use' of the table label, so
	flow analysis will recognize a tablejump.

Wed Oct  7 17:33:39 1998  Richard Henderson  <rth@cygnus.com>

	* gcse.c (pre_insert_insn): Tweek to notice that calls do not
	always end basic blocks for abnormal edge reasons.

Wed Oct  7 14:40:43 1998  Nick Clifton  <nickc@cygnus.com>

	* config/i386/i386.h: Remove definition of
	HANDLE_PRAGMA_PACK_PUSH_POP.
	
	* config/i386/go32.h: Add definition of
	HANDLE_PRAGMA_PACK_PUSH_POP.
	
	* config/i386/win32.h: Add definition of
	HANDLE_PRAGMA_PACK_PUSH_POP.
	
	* config/i386/cygwin32.h: Add definition of
	HANDLE_PRAGMA_PACK_PUSH_POP.

	* c-pragma.c (insert_pack_attributes): Do not insert
	attributes unless #pragma pack(push,<n>) is in effect.

Wed Oct  7 12:10:46 1998  Jim Wilson  <wilson@cygnus.com>

	* expr.c (emit_group_store): Handle a PARALLEL destination.

Wed Oct  7 10:07:29 1998  Richard Henderson  <rth@cygnus.com>

	* gcse.c (pre_insert_insn): When a call ends a bb, insert
	the new insns before the argument regs are loaded.

Wed Oct  7 12:55:26 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* Makefile.in (c-gperf.h): Add -L KR-C -F ', 0, 0' flags to gperf.
	(c-parse.gperf): Update comments describing invocation flags.
	(c-gperf.h): Regenerate using gperf 2.7.1 (19981006 egcs).

1998-10-07  Manfred Hollstein  <manfred@s-direktnet.de>

	* reload1.c (reload): Call free before clobbering the memory
	locations or constants pointers.

Wed Oct  7 02:05:20 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sol2-sld-64.h (TRANSFER_FROM_TRAMPOLINE): Rework
	for efficiency by checking whether we need to modify the current
	stack permission at all.
	(ASM_OUTPUT_CONSTRUCTOR, ASM_OUTPUT_DESTRUCTOR): Define.
	* config/sparc/sparc.c (sparc_initialize_trampoline): Emit
	__enable_execute_stack libcall here too if
	TRANSFER_FROM_TRAMPOLINE is defined.
	* config/sparc/sparc.h: Set TARGET_ARCH32 to a constant if
	IN_LIBGCC2.

Wed Oct  7 02:27:52 1998  Jeffrey A Law  (law@cygnus.com)

	* Makefile.in (DRIVER_DEFINES): Remove last change.
	
Wed Oct  7 01:08:43 1998  Bernd Schmidt <crux@Pool.Informatik.RWTH-Aachen.DE>

	* jump.c (duplicate_loop_exit_test): Strip REG_WAS_0 notes off all
	insns we're going to copy.
	* regclass.c (reg_scan_mark_refs): Don't test X for NULL_RTX.

	* loop.c (count_one_set): Add prototype.

	* caller-save.c (restore_referenced_regs): Lose mode argument.
	(insert_save): Lose mode argument.
	(insert_restore): Lose mode argument.
	(insert_one_insn): Lose mode argument.
	(save_call_clobbered_regs): Lose mode argument.
	(setup_save_areas): Take no argument and return void.  All callers
	changed.
	Don't verify validity of memory addresses.
	* reload.h (setup_save_ares): Adjust prototype.
	(save_call_clobbered_regs): Likewise.
	* reload1.c (delete_caller_save_insns): New function.
	(caller_save_spill_class): Delete variable.
	(caller_save_group_size): Delete variable.
	(reload): Call setup_save_areas and save_call_clobbered_regs
	in the main loop, before calling calculate_needs_all_insns.
	Don't call save_call_clobbered_regs after the loop.
	Call delete_caller_save_insns at the end of an iteration if
	something changed.
	Delete code to manage caller_save_spill_class.
	Emit the final note before setting reload_first_uid.
	Simplify test that determines whether reload_as_needed gets run.
	(calculate_needs): Delete code to manage caller_save_spill_class.

Tue Oct  6 15:42:27 1998  Richard Henderson  <rth@cygnus.com>

	* collect2.c (main): Initialize ld_file_name.

Tue Oct  6 15:45:15 1998  Catherine Moore  <clm@cygnus.com>
 
        * config/sparc/sysv4.h (ASM_OUTPUT_SECTION_NAME):  Don't
        check for flag_function_sections.

Tue Oct  6 20:02:31 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* cse.c (insert_regs): Fix bug in Sep 24 change.

Tue Oct  6 17:00:42 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* flags.h (flag_dump_unnumbered): Declare.
	* toplev.c (flag_dump_unnumbered): Don't declare.
	* print-rtl.c (flags.h): Include.
	(print_rtl_single): Add return value.
	* rtl.h (print_rtl_single): Update declaration.
	* flow.c (flag_dump_unnumbered): Don't declare.
	(print_rtl_with_bb): Use return value of print_rtl_single.

Tue Oct  6 01:36:00 1998  Bernd Schmidt <crux@Pool.Informatik.RWTH-Aachen.DE>

	* loop.c (count_one_set): New static function, broken out of
	count_loop_regs_set
	(count_loop_regs_set): Call it.
	* global.c (mark_reg_store): Handle clobbers here by not calling
	set_preference.
	(mark_reg_clobber): Just call mark_reg_store after ensuring SETTER
	is in fact a clobber.
	* integrate.c (process_reg_param): New function, broken out of
	expand_inline_function.
	(expand_inline_function): Call it.


	* i386.md (addsidi3_1): Delete unused variable temp.
	(addsidi3_2): Likewise.
	(clstrstrsi): Delete unused variable addr1.

	* rtl.h: Don't declare any functions also declared in recog.h.

	* Makefile.in (stupid.o): Update dependencies.
	(global.o): Likewise.

	* global.c: Include reload.h
	(reg_becomes_live): New function.
	(reg_dies): New function.
	(build_insn_chain): New function.
	(global_alloc): Call build_insn_chain before calling reload.

	* reload.h (struct needs): New structure definition.
	(struct insn_chain): Likewise.
	(reload_insn_chain): Declare variable.
	(new_insn_chain): Declare function.


	* reload1.c (reload_startobj): New variable.
	(reload_insn_chain): New variable.
	(unused_insn_chains): New variable.
	(new_insn_chain): New function.
	(init_reload): Initialize reload_startobj, not reload_firstobj.
	(reload): Initialize reload_firstobj.
	Before returning, free everything on the reload_obstack.

	* stupid.c: Include insn-config.h, reload.h and basic-block.h.
	(reg_where_dead_chain, reg_where_born_exact, reg_where_born_clobber,
	current_chain): New variables.
	(reg_where_born): Delete variable.
	(REG_WHERE_BORN): New macro.
	(find_clobbered_regs): New function.
	(stupid_life_analysis): Don't allocate/free reg_where_born.
	Allocate and free reg_where_born_exact, reg_where_born_clobber,
	reg_where_dead_chain.
	Use REG_WHERE_BORN instead of reg_where_born.
	While processing the insns, build the reload_insn_chain with
	information about register lifetimes.
	(stupid_reg_compare): Use REG_WHERE_BORN instead of reg_where_born.
	(stupid_mark_refs): Replace arg INSN with arg CHAIN.  All callers
	changed.
	Compute and information about birth and death of pseudo registers in
	reg_where_dead_chain, reg_where_born_exact and reg_where_born_clobber.
	Delete code to set elements of reg_where_born.	

Mon Oct  5 22:34:30 1998  Alexandre Petit-Bianco  <apbianco@cygnus.com>

	* tree.def (GOTO_EXPR): Modified documentation.
	* expr.c (expand_expr): Expand GOTO_EXPR into a goto or a computed
 	goto.

Mon Oct  5 22:43:36 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* unroll.c (loop_iteration_var, loop_initial_value, loop_increment
	loop_final_value, loop_comparison_code): No longer static.
	(unroll_loop): Delete loop_start_value update.
	* loop.h (loop_iteration_var, loop_initial_value, loop_increment,
	loop_final_value, loop_comparison_code): Extern.
	(loop_start_value): Delete extern.
	* loop.c (loop_can_insert_bct, loop_increment, loop_start_value,
	loop_comparison_value, loop_comparison_code): Delete.
	(loop_optimize): Remove initialization for deleted variables.
	(strength_reduce): Delete analyze_loop_iterations call.  Only call
	insert_bct if flag_branch_count_on_reg set.
	(analyze_loop_iterations): Delete.
	(insert_bct): Remove iteration count calculation.  Move checks for
	viable BCT optimization to here.  Obtain iteration count from
	loop_iterations and correct for unrolling.  Check for enough
	iteration to be beneficial.  Comment out runtime iteration count
	case.
	(insert_bct): Print iteration count in dump file.  Remove
	loop_var_mode and use word_mode directly.

	* rs6000.h (processor_type): Add PROCESSOR_PPC604e.
	* rs6000.c (rs6000_override_options): Use it.
	(optimization_options): Enable use of flag_branch_on_count_reg.
	* rs6000.md (define_function_unit): Describe 604e.

1998-10-05 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>

	* loop.c (move_movables): Corrected threshold calculation for
	moved_once registers.

Mon Oct  5 21:18:45 1998  Bernd Schmidt <crux@Pool.Informatik.RWTH-Aachen.DE>

	* loop.c (combine_givs_p): Fix test for identical givs.

Mon Oct  5 10:11:28 1998  Nick Clifton  <nickc@cygnus.com>

	* dwarf2out.c (gen_subprogram_die): If errorcount nonzero, don't
	call abort if the function is already defined.

Mon Oct  5 10:02:36 1998  Jeffrey A Law  (law@cygnus.com)

	* combine.c (simplify_rtx): Do not replace TRUNCATE with a SUBREG if
	truncation is not a no-op.

Mon Oct 5 09:02:04 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Oct 5 08:19:55 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Oct  5 01:07:23 1998  Torbjorn Granlund  <tege@matematik.su.se>

	* expmed.c (expand_divmod): Don't widen for computing remainder
	if we seem to have a divmod pattern for needed mode.

Mon Oct  5 01:01:42 1998  Zack Weinberg  <zack@rabi.phys.columbia.edu>  

	* cpplib.c (macroexpand): Correct off-by-one error in handling
	of escapes.

Sun Oct  4 23:58:30 1998  Richard Henderson  <rth@cygnus.com>

	* combine.c (expand_field_assignment): Don't do bitwise operations
	on MODE_FLOAT; pun to MODE_INT if possible.

Sun Oct  4 18:33:24 1998  Jason Merrill  <jason@yorick.cygnus.com>
			  scott snyder  <snyder@d0sgif.fnal.gov>

	* tlink.c (scan_linker_output): Recognize errors from irix 6.2
	linker.  Recognize mangled names in quotes.

Sun Oct  4 02:58:20 1998  Jakub Jelinek  <jj@sunsite.ms.mff.cuni.cz>

        * config/sparc/sparc.md (ashldi3+1): Name it ashldi3_sp64.
	(ashlsi3_const1, ashldi3_const1): New combiner patterns.
	(ashrsi3_extend, ashrsi3_extend2): New combiner patterns.
	(lshrsi3_extend, lshrsi3_extend2): Ditto.

Sun Oct  4 00:23:00 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* function.c (purge_addressof_1): If trying to take a sub-word
	integral piece of a floating point mode, put it on the stack.

Sat Oct  3 19:01:03 1998  Richard Henderson  <rth@cygnus.com>

	* alpha/linux.h (CPP_PREDEFINES): Define __alpha__ for imake.

Sat Oct  3 14:42:19 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* PROJECTS: Remove template friends.

	* collect2.c (sort_ids): Remove unused variable.

	* tm.texi (MATH_LIBRARY): Document.
	(NEED_MATH_LIBRARY): Remove.

	* varasm.c (assemble_start_function, assemble_variable, weak_finish,
	assemble_alias): Do ASM_GLOBALIZE_LABEL for weak symbols, too.

Sat Oct  3 16:14:44 1998  John Carr  <jfc@mit.edu>

	* dwarf2out.c (expand_builtin_dwarf_reg_size):  Initialize
	last_end to 0x7fffffff.

Fri Oct  2 19:14:20 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* function.c (purge_addressof_1): Do not perform endianness
	corrections on bitpos, who we call will do it for us.

Fri Oct  2 11:52:35 1998  Jeffrey A Law  (law@cygnus.com)

	* h8300.c (WORD_REG_USED): Fix typo.
	(initial_offset): Use WORD_REG_USED.

	* h8300.c (handle_pragma): Fix typo.

Fri Oct  2 10:51:35 1998  Bernd Schmidt <crux@Pool.Informatik.RWTH-Aachen.DE>

	* caller-save.c (insert_save_restore): Break this function up
	into new functions insert_restore, insert_save and insert_one_insn.
	All callers changed.
	(insert_restore): New function, mostly broken out of
	insert_save_restore.
	(insert_save): Likewise.
	(insert_one_insn): Likewise.
	(restore_referenced_regs): New argument BLOCK.  All callers changed.
	(save_call_clobbered_regs): Don't keep track of basic block boundaries
	in this function, do it in insert_one_insn instead.

	* reload1.c (reload): Break out some more pieces into separate
	functions.
	(dump_needs): New function, broken out of reload.
	(set_initial_elim_offsets): Likewise.
	(init_elim_table): Likewise.
	(update_eliminables): Likewise.

	* global.c (global_alloc): Delete code to manage the scratch_list.
	* local-alloc.c (qty_scratch_rtx): Delete.
	(scratch_block): Delete.
	(scratch_list): Delete.
	(scratch_list_length): Delete.
	(scratch_index): Delete.
	(alloc_qty_for_scratch): Delete.
	(local-alloc): Update initialization of max_qty.
	Delete code to manage the scratch list.
	Delete code to allocate/initialize qty_scratch_rtx.
	(block_alloc): Don't allocate quantities for scratches.
	Delete code to manage the scratch list.
	* regs.h (scratch_list): Delete declaration.
	(scratch_block): Delete declaration.
	(scratch_list_length): Delete declaration.
	* reload1.c (reload): Delete code to manage the scratch list.
	(spill_hard_reg): Likewise.
	(mark_scratch_live): Delete.

	* recog.c (alter_subreg): Delete declaration.

1998-10-02  Andreas Jaeger  <aj@arthur.rhein-neckar.de>

	* Makefile.in (cccp.o): Fix typo in last patch.

Fri Oct  2 16:13:12 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* t-sh (LIB1ASMFUNCS): Add _set_fpscr .
	* config/sh/lib1funcs.asm (___set_fpscr): Add.

Fri Oct  2 02:01:59 1998  Jeffrey A Law  (law@cygnus.com)

	* regclass.c (reg_scan_mark_refs): Return immediately if passed a
	NULL_RTX as an argument.

	* Makefile.in (unlibsubdir): Define.
	(DRIVER_DEFINES): Use unlibsubdir.
	(cccp.o, cpplib.o, protoize.o, unprotoize.o): Similarly.
	(stmp-fixinc): Similarly.

Thu Oct  1 19:58:30 1998  Bernd Schmidt <crux@Pool.Informatik.RWTH-Aachen.DE>

	* regmove.c (regmove_optimize): Add variable old_max_uid.
	At the end of the function, update basic_block_end.

Thu Oct  1 17:58:25 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* dwarf2out.c (expand_builtin_dwarf_reg_size): Use
	FIRST_PSEUDO_REGISTER as upper bound for last_end, not an
	arbitrary constant.

Thu Oct  1 17:57:14 1998  Nick Clifton  <nickc@cygnus.com>

	* config/arm/arm.c: Improve interworking support.

Thu Oct  1 18:43:35 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* reload1.c (choose_reload_regs): Fix test if reload_reg_rtx[r] was
	copied from reload_out[r] .

Thu Oct  1 19:20:09 1998  John Carr  <jfc@mit.edu>

	* dwarf2out.c (expand_builtin_dwarf_reg_size): Fix to work
	with more than three size ranges.

	* flow.c (sbitmap_copy): Use bcopy to copy bitmap.

	* rtl.c (mode_name): Add a null string at the end of the array.
	(mode_wider_mode): Change type to unsigned char.
	(mode_mask_array): New variable.
 	(init_rtl): Update for mode_wider_mode type change.

	* rtl.h (mode_wider_mode): Change type to unsigned char.
	(mode_mask_array): Declare.
	(GET_MODE_MASK): Use mode_mask_array.

Thu Oct  1 15:56:01 1998  Gavin Romig-Koch  <gavin@cygnus.com>

	* calls.c (expand_call) : Encapsulate code into 
	copy_blkmode_from_reg.
	* expr.c (copy_blkmode_from_reg): New function.
	* expr.h (copy_blkmode_from_reg): New function.
	* integrate.c (function_cannot_inline_p): We can inline
	these now.
	(expand_inline_function): Use copy_blkmode_from_reg
	if needed.  Avoid creating BLKmode REGs.
	(copy_rtx_and_substitute): Don't try to SUBREG a BLKmode
	object.

Thu Oct  1 10:42:27 1998  Nick Clifton  <nickc@cygnus.com>

	* config/v850/v850.c: Add function prototypes.
	Add support for v850 special data areas.

	* config/v850/v850.h: Add support for v850 special data areas.
	
	* c-pragma.c: Add support for HANDLE_PRAGMA_PACK and
	HANDLE_PRAGMA_PACK_PUSH_POP.
	(push_alignment): New function: Cache an alignment requested
	by a #pragma pack(push,<n>).
	(pop_alignment): New function: Pop an alignment from the
	alignment stack.
	(insert_pack_attributes): New function: Generate __packed__
	and __aligned__ attributes for new decls whilst a #pragma pack
	is in effect. 
	(add_weak): New function: Cache a #pragma weak directive.
	(handle_pragma_token): Document calling conventions.  Add
	support for #pragma pack(push,<n>) and #pragma pack (pop).

	* c-pragma.h: If HANDLE_SYSV_PRAGMA or HANDLE_PRAGMA_PACK_PUSH_POP
	are defined enable HANDLE_PRAGMA_PACK.
	Move 'struct weak_syms' here (from varasm.c).
	Add pragma states for push and pop pragmas.

	* c-common.c (decl_attributes): Call PRAGMA_INSERT_ATTRIBUTES
	if it is defined.

	* c-lex.c: Replace occurances of HANDLE_SYSV_PRAGMA with
	HANDLE_GENERIC_PRAGMAS.
	
	* varasm.c: Move definition of 'struct weak_syms' into
	c-pragma.h. 
	(handle_pragma_weak): Deleted.

	* config/i386/i386.h: Define HANDLE_PRAGMA_PACK_PUSH_POP.

	* config/winnt/win-nt.h: Define HANDLE_PRAGMA_PACK_PUSH_POP.

	* c-decl.c (start_function): Add invocation of
	SET_DEFAULT_DECL_ATTRIBUTES, if defined.

	* tm.texi: Remove description of non-existant macro
	SET_DEFAULT_SECTION_NAME.
	
	(HANDLE_SYSV_PRAGMA): Document.
	(HANDLE_PRAGMA_PACK_PUSH_POP): Document.

Wed Sep 30 22:27:53 1998  Robert Lipe  <robertl@dgii.com>

	* config.sub: Recognize i[34567]86-pc-udk as new target.
	* configure.in: Likewise.
	* config/i386/t-udk: New file.
	* config/i386/udk.h: New file.

Wed Sep 30 19:33:07 1998  Jeffrey A Law  (law@cygnus.com)

	* reorg.c (check_annul_list_true_false): Remove unused variables.
	(steal_delay_list_from_target): Add missing "used_annul" variable.
	(try_merge_delay_insns): Close out half formed comment.

Wed Sep 30 19:13:20 1998 Zack Weinberg  <zack@rabi.phys.columbia.edu>  

	* cpplib.c (macroexpand): If arg->raw_before or
	arg->raw_after, remove any no-reexpansion escape at the
	beginning of the pasted token.  Correct handling of whitespace
	markers and no-reexpand markers at the end if arg->raw_after.

	* toplev.c (documented_lang_options): Recognize -include,
	-imacros, -iwithprefix, -iwithprefixbefore.
	* cpplib.c (cpp_start_read): Process -imacros and -include
	switches at the same time and in command-line order, after
	initializing the dependency-output code.  Emit properly nested
	#line directives for them.  Emit a #line for the main file
	before processing these switches, and don't do it again
	afterward.

Wed Sep 30 18:03:22 1998  Richard Henderson  <rth@cygnus.com>

	* function.c (purge_addressof_1): Use bitfield manipulation
	routines to handle mem mode < reg mode.

Wed Sep 30 18:43:32 1998  Herman ten Brugge <Haj.Ten.Brugge@net.HCC.nl> 

	* reorg.c (try_merge_delay_insns): Account for resources referenced
	in each instruction in INSN's delay list before trying to eliminate
	useless instructions.  Similarly when looking at a trial insn's delay
	slots.

        * reorg.c (check_annul_list_true_false): New function.
        (steal_delay_list_from_{target,fallthrough}): Call it and also
        refine tests for when we may annul if already filled a slot.
        (fill_slots_from_thread): Likewise.
        (delete_from_delay_slot): Return newly-created thread.
        (try_merge_delay_isns): Use its new return value.

Wed Sep 30 18:29:26 1998  Jeffrey A Law  (law@cygnus.com)

	* loop.c (check_dbra_loop): Use a vanilla loop reversal if the biv is
	used to compute a giv or as some other non-counting use.

Wed Sep 30 18:19:27 1998  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>

	* regs.h (HARD_REGNO_CALL_PART_CLOBBERED):  New macro.
	* local-alloc.c (find_free_reg): Use it.
	* global.c (find_reg): Likewise.
	* tm.texi: Document HARD_REGNO_CALL_PART_CLOBBERED.

	* regs.h (HARD_REGNO_CALLER_SAVE_MODE): New macro.
	* caller-save.c (init_caller_save): Use it.
	* tm.texi: Document HARD_REGNO_CALLER_SAVE_MODE.

Wed Sep 30 12:57:30 1998 Zack Weinberg  <zack@rabi.phys.columbia.edu>  

	* configure.in: Add --enable-cpplib option which uses cpplib
	for cpp, but doesn't link cpplib into cc1.  Make help text
	capitalization consistent.
	* configure: Rebuilt.

Wed Sep 30 10:09:39 1998  Mark Mitchell  <mark@markmitchell.com>

	* function.c (gen_mem_addressof): If the address REG is
	REG_USERVAR_P make the new REG be so also.
	* loop.c (scan_loop): Apply DeMorgan's laws and add documentation
	in an attempt to clarify slightly.

Wed Sep 30 09:57:40 1998  Jeffrey A Law  (law@cygnus.com)

	* expr.c (expand_expr): Handle COMPONENT_REF, BIT_FIELD_REF ARRAY_REF
	and INDIRECT_REF in code to check MAX_INTEGER_COMPUTATION_MODE.

Wed Sep 30 10:13:39 1998  Catherine Moore  <clm@cygnus.com>

        * toplev.c:  Fix last patch.

Tue Sep 29 20:03:18 1998  Jim Wilson  <wilson@cygnus.com>

	* loop.c (get_condition): Fix typo in May 9 change.

Tue Sep 29 11:11:38 EDT 1998  Andrew MacLeod  <amacleod@cygnus.com>

	* invoke.texi (-fexceptions): Merge 2 different descriptions.

Mon Sep 28 22:08:52 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* toplev.c (documented_lang_options): Spelling corrections.

Mon Sep 28 19:41:24 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* configure.in: new flags --with-ld and --with-as, equivalent
	to setting LD and AS environment variables.  Test whether
	specified arguments are GNU commands, and report them with
	checking messages.  Use the specified AS for configure
	tests too.
	* configure: ditto
	* acconfig.h: add DEFAULT_ASSEMBLER and DEFAULT_LINKER
	* config.in: ditto
	* gcc.c (find_a_file): when looking for `as' and `ld', return
	the DEFAULT program if it exists
	* collect2.c (main): use DEFAULT_LINKER if it exists

	* gcc.c (find_a_file): the test for existence of a full
	pathname was reversed

Mon Sep 28 17:34:35 1998  Michael Meissner  <meissner@cygnus.com>

	* rs6000.h (ASM_OUTPUT_MI_THUNK): Only define on ELF systems.
	* rs6000.c (output_mi_thunk): Always use a raw jump for now.

Mon Sep 28 14:24:03 1998  Mark Mitchell  <mark@markmitchell.com>

	* tree.h (TYPE_BINFO): Document.

Mon Sep 28 12:55:49 1998   Stan Cox  <scox@cygnus.com>

	* i386-coff.h (dbxcoff.h): Added.

Mon Sep 28 12:51:00 1998  Catherine Moore  <clm@cygnus.com>

        * toplev.c:  fix bad patch around flag_data_sections.

Mon Sep 28 10:32:28 1998  Nick Clifton  <nickc@cygnus.com>

	* reload1.c (reload): Use reload_address_index_reg_class and 
 	reload_address_base_reg_class when setting
	caller_save_spill_class.  (Patch generated by Jim Wilson:
	wilson@cygnus.com).

Mon Sep 28 07:43:34 1998  Mark Mitchell  <mark@markmitchell.com>

	* c-common.c (c_get_alias_set): Tighten slightly for FUNCTION_TYPEs
	and ARRAY_TYPEs.  Tidy up.  Improve support for type-punning. 
	* expr.c (store_field): Add alias_set parameter.  Set the
	MEM_ALIAS_SET accordingly, if the target is a MEM.
	(expand_assignment): Use it.
	(store_constructor_field): Pass 0.
	(expand_expr): Likewise.

Mon Sep 28 07:54:03 1998  Catherine Moore  <clm@cygnus.com>
 
        * flags.h:  Add flag_data_sections.
        * toplev.c:  Add option -fdata-sections.  Add flag_data_sections.
        (compile_file):  Error if flag_data_sections not supported.
        * varasm.c (assemble_variable):  Handle flag_data_sections.
        * config/svr4.h:  Modify prefixes for UNIQUE_SECTION_NAME.
        * config/mips/elf.h:  Likewise.
        * config/mips/elf64.h:  Likewise.
        * invoke.texi:  Describe -fdata-sections.
 
Mon Sep 28 04:15:44 1998  Craig Burley  <burley@melange.gnu.org>

	* invoke.texi (-ffloat-store): Clarify that this option
	does not affect intermediate results -- only variables.

Mon Sep 28 04:11:35 1998  Jeffrey A Law  (law@cygnus.com)

	* cpp.texi: Update for Fortran usage from Craig.

Fri Sep 25 22:09:47 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.c (function_arg_boundary): Revert accidental change on
	September 18.

Fri Sep 25 20:30:00 1998  Michael Meissner  <meissner@cygnus.com>

	* rs6000.h (ASM_OUTPUT_MI_THUNK): Declare, call output_mi_thunk.
	(output_mi_thunk): Declare.

	* rs6000.c (output_mi_thunk): Function to create thunks for MI.
	(output_function_profiler): Use r12 for temp, instead of r11 so
	that we preserve the static chain register.
	
Fri Sep 25 14:18:33 1998  Jim Wilson  <wilson@cygnus.com>

	* sdbout.c (sdbout_one_type): Don't look at TYPE_BINFO field of enums.

Fri Sep 25 19:30:19 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* sh.c (gen_shl_sext): Fix case 5.

Fri Sep 25 17:35:23 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* reload1.c (reload_combine): Re-add line that got accidentally lost.

Fri Sep 25 10:43:47 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* cccp.c (pedwarn_with_file_and_line): For !__STDC__ case, avoid
 	accessing variables until they are initialized via va_arg().

Thu Sep 24 22:12:16 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* reload1.c (reload_combine): Initialize set before using.

Thu Sep 24 18:53:20 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* sdbout.c (sdbout_field_types): Don't emit the types of fields we
	won't be emitting.

Thu Sep 24 17:05:30 1998  Nick Clifton  <nickc@cygnus.com>

	* config/arm/arm.md (insv): Add comment.  In CONST_INT case, and
	operand3 with mask before using it.  Patch provided by Jim Wilson.

Thu Sep 24 15:08:08 1998  Jakub Jelinek  <jj@sunsite.ms.mff.cuni.cz>

	* config/sparc/sparc.c (function_value): Perform the equivalent of
	PROMOTE_MODE for ARCH64.
	(eligible_for_epilogue_delay): Allow DImode operations in delay
	slot of a return for ARCH64.

Thu Sep 24 22:17:54 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* sh.md (sqrtsf2): Fix mode of sqrt.

Thu Sep 24 21:48:51 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* reload1.c (choose_reload_regs): Also try inheritance when
	reload_in is a stack slot of a pseudo, even if we already got a
	reload reg.

Thu Sep 24 21:22:39 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* reload1.c (reload_cse_regs_1): Renamed from reload_cse_regs.
	(reload_cse_regs): New function body: call reload_cse_regs_1,
	reload_combine, reload_cse_move2add.
	When doing expensive_optimizations, call reload_cse_regs_1 a
	second time after reload_cse_move2add.
	(reload_combine, reload_combine_note_store): New functions.
	(reload_combine_note_use): New function.
	(reload_cse_move2add, move2add_note_store): New functions.

Thu Sep 24 18:48:43 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* reload.c (find_reloads): In code to promote RELOAD_FOR_X_ADDR_ADDR
	reloads to RELOAD_FOR_X_ADDRESS reloads, test for reload sharing.

	Properly keep track of first RELOAD_FOR_X_ADDRESS also for
	more than 3 such reloads.

	If there is not more than one RELOAD_FOR_X_ADDRESS, don't change
	RELOAD_FOR_X_ADDR_ADDR reload.

Thu Sep 24 17:45:55 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* expr.c (store_constructor): When initializing a field that is smaller
	than a word, at the start of a word, try to widen it to a full word.

	* cse.c (cse_insn): When we are about to change a register,
	remove any invalid references to it.

	(remove_invalid_subreg_refs): New function.
	(mention_regs): Special treatment for SUBREGs.
	(insert_regs): Don't strip SUBREG for call to mention_regs.
	Check if reg_tick needs to be bumped up before that call.
	(lookup_as_function): Try to match known word_mode constants when
	looking for a norrower constant.
	(canon_hash): Special treatment for SUBREGs.

Thu Sep 24 01:35:34 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sol2-sld-64.h (TRANSFER_FROM_TRAMPOLINE): Define.
	* config/sparc/sparc.c (sparc64_initialize_trampoline): If that is
	defined, emit libcall to __enable_execute_stack.  Also fix opcodes
	and offsets in actual stack trampoline code so they match the
	commentary and actually work.

Thu Sep 24 01:19:02 1998  Jakub Jelinek  <jj@sunsite.ms.mff.cuni.cz>

	* configure.in (sparcv9-*-solaris): Use t-sol2 and t-sol2-64 for
	tmake_file.
	(sparc64-*-linux): Use t-linux and sparc/t-linux64 for
	tmake_file.  Set extra_parts to needed crt objects.
	* configure: Rebuilt.
	* config/sparc/linux64.h (SPARC_BI_ARCH): Define.
	(TARGET_DEFAULT): Set if default is v9 or ultra.
	(STARTFILE_SPEC32, STARTFILE_SPEC64): New macros.
	(STARTFILE_SPEC): Set to those upon SPARC_BI_ARCH.
	(ENDFILE_SPEC32, ENDFILE_SPEC64, ENDFILE_SPEC): Likewise.
	(SUBTARGET_EXTRA_SPECS, LINK_ARCH32_SPEC, LINK_ARCH64_SPEC,
	LINK_SPEC, LINK_ARCH_SPEC): Likewise.
	(TARGET_VERSION): Define.
	(MULTILIB_DEFAULT): Define.
	* config/sparc/sparc.h (CPP_CPU_DEFAULT_SPEC): Rearrange so that
	mixed 32/64 bit compilers based upon SPARC_BI_ARCH work.
	(CPP_CPU64_DEFAULT_SPEC, CPP_CPU32_DEFAULT_SEC): Define
	appropriately.
	(TARGET_SWITCHES): Allow ptr32/ptr64 options once more.
	* config/sparc/sparc.c (sparc_override_options): If arch and
	pointer size disagree, emit diagnostic and fix it up.  If
	SPARC_BI_ARCH and TARGET_ARCH32, set cmodel to CM_32.  Turn off
	V8PLUS in 64-bit mode.
	* config/sparc/t-linux64: New file.
	* config/sparc/t-sol2-64: New file.
	* config/sparc/t-sol2: Adjust build rules to use MULTILIB_CFLAGS.
	* config/sparc/sol2-sld-64.h (SPARC_BI_ARCH): Define.
	(ASM_CPU32_DEFAULT_SPEC, ASM_CPU64_DEFAULT_SPEC,
	CPP_CPU32_DEFAULT_SPEC, CPP_CPU64_DEFAULT_SPEC): Define.
	(ASM_SPEC, CPP_CPU_SPEC): Set appropriately based upon those.
	(STARTFILE_SPEC32, STARTFILE_SPEC32, STARTFILE_ARCH_SPEC):
	Define.
	(STARTFILE_SPEC): Set approriately based upon those.
	(CPP_CPU_DEFAULT_SPEC, ASM_CPU_DEFAULT_SPEC): Set based upon
	disposition of DEFAULT_ARCH32_P.
	(LINK_ARCH32_SPEC, LINK_ARCH64_SPEC): Define.
	(LINK_ARCH_SPEC, LINK_ARCH_DEFAULT_SPEC): Set based upon those.
	(CC1_SPEC, MULTILIB_DEFAULTS): Set based upon DEFAULT_ARCH32_P.
	(MD_STARTFILE_PREFIX): Set correctly based upon SPARC_BI_ARCH.
	* config/sparc/xm-sysv4-64.h (HOST_BITS_PER_LONG): Only set on
	arch64/v9.
	* config/sparc/xm-sp64.h (HOST_BITS_PER_LONG): Likewise.
	
Wed Sep 23 22:32:31 1998  Mark Mitchell  <mark@markmitchell.com>

	* rtl.h (init_virtual_regs): New function.
	* emit-rtl.c (init_virtual_regs): Define.
	(insn_emit): Use it.
	* integrate.c (save_for_inline_copying): Likewise.

Wed Sep 23 16:22:01 1998  Nick Clifton  <nickc@cygnus.com>

	* config/arm/thumb.h: The following patches were made by Jim Wilson:
	(enum reg_class): Add NONARG_LO_REGS support.
	(REG_CLASS_NAMES, REG_CLASS_CONTENTS, REGNO_REG_CLASS,
	PREFERRED_RELOAD_CLASS, SECONDARY_RELOAD_CLASS): Likewise.
	(GO_IF_LEGITIMATE_ADDRESS): Disable REG+REG addresses before reload
	completes.  Re-enable HImode REG+OFFSET addresses.
	(LEGITIMIZE_RELOAD_ADDRESS): Define.

	* expmed.c (extract_bit_field): Add comment from Jim Wilson. 

Wed Sep 23 13:26:02 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.c (get_aligned_mem): Revert Sep 20 change.
        (alpha_set_memflags, alpha_set_memflags_1): Likewise.
	(alpha_align_insns): Properly calculate initial offset wrt max_align.

Wed Sep 23 10:45:44 1998  Richard Earnshaw (rearnsha@arm.com)

	* arm.c (find_barrier): Revert change of Apr 23.  Handle table
	jumps as a single entity, taking into account the size of the
	table.

Tue Sep 22 15:13:34 1998  Alexandre Petit-Bianco  <apbianco@cygnus.com>

	* tree.def (SWITCH_EXPR): New tree node definition.

Mon Sep 21 23:40:38 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Sep 21 22:31:14 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Sep 21 22:48:09 1998  Jeffrey A Law  (law@cygnus.com)

	* configure.in: Recognize i[34567]86-*-openbsd* and handle it like
	NetBSD.

Mon Sep 21 22:05:28 1998  Jeffrey A Law  (law@cygnus.com)

	* Revert this patch.
	* reload.c (find_reloads): Do not replace a pseudo with
	(MEM (reg_equiv_addr)) in the initializing insn for the
	pseudo.

Mon Sep 21 20:19:41 1998  John Carr  <jfc@mit.edu>

	* final.c (final_scan_insn): Disable tracking CC across branches.

Mon Sep 21 17:15:26 EDT 1998  Andrew MacLeod  <amacleod@cygnus.com>

	* expr.h (eh_rtime_match_libfunc): New extern declaration.
	* optabs.c (init_optabs): Set eh_rtime_match_libfunc.
	* except.c (start_catch_handler): Use eh_rtime_match_libfunc.
	* libgcc2.c (__eh_rtime_match): Always return 0 if the matcher is
	NULL. Only include <stdio.h> if inhibit_libc is not defined.

Mon Sep 21 14:10:51 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* toplev.c (rest_of_compilation): Skip compiling anything with
	DECL_EXTERNAL set, not just if it has DECL_INLINE as well.

Mon Sep 21 13:51:05 1998  Jim Wilson  <wilson@cygnus.com>

	* flow.c (find_basic_blocks): Delete check for in_libcall_block when
	prev_code is a CALL_INSN.  Change check for REG_RETVAL note to
	use in_libcall_block.
	(find_basic_blocks_1): Delete check for in_libcall_block when prev_code
	is a CALL_INSN.  If CALL_INSN and in_libcall_block, then change code
	to INSN.

Mon Sep 21 14:02:23 1998

	* i386.h: (TARGET_SWITCHES) Improve doc for align-double.  Fix
	typo in no-fancy-math-387 description.

Mon Sep 21 09:27:18 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Sep 21 09:24:49 1998   Stan Cox  <scox@cygnus.com>

	* i386-coff.h (DBX_DEBUGGING_INFO): Added.

Mon Sep 21 09:14:49 1998   Robert Lipe  <robertl@dgii.com>

	* i386.h: (TARGET_SWITCHES) Add description fields for flags 
	documented in install.texi.
	(TARGET_OPTIONS) Likewise.

Mon Sep 21 01:39:03 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Sep 21 01:53:05 1998  Felix Lee  <flee@cygnus.com>

	* c-lex.c (init_lex): Use getenv ("LANG"), not GET_ENVIRONMENT ().
	* cccp.c (main): Likewise.

	* cccp.c, collect2.c, cpplib.c, gcc.c, config/i386/xm-cygwin32.h:
	Rename GET_ENVIRONMENT to GET_ENV_PATH_LIST, and fix some
	macro-use bugs.

Mon Sep 21 00:52:12 1998  Per Bothner  <bothner@cygnus.com>

	* Makefile.in (LIBS):  Link in libiberty.a.
	* c-common.c, gcc.c, toplev.c:  Replace (some) bcopy calls by memcpy.

Sun Sep 20 23:28:11 1998  Richard Henderson  <rth@cygnus.com>

	* reload1.c (emit_reload_insns): Accept a new arg for the bb.  Use
	it to update bb boundaries.  Update caller.
	* function.c (reposition_prologue_and_epilogue_notes): Update
	bb boundaries wrt the moved note.

Sun Sep 20 20:57:02 1998  Robert Lipe  <robertl@dgii.com>
	
	* configure.in (i*86-*-sysv5*): Use fixinc.svr4 to patch byteorder
	problems.
	* configure: Regenerate.

Sun Sep 20 19:01:51 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.c (alpha_sr_alias_set): New variable.
	(override_options): Set it.
	(alpha_expand_prologue, alpha_expand_epilogue): Use it.
	(mode_mask_operand): Fix signed-unsigned comparision warning.
	(alpha_expand_block_move): Likewise.
	(print_operand): Likewise.
	(get_aligned_mem): Use change_address.
	(alpha_set_memflags, alpha_set_memflags_1): Set the alias set.
	(alphaev4_insn_pipe, alphaev4_next_group): New functions.
	(alphaev4_next_nop, alphaev5_next_nop): New functions.
	(alpha_align_insns): Remade from old alphaev5_align_insns
	to handle multiple processors.
	(alpha_reorg): Call alpha_align_insns for both ev4 and ev5.
	* output.h (label_to_alignment): Prototype.

        * tree.c (new_alias_set): New function.
        * tree.h (new_alias_set): Declare it.
        * c-common.c (c_get_alias_set): Use it.

Sun Sep 20 12:35:55 1998  Richard Henderson  <rth@cygnus.com>

	* fold-const.c (fold): Yet another COND_EXPR bug: when folding 
	to an ABS expr, convert an unsigned input to signed.
	
Sun Sep 20 12:14:45 1998  Jeffrey A Law  (law@cygnus.com)

	* fold-const.c (fold): Fix another type in COND_EXPR handling code.

1998-09-20  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>

	* configure.in: Add support for c4x targets.
	* configure: Rebuilt.

Sun Sep 20 00:00:51 1998  Richard Henderson  <rth@cygnus.com>

        * combine.c (distribute_notes): If an insn is a cc0 user, only
        delete it if we can also delete the cc0 setter.

Sun Sep 20 00:22:23 1998  Michael Tiemann  <michael@impact.tiemann.org>

	* fold-const.c (fold): Fix typo in COND_EXPR handling code.
	(invert_truthvalue): Enable truthvalue inversion for
	floating-point operands if -ffast-math.

Sat Sep 19 23:58:07 1998  Melissa O'Neill <oneill@cs.sfu.ca>
			 
	* configure.in: Disable collect2 for nextstep.  Instead use
	crtbegin/crtend.
	* configure: Rebuilt.
	* config/nextstep.h (STARTFILE_SPEC): Add crtbegin.
	(ENDFILE_SPEC): Define.
	(OBJECT_FORMAT_MACHO): Define.
	(EH_FRAME_SECTION_ASM_OP): Define.
	* crtstuff.c: Handle MACHO.

Sun Sep 20 00:24:24 1998  Robert Lipe  <robertl@dgii.com>

	* config/i386/sco5.h (TARGET_MEM_FUNCTIONS):  Define.

1998-09-19  Torbjorn Granlund  <tege@matematik.su.se>

	* fp-bit.c (pack_d): Do not clear SIGN when fraction is 0.
	(_fpadd_parts): Get sign right for 0.

1998-09-19  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>

	* ginclude/varargs.h: Add support for C4x target.
	* ginclude/stdargs.h: Likewise.

Sat Sep 19 12:05:09 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.c (alpha_return_addr): SET should be VOIDmode.
	(alpha_emit_set_long_const): Rewrite to be callable from reload
	and 32-bit hosts.
	(alpha_expand_epilogue): Update for alpha_emit_set_long_const.
	* alpha.md (movdi): Likewise.

Sat Sep 19 07:33:36 1998  Richard Earnshaw (rearnsha@arm.com)

	* arm.c (add_constant): New parameter address_only, change caller.
	Set it non-zero if taking the address of an item in the pool.
	(arm_reorg): Handle cases where we need the address of an item in
	the pool.

	* arm.c (bad_signed_byte_operand): Check both arms of a sum in
	a memory address.
	* arm.md (splits for *extendqihi_insn and *extendqisi_insn): Handle
	memory addresses that are not in standard canonical form.

Sat Sep 19 01:00:32 1998  Michael Hayes  (mph@elec.canterbury.ac.nz)

	* README.C4X: New file with information about the c4x ports.
	* ginclude/va-c4x.h: New file for c4x varargs support.
	* config/c4x: New directory with c4x port files.

Fri Sep 18 22:52:05 1998  Jeffrey A Law  (law@cygnus.com)

	* reload.c (find_reloads): Do not replace a pseudo with 
	(MEM (reg_equiv_addr)) in the initializing insn for the
	pseudo.

Fri Sep 18 23:50:56 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* toplev.c (rest_of_compilation): Set bct_p on second call to
	loop_optimize.
	* loop.c (loop_optimize, scan_loop, strength_reduce): New argument
	bct_p.
	(strength_reduce): Only call analyze_loop_iterations and
	insert_bct if bct_p set.
	(check_dbra_loop): Fix typo.
	(insert_bct): Use word_mode instead of SImode.
	(instrument_loop_bct): Likewise.  Do not delete iteration count
	condition code generation insn.  Initialize iteration count before
	loop start.
	* rtl.h (loop_optimize): Update prototype.

	* ginclude/va-ppc.h (va_arg): longlong types in overflow area are
	not doubleword aligned.

	* rs6000.c (optimization_options): New function.
	(secondary_reload_class): Only call true_regnum for PSEUDO_REGs.
	* rs6000.h (OPTIMIZATION_OPTIONS): Define.
	(REG_ALLOC_ORDER): Allocate highest numbered condition regsiters
	first; cr1 can be used for FP record condition insns.

Fri Sep 18 09:44:55 1998  Nick Clifton  <nickc@cygnus.com>

	* config/m32r/m32r.h (m32r_block_immediate_operand): Add to
	PREDICATE_CODES.

	* config/m32r/m32r.md: Add "movstrsi" and "movstrsi_internal"
	patterns.

	* config/m32r/m32r.c (m32r_print_operand): Add 's' and 'p'
	operators.
	(block_move_call): New function: Call a library routine to copy a
	block of memory.
	(m32r_expand_block_move): New function: Expand a "movstrsi"
	pattern into a sequence of insns.
	(m32r_output_block_move): New function: Expand a
	"movstrsi_internal" pattern into a sequence of assembler opcodes.
	(m32r_block_immediate_operand): New function: Return true if the
	RTL is an integer constant, less than or equal to MAX_MOVE_BYTES.
	
Thu Sep 17 16:42:16 EDT 1998  Andrew MacLeod  <amacleod@cygnus.com>

	* except.c (start_catch_handler): Issue 'fatal' instead of 'error' and
	re-align some code.
	* libgcc2.c (__eh_rtime_match): fprintf a runtime error. Use <stdio.h>.

Thu Sep 17 12:24:33 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* regmove.c (copy_src_to_dest): Check that modes match.

Wed Sep 16 22:10:42 1998  Robert Lipe  <robertl@dgii.com>

	* config/i386/sco5.h (SUPPORTS_WEAK): True only if targeting ELF.

Wed Sep 16 15:24:54 1998  Richard Henderson  <rth@cygnus.com>

	* i386.h (PREFERRED_RELOAD_CLASS): Respect an existing class
	narrower than FLOAT_REGS.

Wed Sep 16 17:51:00 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* cpplib.c: removed OLD_GPLUSPLUS_INCLUDE_DIR
	* cccp.c: ditto
	* Makefile.in (old_gxx_include_dir): removed

Wed Sep 16 12:29:22 1998  Nick Clifton  <nickc@cygnus.com>

	* config/sh/sh.h: Update definition of HANDLE_PRAGMA to match
	new specification.

	* config/sh/sh.c (handle_pragma): Rename to sh_handle_pragma().
	(sh_handle_pragma): Change function arguments to match new
	specification for HANDLE_PRAGMA. 

Wed Sep 16 12:43:19 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* gen-protos.c (parse_fn_proto): Cast argument of ISALNUM to
	`unsigned char'.
	(main): Mark parameter `argc' with ATTRIBUTE_UNUSED.
	When generating output, initialize missing struct member to zero.

Wed Sep 16 14:47:43 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* regmove.c (copy_src_to_dest): Don't copy if that requires
	(a) new register(s).

Wed Sep 16 01:29:12 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* global.c (reg_allocno): Now static.
	* reload1.c (reg_allocno): Delete declaration.
	(order_regs_for_reload): Take no arguments.  Don't treat regs
	allocated by global differently than those allocated by local-alloc.

Wed Sep 16 01:09:01 1998  Kamil Iskra  <iskra@student.uci.agh.edu.pl>

	* m68k/m68k.c (output_function_prologue): Reverse NO_ADDSUB_Q
	condition, fix format strings.
	(output_function_epilogue): Likewise.

	* m68k/m68k.c: Don't include <stdlib.h> directly.

Wed Sep 16 00:30:56 1998  Geoff Keating  <geoffk@ozemail.com.au>

	* gcse.c: New definition NEVER_SET for reg_first_set, reg_last_set,
	mem_first_set, mem_last_set; because 0 can be a CUID.
	(oprs_unchanged_p): Use new definition.
	(record_last_reg_set_info): Likewise.
	(record_last_mem_set_info): Likewise.
	(compute_hash_table): Likewise.

Tue Sep 15 22:59:52 1998  Jeffrey A Law  (law@cygnus.com)

	* rs6000.c (output_epilogue): Handle Chill.

	* mn10200.h (ASM_OUTPUT_DWARF2_ADDR_CONST): Define.
	* mn10300.h (ASM_OUTPUT_DWARF2_ADDR_CONST): Define.

	* combine.c (make_extraction): If no mode is specified for
	an operand of insv, extv, or extzv, default it to word_mode.
	(simplify_comparison): Similarly.
	* expmed.c (store_bit_field): Similarly.
	(extract_bit_field): Similarly.
	* function.c (fixup_var_regs_1): Similarly.
	* recog.c (validate_replace_rtx_1): Similarly.
	* mips.md (extv, extzv, insv expanders): Default modes for most
	operands.  Handle TARGET_64BIT.
	(movdi_uld, movdi_usd): New patterns.

	* pa.c (emit_move_sequence): Do not replace a pseudo with its
	equivalent memory location unless we have been provided a scratch
	register.  Similarly do not call find_replacement unless a
	scratch register has been provided.

Tue Sep 15 19:23:01 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

        * i386.h (PREFERRED_RELOAD_CLASS): For standard 387 constants,
        return FLOAT_REGS.

Tue Sep 15 19:09:06 1998  Richard Henderson  <rth@cygnus.com>

	* tree.h (BUILT_IN_CALLER_RETURN_ADDRESS): Unused.  Kill.
	(BUILT_IN_FP, BUILT_IN_SP, BUILT_IN_SET_RETURN_ADDR_REG): Kill.
	(BUILT_IN_EH_STUB_OLD, BUILT_IN_EH_STUB, BUILT_IN_SET_EH_REGS): Kill.
	(BUILT_IN_EH_RETURN, BUILT_IN_DWARF_CFA): New.
	* c-decl.c (init_decl_processing): Update accordingly.
	* expr.c (expand_builtin): Likewise.

	* rtl.h (global_rtl): Add cfa entry.
	(virtual_cfa_rtx, VIRTUAL_CFA_REGNUM): New.
	(LAST_VIRTUAL_REGISTER): Update.
	* emit-rtl.c (global_rtl): Add cfa entry.
	(init_emit): Initialize it.
	* function.c (cfa_offset): New.
	(instantiate_virtual_regs): Initialize it.
	(instantiate_virtual_regs_1): Instantiate virtual_cfa_rtx.
	(expand_function_end): Call expand_eh_return.
	* tm.texi (ARG_POINTER_CFA_OFFSET): New.

	* except.c (current_function_eh_stub_label): Kill.
	(current_function_eh_old_stub_label): Likwise; update all references.
	(expand_builtin_set_return_addr_reg): Kill.
	(expand_builtin_eh_stub_old, expand_builtin_eh_stub): Kill.
	(expand_builtin_set_eh_regs): Kill.
	(eh_regs): Produce a third reg for the actual handler address.
	(eh_return_context, eh_return_stack_adjust): New.
	(eh_return_handler, eh_return_stub_label): New.
	(init_eh_for_function): Initialize them.
	(expand_builtin_eh_return, expand_eh_return): New.
	* except.h: Update prototypes.
	* flow.c (find_basic_blocks_1): Update references to the stub label.
	* function.h (struct function): Kill stub label elements.

	* libgcc2.c (in_reg_window): For REG_SAVED_REG, check that the
	register number is one that would be in the previous window.
	Provide a dummy definition for non-windowed targets.
	(get_reg_addr): New function.
	(get_reg, put_reg, copy_reg): Use it.
	(__throw): Rely on in_reg_window, not INCOMING_REGNO.  Kill stub
	generating code and use __builtin_eh_return.  Use __builtin_dwarf_cfa.

	* alpha.c (alpha_eh_epilogue_sp_ofs): New.
	(alpha_init_expanders): Initialize it.
	(alpha_expand_epilogue): Use it.
	* alpha.h: Declare it.
	* alpha.md (eh_epilogue): New.

	* m68h.h (ARG_POINTER_CFA_OFFSET): New.
	* sparc.h (ARG_POINTER_CFA_OFFSET): New.

Tue Sep 15 19:31:58 1998  Michael Meissner  <meissner@cygnus.com>

	* i960.h (CONST_COSTS): Fix thinko.  Test flag, not the constant
	flag bit mask.

Tue Sep 15 14:10:54 EDT 1998  Andrew MacLeod  <amacleod@cygnus.com>

	* except.h (struct eh_entry): Add false_label field.
	(end_catch_handler): Add prototype.
	* except.c (push_eh_entry): Set false_label field to NULL_RTX.
	(start_catch_handler): When using old style exceptions, issue
	runtime typematch code before continuing with the handler.
	(end_catch_handler): New function, generates label after handler
	if needed by older style exceptions.
	(expand_start_all_catch): No need to check for new style exceptions.
	(output_exception_table_entry): Only output the first handler label
	for old style exceptions.
	* libgcc2.c (__eh_rtime_match): New routine to lump runtime matching
	mechanism into one function, if a runtime matcher is provided.

Tue Sep 15 13:53:59 EDT 1998  Andrew MacLeod  <amacleod@cygnus.com>

	* config/i960/i960.h (SLOW_BYTE_ACCESS): Change definition to 1.

Tue Sep 15 09:59:01 1998  Mark Mitchell  <mark@markmitchell.com>

	* integrate.c (copy_decl_list): Fix typo.

Tue Sep 15 04:18:52 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (movdf_const_intreg_sp32): Fix length
	attribute.

Mon Sep 14 14:02:53 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Sep 14 10:33:56 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Mon Sep 14 09:51:05 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Sun Sep 13 22:10:18 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* invoke.texi (C Dialect Options): Put back missing @end itemize.

Mon Sep 14 02:33:46 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* configure.in: remove usage of `!' to negate the result of a
	command; some common shells do not support it

Sun Sep 13 19:17:35 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* configure.in: in sparc9-sol2 config, use 'if test' not
	brackets.
	* configure: Rebuilt.

	* config/sparc/sol2-sld-64.h (SPARC_DEFAULT_CMODEL): Change to
	CM_MEDANY.
	(CPP_CPU_SPEC): Do not define _LP64, header files do this.
	(CPP_CPU_DEFAULT_SPEC): Likewise.
	* config/sparc/sol2.h (INIT_SUBTARGET_OPTABS): Get the names right
	for arch64 libfuncs.
	
	* config/sparc/sparc.md (goto_handler_and_restore): Allow any mode
	for operand zero.

Sun Sep 13 09:11:59 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* acconfig.h (NEED_DECLARATION_STRSIGNAL): Provide a stub.

	* collect2.c: Don't declare `sys_siglist' here.
	(my_strsignal): Prototype and define new function.  Use it in
	place of `sys_siglist' hacks.

	* mips_tfile.c:  Likewise.

	* configure.in (AC_CHECK_FUNCS): Check for strsignal.
	(GCC_NEED_DECLARATIONS): Likewise.

	* system.h (strsignal): Prototype it, if necessary.
	(sys_siglist): Declare it, if necessary.

Sun Sep 13 04:37:28 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* loop.c (move_movables): While removing insn sequences, preserve
	the next pointer of the most recently deleted insn when we skip
	over a NOTE.

Sun Sep 13 08:13:39 1998  Ben Elliston  <bje@cygnus.com>

	* objc/config-lang.in: Do not output the name of the selected
	thread file when building the front-end.  The Makefile for the
	runtime library will do this.

	* objc/Make-lang.in: Do not build the runtime library or install
	the Objective C header files.  The Makefile for the runtime
	library will do this.

	* objc/Makefile.in (all.indirect): Only build the front-end.
	(compiler): Rename to `frontend'.
	(obj-runtime): Remove target.
	(copy-headers): Likewise.
	(clean): No need to remove `libobjc.a' any longer.

Sat Sep 12 11:37:19 1998  Michael Meissner  <meissner@cygnus.com>

	* rs6000.h ({ASM,CPP}_CPU_SPEC): Add support for all machines
	supported with -mcpu=xxx.

Fri Sep 11 23:55:54 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* flow.c (mark_set_1): Recognize multi-register structure return
	values in CALL insns.
	(mark_used_regs): Likewise.
	(count_reg_sets_1): Likewise.
	(count_reg_references):	Likewise.
	* rtlanal.c (note_stores): Likewise.
	(reg_overlap_mentioned_p): Likewise.
	* haifa-sched.c (check_live_1): Likewise.
	(update_live_1): Likewise.
	(sched_analyze_1): Likewise.
	(sched_note_set): Likewise.
	(birthing_insn_p): Likewise.
	(attach_deaths): Likewise.

	* config/sparc/sparc.md (movdf_const_intreg_sp64): Disable.


Fri Sep 11 22:57:55 1998  Eric Dumazet  <dumazet@cosmosbay.com>

	* config/i386/sco5.h (ASM_WEAKEN_LABEL): Defined as in svr4.h.

Thu Sep 10 22:02:04 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* glimits.h (__LONG_MAX__): Recognize __sparcv9 too.

Thu Sep 10 21:19:10 1998  Jakub Jelinek  <jj@sunsite.ms.mff.cuni.cz>

	* configure.in: Add check for GAS subsection -1 support.
	* acconfig.h (HAVE_GAS_SUBSECTION_ORDERING): Add.
	* configure config.in: Rebuilt.
	* config/sparc/sparc.h (CASE_VECTOR_MODE): For V9 flag_pic, use
	SImode is subsection -1 works, else use DImode.
	(ASM_OUTPUT_ADDR_VEC_START, ASM_OUTPUT_ADDR_VEC_END): Define if
	subsection -1 works.
	* config/sparc/sparc.c (sparc_output_addr_vec,
	sparc_output_addr_diff_vec): Use them if defined.

Thu Sep 10 10:46:01 1998  Mark Mitchell  <mark@markmitchell.com>

	* tree.h (DECL_ORIGIN): New macro.
	* integrate.c (copy_and_set_decl_abstract_origin): New function.
	(copy_decl_list): Use it.
	(integrate_parm_decls): Likewise.
	(integrate_decl_tree): Likewise.
	* dwarf2out.c (decl_ultimate_origin): Simplify.
	* dwarfout.c (decl_ultimate_origin): Likewise.
	* c-decl.c (duplicate_decls): Use DECL_ORIGIN.
	(pushdecl): Likewise.

Thu Sep 10 08:01:31 1998  Anthony Green  <green@cygnus.com>

	* config/rs6000/rs6000.c (output_epilog): Add Java support.

Thu Sep 10 14:48:59 1998  Martin von Löwis  <loewis@informatik.hu-berlin.de>

	* invoke.texi (C++ Dialect Options): Document -fhonor-std.

Thu Sep 10 01:38:05 1998  Jeffrey A Law  (law@cygnus.com)

	* reg-stack.c (straighten_stack): Do nothing if the virtual stack is
	empty or has a single entry.

	* toplev.c (rest_of_compilation): Open up the dump file for reg-stack
	before calling reg_to_stack.

Thu Sep 10 00:03:34 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.c (alphaev5_insn_pipe): Abort on default case.
	(alphaev5_next_group): Swallow CLOBBERs and USEs.

	* c-tree.h (warn_long_long): Declare it.

Wed Sep  9 23:31:36 1998  (Stephen L Moshier) <moshier@world.std.com>

	* emit-rtl.c (gen_lowpart_common): Disable optimization of
	initialized float-int union if the value is a NaN.

Wed Sep  9 23:00:48 1998  Nathan Sidwell  <nathan@acm.org>

	* c-lex.c (real_yylex): Don't warn about long long constants if 
	we're allowing long long

Wed Sep  9 21:58:41 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>

	* except.h (current_function_eh_stub_label): Declare.
	(current_function_eh_old_stub_label): Declare.
	* function.h (struct function): New members eh_stub_label and
	eh_old_stub_label.
	* except.c (current_function_eh_stub_label): New variable.
	(current_function_eh_old_stub_label): New variable.
	(init_eh_for_function): Clear them.
	(save_eh_status): Save them.
	(restore_eh_status): Restore them.
	(expand_builtin_eh_stub): Set current_function_eh_stub_label.
	(expand_builtin_eh_stub_old): Set current_function_eh_old_stub_label.
	* flow.c (find_basic_blocks_1): When handling a REG_LABEL note, don't
	make an edge from the block that contains it to the block starting
	with the label if this label is one of the eh stub labels.
	If eh stub labels exist, show they are reachable from the last block
	in the function.

	* reload1.c (reload): Break out several subroutines and make some
	variables global.
	(calculate_needs_all_insns): New function, broken out of reload.
	(calculate_needs): Likewise.
	(find_reload_regs): Likewise.
	(find_group): Likewise.
	(find_tworeg_group): Likewise.
	(something_needs_reloads): New global variable, formerly in reload.
	(something_needs_elimination): Likewise.
	(caller_save_spill_class): Likewise.
	(caller_save_group_size): Likewise.
	(max_needs): Likewise.
	(group_size): Likewise.
	(max_groups): Likewise.
	(max_nongroups): Likewise.
	(group_mode): Likewise.
	(max_needs_insn): Likewise.
	(max_groups_insn): Likewise.
	(max_nongroups_insn): Likewise.
	(failure): Likewise.

	* print-rtl.c (print_rtx): For MEMs, print MEM_ALIAS_SET.

Wed Sep  9 13:14:41 1998  Richard Henderson  <rth@cygnus.com>

	* loop.c (load_mems): Copy rtx for output mem.

Wed Sep  9 15:16:58 1998  Gavin Romig-Koch  <gavin@cygnus.com>

	* mips/abi64.h (LONG_MAX_SPEC): Don't set LONG_MAX for
	mips1 or mips2 either.

Wed Sep  9 12:31:35 1998  Jeffrey A Law  (law@cygnus.com)

	* pa.c (pa_reorg): New marking scheme for jumps inside switch
	tables.
	(pa_adjust_insn_length): Update to work with new marking scheme
	for jumps inside switch tables. 
	* pa.md (switch_jump): Remove pattern.
	(jump): Handle jumps inside jump tables.

	* Makefile.in (profile.o): Depend on insn-config.h

Wed Sep  9 09:36:51 1998  Jim Wilson  <wilson@cygnus.com>

	* iris6.h (DWARF2_UNWIND_INFO): Undef.

Wed Sep  9 01:32:01 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	Add preliminary native sparcv9 Solaris support.
	* configure.in: Recognize sparv9-*-solaris2*
	* configure: rebuilt
	* config.sub: Recognize sparcv9 just like sparc64.
	* config/sparc/sol2-c1.asm config/sparc/sol2-ci.asm
	config/sparc/sol2-cn.asm: Macroize so it can be shared between
	32-bit and 64-bit Solaris systems.
	* config/sparc/t-sol2: Assemble those with cpp.
	* config/sparc/sparc.h (TARGET_CPU_sparcv9): New alias for v9.
	(*TF*_LIBCALL): If ARCH64 use V9 names.
	* config/sparc/{xm-sysv4-64,sol2-sld-64}.h: New	files.

Wed Sep  9 01:07:30 1998  Jakub Jelinek  <jj@sunsite.ms.mff.cuni.cz>

	* config/sparc/sparc.h (TARGET_CM_MEDMID): Fix documentation.
	(CASE_VECTOR_MODE): Set to SImode even if PTR64, when MEDLOW and
	not doing pic.
	(ASM_OUTPUT_ADDR_{VEC,DIFF}_ELT): Check CASE_VECTOR_MODE not
	Pmode.
	* config/sparc/sparc.md (tablejump): Likewise, and sign extend op0
	to Pmode if CASE_VECTOR_MODE is something else.

Wed Sep  9 00:10:31 1998  Jeffrey A Law  (law@cygnus.com)

	* prefix.c (update_path): Correctly handle cases where PATH is
	a substring of the builtin prefix, but specifies a different
	directory location.

Tue Sep  8 23:46:04 1998  Hans-Peter Nilsson  <hp@axis.se>

	* expr.c: Corrected comment about what MOVE_RATIO does.
	* config/alpha/alpha.h: Ditto.
	* config/1750a/1750a.h: Ditto.
	* config/clipper/clipper.h: Ditto.
	* config/i386/i386.h: Ditto.

Tue Sep  8 22:56:12 1998  Jeffrey A Law  (law@cygnus.com)

	* configure.in (m68k-next-nextstep3*): Use collect2.
	Similarly for x86 NeXT configurations.
	* configure: Rebuilt.

Tue Sep  8 01:38:57 1998  Nathan Sidwell  <nathan@acm.org>

	* configure.in: Don't assume srcdir is .../gcc
	* configure: Rebuilt.

Sat Sep  5 16:34:34 EDT 1998  John Wehle  (john@feith.com)

	* global.c: Update comments.
	(global_alloc): Assign allocation-numbers
	even for registers allocated by local_alloc in case
	they are later spilled and retry_global_alloc is called.
	(mark_reg_store, mark_reg_clobber,
	mark_reg_conflicts, mark_reg_death): Always record a
	conflict with a pseudo register even if it has been
	assigned to a hard register.
	(dump_conflicts): Don't list pseudo registers already assigned to
	a hard register as needing to be allocated, but do list their
	conflicts.
	* local-alloc.c: Update comment.

Mon Sep  7 23:38:01 1998  Jeffrey A Law  (law@cygnus.com)

	* configure.in: Check for bogus GCC_EXEC_PREFIX and LIBRARY_PATH.
	* configure: Rebuilt.

Mon Sep  7 22:41:46 1998  Michael Meissner  <meissner@cygnus.com>

	* rs6000.c (rs6000_override_options): Fix name for ec603e, to add
	missing 'c'.
	* t-ppccomm (MULTILIB_MATCHES_FLOAT): Add support for -mcpu=xxx
	for all targets that set -msoft-float.

Mon Sep  7 23:30:07 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* toplev.c (print_switch_values): Make static to match prototype.

Mon Sep  7 19:13:59 1998  Jeffrey A Law  (law@cygnus.com)

	* configure.in: If we are unable to find the "gnatbind" program,
	then do not configure the ada subdir.
	* configure: Rebuilt.

Sun Sep 6 14:03:58 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Sun Sep 6 13:28:07 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Sun Sep  6 08:54:14 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* Makefile.in (toplev.o): Depend on $(EXPR_H).
	(insn-extract.o, insn-attrtab.o): Depend on toplev.h.

	* gansidecl.h: Define ATTRIBUTE_NORETURN.

	* genattrtab.c: Have insn-attrtab.c include toplev.h.

	* genextract.c: Have insn-extract.c include toplev.h.

	* rtl.h: Don't prototype `fatal_insn_not_found' and `fatal_insn'.

	* toplev.c: Include expr.h.
  	(really_sorry, fancy_abort): Remove prototypes.
	(set_target_switch): Add argument in prototype.
	(vfatal): Mark prototype with ATTRIBUTE_NORETURN.
	(v_really_sorry): Likewise.
	(print_version, print_single_switch, print_switch_values): Make
	static and add prototype arguments.
	(decl_printable_name): Add prototype arguments.
	(lang_expand_expr_t): New typedef.
	(lang_expand_expr): Declare as a lang_expand_expr_t.
	(incomplete_decl_finalize_hook): Add prototype argument.
	(decl_name): Mark variable `verbosity' with ATTRIBUTE_UNUSED.
	(botch): Likewise for variable `s'.
	(rest_of_type_compilation): Mark variables `type' and `toplev'
	with ATTRIBUTE_UNUSED if none of DBX_DEBUGGING_INFO,
	XCOFF_DEBUGGING_INFO or SDB_DEBUGGING_INFO are defined.
	(display_help): Make variable `i' an `unsigned long'.
	(main): Remove unused parameter `envp'.
	Cast assignment to `lang_expand_expr' to a `lang_expand_expr_t'.
	Cast -1 when comparing it with a `size_t'.

	* toplev.h (fatal, fatal_io_error, pfatal_with_name): Mark
	prototype with ATTRIBUTE_NORETURN.
	(fatal_insn_not_found, fatal_insn, really_sorry,
	push_float_handler, pop_float_handler): Add prototypes.
	(fancy_abort): Mark prototype with ATTRIBUTE_NORETURN.
	(do_abort, botch): Add prototypes.
	
Sat Sep  6 12:05:18 1998  John Carr  <jfc@mit.edu>

	* final.c (final): If a label is reached only from a single jump,
	call NOTICE_UPDATE_CC on the jump and its predecessor before
	emitting the insn after the label.
	
	* i386.h: Add AMD K6 support.
	Change TARGET_* macros to use table lookup.
	(INITIALIZE_TRAMPOLINE): Improve trampoline code.
	(ADJUST_COST): Change definition to call function in i386.c.
	(ISSUE_RATE): Define as 2 for anything newer than an 80486.
	* i386.c: Add AMD K6 support.
	Add constants for feature tests used by TARGET_* macros.
	(split_di): If before reload, call gen_lowpart and gen_highpart.
	(x86_adjust_cost): New function.
	(put_jump_code): New function.
	(print_operand): New codes 'D' and 'd'.
	* i386.md: New insn types.  New insn attribute "memory".
	Redefine scheduling parameters to use new types and add AMD K6
	support.  Explicitly set type of most insns.
	(move insns): K6 prefers movl $0,reg to xorl reg,reg.  Pentium
	Pro and K6 prefer movl $1,reg to incl reg.
	(adddi3, subdi3): Set cc_status.
	(DImode shift patterns): Change label counters from HOST_WIDE_INT
	to int; x86 can't have more than 2^31 DImode shifts per	file.
	(setcc): Combine all setcc patterns.  Allow writing memory.
	Combine all jump patterns using match_operator.
	(*bzero): Name pattern.  Emit mutliple stos instructions when that
	is faster than rep stos.
	(xordi3, anddi3, iordi3): Simplify DImode logical patterns and
	add define_split.

Sun Sep  6 11:17:20 1998  Dave Love  <d.love@dl.ac.uk>

	* config/m68k/x-next (BOOT_LDFLAGS): Define suitably for f771
	linking.

Sat Sep  5 22:05:25 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.c (alpha_ra_ever_killed): Inspect the topmost sequence,
	not whatever we're generating now.

	* alpha.c (set_frame_related_p, FRP): New.
	(alpha_expand_prologue): Mark frame related insns.
	(alpha_expand_epilogue): Likewise, but with a null FRP.
	* alpha.h (INCOMING_RETURN_ADDR_RTX): New.
	* alpha.md (exception_receiver): New.
	* alpha/crtbegin.asm (.eh_frame): New beginning.
	(__do_frame_setup, __do_frame_takedown): New.
	* alpha/crtend.asm (.eh_frame): New ending.
	* alpha/elf.h (DWARF2_DEBUGGING_INFO): Define.
	(ASM_SPEC): Don't emit both dwarf2 and mdebug.
	(ASM_FILE_START): Don't emit .file for dwarf2.

	* rtl.h (enum reg_note): Add REG_FRAME_RELATED_EXPR.
	* rtl.c (reg_note_name): Likewise.
	* rtl.texi (REG_NOTES): Likewise.
	* dwarf2out.c (dwarf2out_frame_debug): Use it.  Recognize a store
	without an offset.

Sat Sep  5 14:47:17 1998  Richard Henderson  <rth@cygnus.com>

	* i386.h (PREFERRED_RELOAD_CLASS): Standard fp constants load to TOS.
	* i386.md (movsf, movdf, movxf): Validate memory address returned
	from force_const_mem.  Kill useless REG_EQUAL setting code.

Sat Sep  5 14:23:31 1998  Torbjorn Granlund <tege@matematik.su.se>

	* m68k.md (zero_extendsidi2): Fix typo.

Sat Sep  5 13:40:24 1998  Krister Walfridsson  <cato@df.lth.se>

	* configure.in: Removed references to the removed file
	* config/xm-netbsd.h. Use ${cpu_type}/xm-netbsd.h for
	* arm*-*-netbsd* and ns32k-*-netbsd*.
	* config/i386/xm-netbsd.h: Removed unnecessary file.
	* config/m68k/xm-netbsd.h: Likewise.
	* config/sparc/xm-netbsd.h: Likewise.
	* config/mips/xm-netbsd.h: Likewise.

Sat Aug 29 13:32:58 1998  Mumit Khan  <khan@xraylith.wisc.edu>

	* i386/cygwin32.h (BIGGEST_ALIGNMENT): Define.
	(PCC_BITFIELD_TYPE_MATTERS): Define to be 0.

	* i386/cygwin32.h (ASM_OUTPUT_SECTION_NAME): Don't check for
	for exact section attributions.

	* i386/mingw32.h (CPP_PREDEFINES): Add __MSVCRT__ for msvc
	runtime.
	* i386/crtdll.h (CPP_PREDEFINES): Define.

Sat Sep  5 03:23:05 1998  Jeffrey A Law  (law@cygnus.com)

	* m68k.md (5200 movqi): Do not allow byte sized memory references
	using address regs.
	* m68k.c (output_move_qimode): Do not use byte sized operations on
	address registers.

        * Makefile.in (pexecute.o): Use pexecute.c from libiberty.  Provide
	explicit rules for building.  Similarly for alloca, vfprintf,
	choose-temp and mkstemp, getopt, getopt1, and obstack.
	(INCLUDES): Add $(srcdir)/../include.
        * pexecute.c, alloca.c, vfprintf.c, choose-temp.c, mkstemp.c: Delete.
	* getopt.h, getopt.c getopt1.c, obstack.c, obstack.h: Likewise.

Fri Sep  4 11:57:50 1998  Tom Tromey  <tromey@cygnus.com>

	* gcc.c (do_spec_1): [case 'o'] Account for
	lang_specific_extra_outfiles.
	(main): Correctly clear all slots in outfiles for
	lang_specific_extra_outfiles.  Set input_file_number before
	calling lang_specific_pre_link.

Fri Sep  4 10:37:07 1998  Jim Wilson  <wilson@cygnus.com>

	* loop.c (load_mems): Fix JUMP_LABEL field after for_each_rtx call.

Fri Sep  4 02:01:05 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (output_double_int): In all V9 symbolic
	cases, use xword.
	(sparc_output_deferred_case_vectors): If no work to do, return.
	Fix thinko in Sept 1 change.

1998-09-03  SL Baur  <steve@altair.xemacs.org>

	* Makefile.in: add semicolon in BISON definition for portability.

Thu Sep  3 13:34:41 1998  Toon Moene  <toon@moene.indiv.nluug.nl>

	* config/nextstep.c (handle_pragma): Correct name of third
	argument.

Tue Sep  1 11:30:33 1998  Nick Clifton  <nickc@cygnus.com>

	* config/m32r/m32r.md: Change (reg:CC 17) to (reg:SI 17).
	* config/m32r/m32r.h: Make register 17 be fixed.
	* config/m32r/m32r.c: Use SImode for cc operations.

Thu Sep  3 18:17:34 1998 Benjamin Kosnik  <bkoz@cygnus.com>

	* invoke.texi (Warning Options): Add -Wnon-template-friend
 	documentation.

Thu Sep  3 18:16:16 1998  Michael Meissner  <meissner@cygnus.com>

	* rs6000.c (rs6000_override_options): Add -mcpu={401,e603e}.

Thu Sep  3 18:05:16 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.md (movsf): Disable explicit secondary-reload-like
	functionality if TARGET_POWERPC64.
	(movdf): Remove TARGET_POWERPC64 explicit secondary-reload-like
	functionality.

Thu Sep  3 11:41:40 1998  Robert Lipe   <robertl@dgii.com>

	* fixinc.sco: Borrow code to wrap 'bool' typedefs from tinfo.h
	and term.h from fixinc.wrap.

Thu Sep  3 09:47:31 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* aclocal.m4 (GCC_HEADER_STRING): New macro to detect if it is
 	safe to include both string.h and strings.h together.
  	(GCC_NEED_DECLARATION): Test STRING_WITH_STRINGS when deciding
 	which headers to search for function declarations.  Continue to
 	prefer string.h over strings.h when both are not acceptable.

	* acconfig.h (STRING_WITH_STRINGS): Add stub.

	* configure.in: Call GCC_HEADER_STRING.

	* system.h: Test STRING_WITH_STRINGS when deciding which headers
 	to include.  Continue to prefer string.h over strings.h when both
 	are not acceptable.

Wed Sep  2 23:56:29 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (output_double_int): If V9 and MEDLOW, do
	not assume top 32-bits of symbolic addresses are zero if
	flag_pic.

Thu Sep  3 00:23:21 1998  Richard Henderson  <rth@cygnus.com>

	* ginclude/va-alpha.h: Protect entire second portion of the
	file against double inclusion.

Thu Sep  3 00:37:55 1998  Ovidiu Predescu  <ovidiu@aracnet.com>

	Added support for the Boehm's garbage collector.
	* configure.in: Handle --enable-objc-gc.
	* configure: Rebuilt.
	* Makefile.in (CHECK_TARGETS): Add check-objc.
	(check-objc): New rule.
	* objc/Make-lang.in: Build a different Objective-C library that
 	runs with the Boehm's collector.
	* objc/encoding.c (objc_round_acc_size_for_types): New function.
	* objc/encoding.c: Correctly compute the size of compound types in
 	the presence of bitfields. Skip the variable name of the type if
 	any. Added support for long long.
	* objc/encoding.h (_C_GCINVISIBLE): New specifier.
	(_F_GCINVISIBLE): New mask.
	* objc/gc.c: New file. Compute the type memory mask associated with
	a class based on the runtime information.
	* objc/misc.c: Added the hooks that use the Boehm's collector
 	allocation functions.
	* objc/objc-act.c (build_class_template): Generate a new class
 	member (gc_object_type) to hold the class' type memory mask.
	(build_shared_structure_initializer): Initialize the new member to
	NULL.
	(encode_complete_bitfield): New function. Generate the new
 	encoding.
	(encode_field_decl): Generate the new encoding only for the GNU
	runtime.
	* objc/objc-api.h (_C_LNG_LNG, _C_ULNG_LNG): New specifiers for the
	long long types.
	(class_get_gc_object_type): New function to mark a pointer instance
	variable as a weak pointer.
	* objc/objc-features.texi: New file.
	* objc/objc.h (gc_object_type): New class member.
	* objc/objects.c (class_create_instance): Create a typed memory
 	object when compiled with Boehm's collector support.
	* objc/sendmsg.c (__objc_init_install_dtable): Call
 	__objc_send_initialize instead of setting the initialize flag.
	(__objc_send_initialize): Call __objc_generate_gc_type_description
 	to generate the class type memory mask. Rewrite the code that
 	sends the +initialize so that it is called only once (bug report
 	and fix from Ronald Pijnacker <Ronald.Pijnacker@best.ms.philips.com>).
	* testsuite/objc: New testsuite for Objective-C type encoding.
	* testsuite/lib/objc-torture.exp: New file.
	* testsuite/lib/objc.exp: New file.

Wed Sep  2 14:47:36 1998  Jim Wilson  <wilson@cygnus.com>

	* jump.c (jump_optimize): In if/then/else transformations, add
	another call to modified_between_p for the jump insn.

Wed Sep  2 14:16:49 1998  Jeffrey A Law  (law@cygnus.com)

	* fix-header.c (symlink): Treat like readlink.

Wed Sep  2 19:30:06 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* dwarfout.c (fundamental_type_code): Encode 32 bit floats/doubles
	as FT_float.

Wed Sep  2 10:06:07 1998  Nick Clifton  <nickc@cygnus.com>

	* config/nextstep.h:    Update HANDLE_PRAGMA macro.
	* config/h8300/h8300.h: Update HANDLE_PRAGMA macro.
	* config/i960/i960.h:   Update HANDLE_PRAGMA macro.
	
	* config/nextstep.c (handle_pragma): Take three arguments, as per
	the new HANDLE_PRAGMA macro specification.
	* config/h8300/h8300.c (handle_pragma): Take three arguments, as
	per the new HANDLE_PRAGMA macro specification.
	* config/i960/i960.c (process_pragma): Take three arguments, as
	per the new HANDLE_PRAGMA macro specification.

Wed Sep  2 09:25:29 1998  Nick Clifton  <nickc@cygnus.com>

	* c-lex.c (check_newline):  Call HANDLE_PRAGMA before
	HANDLE_SYSV_PRAGMA if both are defined.  Generate warning messages
	if unknown pragmas are encountered.
	(handle_sysv_pragma): Interpret return code from
	handle_pragma_token ().  Return success/failure indication rather
	than next unprocessed character. 
	(pragma_getc): New function: retrieves characters from the
	input stream.  Defined when HANDLE_PRAGMA is enabled.
	(pragma_ungetc): New function: replaces characters back into the
	input stream.  Defined when HANDLE_PRAGMA is enabled.
	
	* c-pragma.c (handle_pragma_token): Return success/failure status
	of the parse.
	
	* c-pragma.h: Change prototype of handle_pragma_token().

	* varasm.c: (handle_pragma_weak): Only create this function if
	HANDLE_PRAGMA_WEAK is defined.

	* c-common,c (decl_attributes): If defined call the expression
	contained within the INSERT_ATTRIBUTES macro before adding
	attributes to a decl.

	* tm.texi (HANDLE_PRAGMA): Document the new verion of
	HANDLE_PRAGMA, which takes three arguments.
	(INSERT_ATTRIBUTES): Document this new macro.  

	* LANGUAGES: Document the new version of HANDLE_PRAGMA and the
	new INSERT_ATTRIBUTES macro.

Wed Sep  2 02:03:23 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (movdf): Only generate special RTL for
	LABEL_REFs when PIC.
	(move_label_di): Remove
	(movdi_pic_label_ref, movdi_high_pic_label_ref,
	movdi_lo_sum_pic_label_ref): New patterns for 64-bit label
	references when PIC.
	* config/sparc/sparc.h (ASM_OUTPUT_ADDR_VEC_ELT,
	ASM_OUTPUT_ADDR_DIFF_ELT): Don't do anything special for MEDLOW,
	output an .xword for all 64-bit cases.
	
Tue Sep  1 15:55:17 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (finalize_pic): Don't output arbitrary
	alignment, use FUNCTION_BOUNDARY instead.
	(sparc_output_deferred_case_vectors): Likewise.

Mon Aug 31 17:25:41 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (movsf_const_intreg): Kill warning.
	(movtf_insn_sp64, movtf_no_e_insn_sp64): Reorder alternatives.

Mon Aug 31 13:57:55 1998  Richard Henderson  <rth@cygnus.com>

	* alpha/va_list.h: New file.
	* alpha/x-alpha (EXTRA_HEADERS): New.  Add va_list.h.

Mon Aug 31 14:55:02 1998  Jeffrey A Law  (law@cygnus.com)

	* NEWS: Add SCO Openserver and Unixware 7 notes.

	* NEWS: Fix typos.

Mon Aug 31 15:42:18 1998  Dave Brolley  <brolley@cygnus.com>

	* varasm.c (compare_constant_1): Handle RANGE_EXPR.
	(record_constant_1): Handle RANGE_EXPR.

Mon Aug 31 10:54:03 1998  Richard Henderson  <rth@cygnus.com>

	* print-rtl.c (print_rtx): NOTE_INSN_LIVE has an rtx not a bitmap.
	* haifa-sched.c (sched_analyze): Handle NOTE_INSN_RANGE_START
	and NOTE_INSN_RANGE_END specially.
	(reemit_notes): Likewise.

Mon Aug 31 10:18:52 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* sparc.c (TMASK, UMASK): Use `(unsigned)1' not `1U'.
	(ultrasparc_sched_init): Remove unneeded &.

Mon Aug 31 10:47:16 1998  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>

	* config/m68k/m68k.h (TARGET_SWITCHES): Don't remove MASK_68040
	for m68020-60, to prevent the use of fintrz.

Sun Aug 30 22:17:20 1998  Mark Mitchell  <mark@markmitchell.com>

	* configure.in: If the native compiler is GCC use $(WARN_CFLAGS) 
	even in stage1. 
	* Makefile.in: Likewise.
	* configure: Regenerated.

Sun Aug 30 22:15:41 1998  H.J. Lu  (hjl@gnu.org)

	* configure.in (gxx_include_dir): Changed to
	'${prefix}/include/g++'-${libstdcxx_interface}.
	* configure: Rebuilt.

Sun Aug 30 20:19:43 1998  Hans-Peter Nilsson  <hp@axis.se>

	* expr.c (expand_expr): Change ">" to ">=" making MOVE_RATIO use
	consistent.
	* tm.texi (Costs): Say MOVE_RATIO is number of mem-mem move
	*sequences* *below* which scalar moves will be used.

Sun Aug 30 17:18:43 1998  Jeffrey A Law  (law@cygnus.com)

	* collect2.c (mktemp): Delete unused declaration.

	* config/xm-netbsd.h: Remove unnecessary file.
	* config/*/xm-netbsd.h: Do not include the generic xm-netbsd.h
	file anymore, it is not needed.

Sun Aug 30 16:05:45 1998  Mark Mitchell  <mark@markmitchell.com>

	* convert.c (convert_to_integer): Issue an error on conversions to
	incomplete types.

Sun Aug 30 16:47:20 1998  Martin von Lvwis  <loewis@informatik.hu-berlin.de>

	* Makefile.in: Add lang_tree_files and gencheck.h.
	* configure.in: Generate them.
	* gencheck.c: Include gencheck.h.

Sat Aug 29 21:38:24 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (pic_lo_sum_di, pic_sethi_di): Rename to
	movdi_lo_sum_pic and movdi_high_pic and make visible.
	* config/sparc/sparc.c (legitimize_pic_address): For -fPIC,
	emit these when Pmode is not SImode.
	* config/sparc/linux64.h (SPARC_DEFAULT_CMODEL): Make CM_MEDLOW.

Sat Aug 29 14:59:32 1998  Mumit Khan  <khan@xraylith.wisc.edu>

	* i386/cygwin32.h (ASM_OUTPUT_SECTION_NAME): Don't emit
	.linkonce directive after the first time.

Sat Aug 29 12:39:56 1998  Jeffrey A Law  (law@cygnus.com)

        * m68k.md (beq0_di): Generate correct (and more efficient) code when
        the clobbered operand overlaps with an input.
        (bne0_di): Similarly.

	* Makefile.in (INSTALL): Remove "--no-header" argument.

        * NEWS: Various updates.

Fri Aug 28 19:00:44 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (arith_operand, const64_operand,
	const64_high_operand, arith_double_4096_operand): Mark mode as
	unused.
	(create_simple_focus_bits): Remove unused arg highest_bit_set, all
	callers changed.
	(sparc_emit_set_const64): Remove unused variable i.
	(sparc_splitdi_legitimate): Likewise for addr_part.
	(ultra_code_from_mask): Likewise for mask.
	(ultra_cmove_results_ready_p): Fixup entry modulo calc. and
	reverse return values so it matches usage and comments.
	(ultra_flush_pipeline): Likewise.
	(ultra_fpmode_conflict_exists): Likewise, remove unused variable
	this_type, and allow loads and stores of differing FP modes as
	they do not create a conflict.
	(ultra_find_type): Initialize fpmode to SFmode, fix
	parenthesization thinkos in large conditional.
	(ultrasparc_sched_init): Mark dump and sched_verbose as unused.
	Init free_slot_mask after ultra_cur_hist is reset, not before.
	(ultrasparc_rescan_pipeline_state): Remove unused variable ucode.
	(ultrasparc_sched_reorder): Don't bzero current pipeline state,
	use ultra_flush_pipeline instead, then re-init group pointer.
	Fix statement with no effect.  If no progress made in, and no
	instructions scheduled at all, advance to new pipeline cycle else
	we get into an endless loop.
	(ultrasparc_adjust_cost): Remove previous arg.
	* config/sparc/sparc.h (ADJUST_COST): Update to reflect that.
	
Fri Aug 28 13:52:35 1998  Jim Wilson  <wilson@cygnus.com>

	* sparc.md (DImode, DFmode, TFmode splits): Delete self_reference
	code.  Use reg_overlap_mentioned_p to detect when source and
	destination overlap.
	(negtf2_notv9+1): Use DFmode instead of SFmode in last two operands.

1998-08-28  Brendan Kehoe  <brendan@cygnus.com>

	* loop.c (check_dbra_loop): Pass COMPARISON_VALUE, not
	COMPARISON_VAL, into invariant_p.

Fri Aug 28 15:13:25 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

        * regmove.c (regclass_compatible_p): New function.
        (regmove_optimize): Use it.

        Use NREGS parameter insted of calling max_reg_num.

        (fixup_match_1): Don't use code = MINUS when later tieing with
        a hard register is likely.

Fri Aug 28 14:54:07 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* loop.c (check_dbra_loop): Fix calculation of FINAL_VALUE when
	COMPARISON_VAL was normalized.

Thu Aug 27 20:10:46 1998  Jeffrey A Law  (law@cygnus.com)

	* loop.c (check_dbra_loop): The loop ending comparison value
	must be an invariant or we can not reverse the loop.

	* loop.c (scan_loop): Count down from max_reg_num - 1 to
	FIRST_PSEUDO_REGISTER to avoid calling max_reg_num each iteration
	of the loop.
	(load_mems_and_recount_loop_regs_set): Likewise.

	* i386.c (print_operand): Remove obsolete 'c' docs.

Wed Aug 26 17:13:37 1998  Tom Tromey  <tromey@cygnus.com>

	* gthr.h: Document __GTHREAD_MUTEX_INIT_FUNCTION.
	* frame.c (init_object_mutex): New function.
	(init_object_mutex_once): Likewise.
	(find_fde): Call it.
	(__register_frame_info): Likewise.
	(__register_frame_info_table): Likewise.
	(__deregister_frame_info): Likewise.

Thu Aug 27 15:14:18 1998  Jeffrey A Law  (law@cygnus.com)

	* haifa-sched.c (sched_analyze_insn): Fix thinko in last change.

Thu Aug 27 16:34:51 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* loop.c (check_dbra_loop): Enable code for reversal
	of some loops without a known constant loop end.

Wed Aug 26 18:38:15 1998  Richard Henderson  <rth@cygnus.com>

        * haifa-sched.c (last_clock_var): New.
        (schedule_block): Initialize it.
        (schedule_insn): Use it to fill insn modes with issue information.

	* alpha.c (alpha_handle_trap_shadows): Remove do-nothing exit.
	Tag trapb and next insn with TImode.
	(alphaev5_insn_pipe, alphaev5_next_group, alphaev5_align_insns): New.
	(alpha_reorg): Add conditional for alpha_handle_trap_shadows.
	Invoke alphaev5_align_insns as appropriate.
	* alpha.h (LABEL_ALIGN_AFTER_BARRIER): Was ALIGN_LABEL_AFTER_BARRIER.
	(MD_SCHED_VARIABLE_ISSUE): New.
	* alpha.md (attr type): Add multi.
	(define_asm_attributes): New.
	(prologue_stack_probe_loop, builtin_setjmp_receiver): Set type multi.
	(arg_home): Likewise.
	(fnop, unop, realign): New.

Wed Aug 26 15:55:41 1998  Jim Wilson  <wilson@cygnus.com>

	* iris5.h (PREFERRED_DEBUGGING_TYPE): Undef.
	* iris5gas.h (PREFERRED_DEBUGGING_TYPE): Define.

	* configure.in (powerpc-ibm-aix4.[12]*): Change from 4.[12].*.
	(rs6000-ibm-aix4.[12]*): Likewise.
	* configure: Regnerate.

Wed Aug 26 09:30:59 1998  Nick Clifton  <nickc@cygnus.com>

	* config/arm/thumb.c (thumb_exit): Do not move a4 into lr if it
	already contains the return address.

Wed Aug 26 12:57:09 1998  Jeffrey A Law  (law@cygnus.com)

	* calls.c (expand_call): Use bitfield instructions to extract/deposit
	word sized hunks when loading unaligned args into registers.

	* haifa-sched.c (sched_analyze_insn): Only create scheduling
	barriers for LOOP, EH and SETJMP notes on the loop_notes list.

	* mn10300.h (RTX_COSTS): Handle UDIV and UMOD too.

Wed Aug 26 16:35:37 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* loop.c (check_dbra_loop): Add some code that would allow reversal
	of some loops without a known constant loop end if it were enabled.

Wed Aug 26 11:08:44 1998  Gavin Romig-Koch  <gavin@cygnus.com>

	* mips.md (lshrsi3_internal2+2): Fix type-o.

Wed Aug 26 10:53:03 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* system.h: Include stdarg.h/varargs.h, make sure they are ordered
 	correctly with regards to stdio.h.
	
	* calls.c: Remove stdarg.h/varargs.h.
	* cccp.c: Likewise.
	* cexp.y: Likewise.
	* combine.c: Likewise.
	* cpperror.c: Likewise.
	* cpplib.c: Likewise.
	* cpplib.h: Likewise.
	* doprint.c: Likewise.
	* emit-rtl.c: Likewise.
	* final.c: Likewise.
	* fix-header.c: Likewise.
	* gcc.c: Likewise.
	* genattr.c: Likewise.
	* genattrtab.c: Likewise.
	* gencodes.c: Likewise.
	* genconfig.c: Likewise.
	* genemit.c: Likewise.
	* genextract.c: Likewise.
	* genflags.c: Likewise.
	* genopinit.c: Likewise.
	* genoutput.c: Likewise.
	* genpeep.c: Likewise.
	* genrecog.c: Likewise.
	* mips-tfile.c: Likewise.
	* prefix.c: Likewise.
	* protoize.c: Likewise.
	* regmove.c: Likewise.
	* toplev.c: Likewise.
	* tree.c: Likewise.

Wed Aug 26 05:09:27 1998  Jakub Jelinek  <jj@sunsite.ms.mff.cuni.cz>

	* config/sparc/sparc.c (sparc_override_options): If not
	TARGET_FPU, turn off TARGET_VIS.
	* config/sparc/sparc.h (TARGET_SWITCHES): Add no-vis.
	(LEGITIMATE_CONSTANT_P): Allow SF/DF mode zero when TARGET_VIS.
	* config/sparc/sparc.md (movsi_insn): Use fzeros not fzero.
	(movdi_insn_sp64): Add VIS fzero alternative.
	(clear_sf, clear_df): New VIS patterns.
	(movsf, movdf expanders): Allow fp_zero_operand flat out when
	TARGET_VIS.
	(one_cmpldi2_sp64): Provide new fnot1 VIS alternative.
	
Tue Aug 25 10:57:41 1998  Mark Mitchell  <mark@markmitchell.com>

	* loop.c (n_times_set, n_times_used, may_not_optimize,
	reg_single_usage): Convert to varrays.  All uses changed.
	(insert_loop_mem): Return a value.
	(scan_loop): Tweak AVOID_CC_MODE_COPIES code.
	(load_mems_and_recount_loop_regs_set): Likewise.  Grow the arrays, if
	necessary.

Tue Aug 25 23:57:12 1998  Jeffrey A Law  (law@cygnus.com)

	* From Alexandre:
	* configure.in: Do not set thread_file to "irix" since no such
	support exists yet.

	* sparc.md (float abs/neg splits): Check reload_completed before
	calling alter_subreg.

Tue Aug 25 19:17:59 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (sparc_absnegfloat_split_legitimate): New
	function.
	* config/sparc/sparc.h: Declare it.
	* config/sparc/sparc.md (float abs/neg splits): Use it.
	(all other splits): Handle SUBREGs properly where necessary.
	(unnamed (1<<x)-1 V8PLUS pattern): Disable for now.

Tue Aug 25 19:48:46 1998  Jeffrey A Law  (law@cygnus.com)

	* reorg.c (fill_simple_delay_slots): Do not abort if we encounter
	an insn on the unfilled_slots_list that has no delay slots.
	(fill_eager_delay_slots): Similarly.

Tue Aug 25 13:35:20 1998  Nick Clifton  <nickc@cygnus.com>

	* config/v850/v850.c (movsi_source_operand): Treat CONSTANT_P_RTX
	as an ordinary operand.

Tue Aug 25 12:54:57 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* tree.c (valid_machine_attribute): Don't apply attributes to both
	decl and type.

Tue Aug 25 12:23:20 PDT 1998  Richard Henderson  <rth@cygnus.com>

        * reload.c (operands_match_p): Handle rtvecs.

        * i386.c (legitimate_pic_address_disp_p): New.
        (legitimate_address_p): Use it.
        (legitimize_pic_address): Use unspecs to represent @GOT and @GOTOFF.
        Handle constant pool symbols just like statics.
        (emit_pic_move): Use Pmode not SImode for clarity.
        (output_pic_addr_const) [SYMBOL_REF]: Remove @GOT and @GOTOFF hacks.
        [UNSPEC]: New, handling what we killed above.
        [PLUS]: Detect and abort on invalid symbol arithmetic.
        * i386.h (CONSTANT_ADDRESS_P): Remove HIGH.

Tue Aug 25 12:02:23 1998  Mark Mitchell  <mark@markmitchell.com>

	* alias.c: Include output.h.
	(DIFFERENT_ALIAS_SETS_P): Don't treat alias sets as
	different if we're in a varargs function.
	* Makefile.in (alias.o): Depend on output.h
	
Tue Aug 25 19:20:12 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* sh.h (GIV_SORT_CRITERION): Delete.

Tue Aug 25 13:19:46 1998  Dave Brolley  <brolley@cygnus.com>

	* regclass.c (regclass): Use xmalloc/free instead of alloca.
	* stupid.c (stupid_life_analysis): Ditto.
	* reload1.c (reload): Ditto.

Tue Aug 25 05:48:18 1998  Jakub Jelinek  <jj@sunsite.ms.mff.cuni.cz>

	* config/sparc/sparc.c (arith_4096_operand, arith_add_operand,
	arith_double_4096_operand, arith_double_add_operand): New
	predicates.
	* config/sparc/sparc.h (PREDICATE_CODES): Add them, declare them.
	* config/sparc/sparc.md (adddi3, addsi3, subdi3, subsi3): Use
	them to transform add/sub 4096 into add/sub -4096.

Mon Aug 24 23:31:03 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* loop.c (scan_loop): Allocate some slop to handle pseudos
	generated by move_movables.
	(load_mems_and_recount_loop_regs_set): Honor AVOID_CC_MODE_COPIES
	here too.

Mon Aug 24 19:45:40 1998  Jim Wilson  <wilson@cygnus.com>

	* tree.def (DECL_RESULT): Correct documentation.

Tue Aug 25 01:15:27 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* reload1.c (reload_reg_free_before_p): New argument EQUIV;  Changed
	all callers.  Abort for RELOAD_FOR_INSN.  RELOAD_FOR_OUTADDR_ADDR:
	conflicts will all RELOAD_FOR_OUTPUT reloads.

	* reload1.c (reload_cse_regs_1): When deleting a no-op move that
	loads the function result, substitute with a USE.

Mon Aug 24 15:20:19 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.h (GO_IF_LEGITIMATE_ADDRESS): Use TARGET_POWERPC64
	when testing LEGITIMATE_INDEXED_ADDRESS_P DFmode and DImode.
	(LEGITIMIZE_ADDRESS): Use TARGET_POWERPC64 for INDEXED fixup.
	* rs6000.c (print_operand, case 'L'): Add UNITS_PER_WORD, not 4.
	(print_operand, cases 'O' and 'T'): Fix typos in lossage strings.
	* rs6000.md (fix_truncdfsi2_store): Remove %w from non-CONST_INT
	operand. 
	(movdf_softfloat32, movdf_hardfloat64, movdf_softfloat64): Change
	'o' to 'm' for GPR variant constraints.

Mon Aug 24 10:25:46 1998  Jeffrey A Law  (law@cygnus.com)

        * loop.c (scan_loop): Honor AVOID_CC_MODE_COPIES.

	* h8300.h (STRIP_NAME_ENCODING): Fix typo.

	* sparc.md (TFmode splits): Use reg_overlap_mentioned_p to detect
	when the source and destination overlap.

	* stmt.c (emit_case_nodes): Change rtx_function to rtx_fn to avoid
	clash with global type.

Mon Aug 24 00:53:53 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* fixinc.irix: Add curses.h handling from fixinc.wrap.

	* c-common.c (combine_strings): Also set TREE_READONLY.
	Change warn_write_strings to flag_const_strings.
	* c-decl.c, c-tree.h: Likewise.

Sun Aug 23 18:39:11 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (sparc_emit_set_const32): If outputting a
	CONST_INT, not a symbolic reference, don't use a HIGH/LO_SUM
	sequence, use SET/IOR instead so CSE can see it.
	* config/sparc/sparc.md (movhi_const64_special,
	movsi_const64_special): New patterns necessitated by that change.
	(movhi_high): Remove.
	(movhi_lo_sum): Change to match an IOR.
	(movdf_insn_sp32): Test TARGET_V9 not TARGET_ARCH64.
	(movdf_insn_v9only): New pattern for when V9 but not ARCH64.
	(movdf_insn_sp64): Test both TARGET_V9 and TARGET_ARCH64.
	(movdf splits): Allow when not V9 or when not ARCH64 and integer
	registers are involved.
	(snesi_zero_extend split): Remove reload_completed test.
	(unnamed plus and minus zero_extend sidi splits): Add it.

Sun Aug 23 11:56:08 1998  Mark Mitchell  <mark@markmitchell.com>

	* extend.texi: Remove description of extension to explicit
	instantiation that is now endorsed by standard C++.

Sun Aug 23 09:39:09 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/arc/arc.c (arc_initialize_pic): Remove.
	* config/arc/arc.h (INITIALIZE_PIC): Similarly, this routine does
	nothing on any platform and is invoked by no-one, it does not even
	appear in the documentation.
	* config/sparc/sparc.h (INITIALIZE_PIC): Likewise.
	* config/sparc/sparc.c (initialize_pic): Likewise.
	(find_addr_reg): Remove this as well, no longer referenced after
	my rewrite.

Sun Aug 23 00:17:14 1998  Jeffrey A Law  (law@cygnus.com)

	* recog.c (validate_replace_rtx_group): New function.
	* recog.h (validate_replace_rtx_group): Declare it.
	* regmove.c (optimize_reg_copy_3): If any substitution fails, then undo
	the entire group of substitutions.

Sat Aug 22 23:31:00 1998  Klaus-Georg Adams  (Klaus-Georg.Adams@chemie.uni-karlsruhe.de)

	* loop.c (load_mems): Fix initializers.

Fri Aug 21 23:07:46 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (TFmode splits): Handle destination
	registers being referenced in the address correctly.

	* expmed.c (make_tree) [CONST_INT]: Sign extend even if
	TREE_UNSIGNED, when bitsize of type's mode is larger than
	HOST_BITS_PER_WIDE_INT.

Fri Aug 21 19:31:31 1998  Alexandre Petit-Bianco <apbianco@cygnus.com>

	* tree.def (LABELED_BLOCK_EXPR, EXIT_BLOCK_EXPR): New tree nodes.
  	* tree.h (LABELED_BLOCK_LABEL, LABELED_BLOCK_BODY,
 	EXIT_BLOCK_LABELED_BLOCK, EXIT_BLOCK_RETURN, LOOP_EXPR_BODY): New
 	macros.
	* expr.c (expand_expr): Handle LABELED_BLOCK_EXPR and
 	EXIT_BLOCK_EXPR.

Thu Aug 20 19:43:44 1998  Jeffrey A Law  (law@cygnus.com)

	* h8300.c (h8300_encode_label): Use '&' for tiny data items.
	* h8300.h (TINY_DATA_NAME_P): Likewise.
	(STRIP_NAME_ENCODING): Handle '&'.

	* mn10200.h (REG_OK_FOR_INDEX_P): Do not check the mode of the
	register (it could be accessed via an outer SUBREG).
	(REG_OK_FOR_BASE_P): Likewwise.
	(GO_IF_LEGITIMATE_ADDRESS): Consistently use REGNO_OK_FOR_BASE_P.

	* remove.c (optimize_reg_copy_3): Abort instead of silently generating
	bogus rtl.

	* jump.c (rtx_renumbered_equal_p): Do not consider PLUS commutative.

Thu Aug 20 17:35:20 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (movtf_insn_sp32): All memory operands
	must be offsettable so the splits can be made.

Thu Aug 20 13:56:53 1998  Michael Meissner  <meissner@cygnus.com>

	* config/i386/winnt.c: Include system.h, not stdio.h to get
	sys/param.h pulled in before rtl.h in case the system defines MIN
	and MAX.

Thu Aug 20 13:44:20 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.md (movqi, movhi): Add CONSTANT_P_RTX.

Thu Aug 20 13:15:11 1998  Dave Brolley  <brolley@cygnus.com>

	* stor-layout.c (layout_type): Compute TYPE_SIZE_UNIT correctly for
	arrays of bits.
	* cpplib.c (cpp_define): Handle macros with parameters.

Wed Aug 19 21:33:19 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.c (rs6000_output_load_toc_table): Use ld for 64-bit.
	(output_toc): Use single TOC slot or llong minimal-toc for DFmode
	and DImode 64-bit.  Use llong for minimal-toc SFmode and
	SYMBOL_REF / LABEL_REF 64-bit.
	(output_function_profiler): Use llong for profiler label and ld to
	load 64-bit label address.

Wed Aug 19 17:52:27 1998  Nick Clifton  (nickc@cygnus.com)

        * config/arm/thumb.md (extendqisi2_insn): Cope with REG +
        OFFSET addressing.

Wed Aug 19 14:13:31 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Wed Aug 19 13:10:30 PDT 1998 Jeff Law  (law@cygnus.com)

	* version.c: Bump for snapshot.

Wed Aug 19 13:06:47 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* collect2.c (extract_init_priority): Use atoi instead of strtoul.

Wed Aug 19 13:51:35 1998  Hans-Peter Nilsson  <hp@axis.se>

	* tm.texi (Misc): Fix typo "teh".

	* tm.texi (PIC): Fix typo "PPIC".

	* tm.texi (Caller Saves): Say that DEFAULT_CALLER_SAVES has no
	effect when -O2 and higher.
	* invoke.texi (Optimize Options): Likewise for -fcaller-saves.

1998-08-19  Michael Hayes  <michaelh@ongaonga.chch.cri.nz>

	* regclass.c: Changed register set documentation to be consistent
	with GCC behaviour.

	* final.c (final_start_function) Removed redundant test for
	call_fixed_regs.

Wed Aug 19 13:28:41 1998  Mark Mitchell  <mark@markmitchell.com>

	* rtl.h (rtx_function): New type.
	(for_each_rtx): New function.
	* rtlanal.c (for_each_rtx): Define it.
	
	* recog.c (change_t): New type.
	(change_objects, change_old_codes, change_locs, change_olds):
	Replace with ...
	(changes): New variable.
	(validate_change): Dynamically allocate room for more changes, if
	necessary.  Uses changes array instead of change_objects, etc.
	(apply_change_group):  Use changes array instead of
	change_objects, etc.
	
	* loop.c (loop_mem_info): New type.
	(loop_mems): New variable.
	(loop_mems_idx): Likewise.
	(looop_mems_allocated): Likewise.
	(scan_loop): Remove nregs parameter.
	(next_insn_in_loop): New function.
	(load_mems_and_recount_loop_regs_set): Likewise.
	(load_mems): Likewise.
	(insert_loop_mem): Likewise.
	(replace_loop_mem): Likewise.
	(replace_label): Likewise.
	(INSN_IN_RANGE_P): New macro.
	(loop_optimize): Don't pass max_reg_num() to scan_loop.
	(scan_loop): Remove nregs parameter, compute it after any new
	registers are created by load_mems.  Use INSN_IN_RANGE_P and
	next_insn_in_loop rather than expanding them inline.  Call
	load_mems to load memory into pseudos, if appropriate.
	(prescan_loop): Figure out whether or not there are jumps from the
	loop to targets other than the label immediately following the
	loop.  Call insert_loop_mem to notice all the MEMs used in the
	loop, if it could be safe to pull MEMs into REGs for the duration
	of the loop.
	(strength_reduce): Use next_insn_in_loop.  Tweak comments.

Wed Aug 19 08:29:44 1998  Richard Earnshaw (rearnsha@arm.com)

	* arm.c (arm_override_options): Remove lie about ignoring PIC flag.

Wed Aug 19 07:08:15 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (finalize_pic): Check for the correct
	nonlocal_goto_receiver UNSPEC number.
	* config/sparc/sparc.md (nonlocal_goto_receiver): Add comment
	making note of this dependency existing in sparc.c
	(negtf2_notv9 split): Give NEG SFmode.
	(negsf2): Fix insn output string.
	
Tue Aug 18 12:40:27 1998  Richard Henderson  <rth@cygnus.com>

	* c-common.c (decl_attributes): Issue an error if the argument
	to alias is not a string.

Tue Aug 18 10:33:30 1998  Jeffrey A Law  (law@cygnus.com)

	* haifa-sched.c (sched_analyze): Put all JUMP_INSNs on the last
	pending memory flush list.

	* combine.c (can_combine_p): Allow combining insns with REG_RETVAL
	notes.
	(try_combine): Allow combining insns with REG_LIBCALL notes.

	* expr.c (emit_block_move): Do not call memcpy as a libcall
	instead build up a CALL_EXPR and call it like any other
	function.
	(clear_storage): Similarly for memset.

	* regmove.c (fixup_match_2): Do not call reg_overlap_mentioned_p
	on notes.

	* Makefile.in (cplus-dem.o): Provide explicit rules for building
	cplus-dem.o

	* regmove.c (optimize_reg_copy_1): Update REG_N_CALLS_CROSSED
	and REG_LIVE_LENGTH as successful substitutions are made.

Tue Aug 18 07:15:27 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* config/sparc/sparc.c (ultra_find_type): Add empty semicolon
	statement after end of loop label.

Tue Aug 18 07:13:27 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (ultra_types_avail): New variable.
	(ultra_build_types_avail): New function to record mask of insn
	types in ready list at this cycle.
	(ultrasparc_sched_reorder): Call it.
	(ultra_find_type): Use it to quicken the search.  Also simplif
	dependency check, don't use rtx_equal_p because we know exactly
	what we are looking for.

Tue Aug 18 03:20:53 1998  Richard Earnshaw  (rearnsha@arm.com)

	* arm.h (SECONDARY_INPUT_RELOAD_CLASS): Return NO_REGS if compiling
	for architecture v4.

Mon Aug 17 21:26:38 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (sltu, sgeu): Don't FAIL, call
	gen_compare_reg.
	(movsf_const_intreg, movsf_const_high, movsf_const_lo,
	movdf_const_intreg and helper splits): New patterns to move float
	constants into integer registers.
	(negtf2, negdf2, abstf2, absdf2): Rework using new patterns and
	splits.

Mon Aug 17 11:46:19 1998  Jeffrey A Law  (law@cygnus.com)

	* From Graham
	* tree.c (build_index_type): Copy TYPE_SIZE_UNIT from sizetype
	to itype.
	* c-decl.c (finish_enum): Copy TYPE_SIZ_UNIT from enumtype to tem.

	* rs6000.c (secondary_reload_class): For TARGET_ELF, indicate that
	a BASE_REGS register is needed as an intermediate when copying
	a symbolic value into any register class other than BASE_REGS.

	* expr.c (move_by_pieces): No longer static.  Remove prototype.
	* rtl.h (move_by_pieces): Add extern prototype.
	* mips.c (expand_block_move): Handle aligned straight line copy by
	calling move_by_pieces.

	* expr.c (expand_expr): Allow assignments from TImode PARM_DECLs
	and VAR_DECLs.

Mon Aug 17 10:28:52 1998  Mark Mitchell  <mark@markmitchell.com>

	* stmt.c (expand_end_loop): Tidy.  Allow unconditional
	jumps out of the loop to be treated as part of the exit test.

Mon Aug 17 10:06:11 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>
			  Jeff Law <law@cygnus.com>

	* Makefile.in (cplus-dep.o): Use cplus-dem.c from libiberty.
	* cplus-dem.c: Delete.

	* Makefile.in (fold-const.o): depend on $(RTL_H).

	* fold-const.c: Include rtl.h to get the prototype for
 	`set_identifier_local_value'.

	* loop.c (express_from_1): Remove unused variable `tmp'.
	(combine_givs): cast the first argument of bzero to char *.

	* toplev.c (display_help): Remove unused variable `looking_for_start'.

	* c-decl.c (init_decl_processing): Remove unneeded &.

	* alpha.h (alpha_initialize_trampoline): Provide prototype.
	
	* except.c (set_exception_lang_code, set_exception_version_code):
	Change parameter from `short' to `int' to avoid using a gcc
	extension.

	* except.h (set_exception_lang_code, set_exception_version_code):
	Likewise for prototypes.

	* flow.c (count_reg_references): Remove unused variables `regno'
	and `i'.

	* gcse.c (hash_scan_insn): Declare parameter `in_libcall_block'.

	* prefix.c (translate_name): Cast the result of `alloca'.

	* varray.h (VARRAY_FREE): Reimplement as a `do-while(0)' statement.

Mon Aug 17 09:23:42 1998  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>

	* config/m68k/m68k.c: Include "system.h" instead of <stdio.h>.
	Include "toplev.h".
	(valid_dbcc_comparison_p): Mark mode argument as unused.
	(symbolic_operand): Likewise.
	(legitimize_pic_address): Likewise.
	(const_uint32_operand): Likewise.
	(const_sint32_operand): Likewise.
	* sched.c [!INSN_SCHEDULING]: Define only dummy function
	schedule_insns and comment out rest of file.

	* m68k.c (output_move_simode_const): Use subl to move a zero into an
	address register.
	(output_move_[hq]imode): Likewise.

Mon Aug 17 09:15:47 1998  Jeffrey A Law  (law@cygnus.com)

	* toplev.c (main): Enable -fstrict-aliasing for -O2 and above.
	* invoke.texi: Corresponding changes.

Mon Aug 17 02:03:55 1998  Richard Henderson  <rth@cygnus.com>

	* regclass.c (allocate_reg_info): Respect MIN when clearing data.

Sun Aug 16 17:37:06 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (ultra_code_from_mask,
	ultra_cmove_results_ready_p, ultra_fpmode_conflict_exists,
	ultra_find_type, ultra_schedule_insn, ultra_flush_pipeline,
	ultrasparc_sched_init, ultrasparc_variable_issue,
	ultra_rescan_pipeline_state, ultrasparc_sched_reorder): New
	functions to describe UltraSPARC pipeline exactly to Haifa.
	(ultrasparc_adjust_cost): Indicate IMUL type insns have zero cost,
	as there is nothing the scheduler can do about it.  Indicate that
	REG_DEP_OUTPUT's collide.  Fixup formatting.
	* config/sparc/sparc.h (RTX_COSTS): Fixup integer multiply and
	divide costs on Ultra for DImode.
	(MD_SCHED_INIT, MD_SCHED_REORDER, MD_SCHED_VARIABLE_ISSUE):
	Define.
	* config/sparc/sparc.md (ieu_unnamed function unit): Rename to
	ieuN and add call_no_delay_slot to type list.
	(cti function unit): New unit for branches on UltraSPARC.
	(subx/addx insns): Set type to misc.
	(sidi zero/sign extension insns on arch64): Set type to shift.
	(sign_extendhidi2_insn): Set type to sload.

Sun Aug 16 13:52:00 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.c (rs6000_stack_info): Use if == 0 for sizes.
	(output_epilog): Use if != 0 for offset.
	(rs6000_fatal_bad_address): Prepare for Intl.
	* rs6000.h (rs6000_fatal_bad_address): Declare.
	* rs6000.md (movsfcc, movdfcc): Use else if.
	(elf_high): Use {liu|lis}.
	(elf_low): Use {cal|la}.  Remove %a template from old mnemonics.
	(movsi): Use rs6000_fatal_bad_address.
	
Sun Aug 16 01:53:21 1998  Richard Henderson  <rth@cygnus.com>

	* reload.c (find_equiv_reg): Reject equivalences separated
	by a volatile instruction.

Sun Aug 16 00:21:44 1998 Franz Sirl <Franz.Sirl-kernel@lauterbach.com>

        * rs6000/linux.h (CPP_OS_DEFAULT_SPEC): Define.

Sat Aug 15 20:51:35 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.md (movsicc): Fix mode mismatch.

Sat Aug 15 20:22:33 1998  H.J. Lu  (hjl@gnu.org)

	* config/alpha/alpha.h (ASM_OUTPUT_MI_THUNK): Handle aggregated
	return type.
	* config/alpha/win-nt.h (ASM_OUTPUT_MI_THUNK): Likewise.

Sat Aug 15 08:39:49 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (movsi_lo_sum_pic_label_reg): Remove
	write-only modifier from operand 1 constraint.

Sat Aug 15 06:28:19 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (sparc_emit_set_const64_quick1): If
	emitting a XOR of -1 at the end, emit a NOT instead for combine's
	sake.
	(sparc_emit_set_const64): Likewise, also when computing trailing
	bits do not negate low_bits and make fast_int an int.

Fri Aug 14 21:07:03 1998  Jeffrey A Law  (law@cygnus.com)

	* loop.c (add_label_notes): Do not ignore references to labels
	before dispatch tables.  Mirrors Apr 8 change to mark_jump_label.
	* gcse.c (add_label_notes): Similarly.

	* pa.h (ASM_OUTPUT_MI_THUNK): Strip name encoding.

	* m68k.md (adddi_dilshr32): One of the operands must be a register.
	(adddi_dishl32): Similarly.

Fri Aug 14 14:12:59 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* i386.h (MODES_TIEABLE_P): Reorganize to shut up warnings.
	* alias.c (memrefs_conflict_p): Add braces to shut up warnings.
	* cse.c (cse_basic_block): Add parens to shut up warnings.

Fri Aug 14 12:58:21 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (sparc_emit_set_const64_quick2,
	sparc_emit_set_const64_longway, const64_is_2insns,
	create_simple_focus_bits, sparc_emit_set_const64): Fix more bugs
	in 64-bit constant formation.
	* config/sparc/sparc.md (snesi_zero_extend split): Generate
	rtl for addx not subx.
	(define_insn movdi_const64_special): Make available even when
	HOST_BITS_PER_WIDE_INT is not 64.
	(movdi_lo_sum_sp64_cint, movdi_high_sp64_cint): Remove.
	(losum_di_medlow, sethm, setlo): Make op2 symbolic_operand.
	(cmp_siqi_trunc_set, cmp_diqi_trunc_set): Encapsulate both
	instances of operand 1 inside a QI subreg.
	(xordi3_sp64_dbl): Remove '%' constraint for op1.
	(one_cmpldi2_sp64): Fix output string.
	(one_cmplsi2_not_liveg0): Rewrite to remove unneeded extra
	alternative case.
	(unnamed arch64 ashift DI): Truncate shift count if greater than
	63, not 31.

Fri Aug 14 21:52:53 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* expr.c (store_expr): Don't optimize away load-store pair
	when either source or destination have a side effect.

Fri Aug 14 16:50:10 1998  John Carr  <jfc@mit.edu>

	* genrecog.c (add_to_sequence): Fatal error if the modes of the
	operands of SET are incompatible.

	* alpha.md: Fix max and min patterns so modes of SET operands match.

Fri Aug 14 12:22:55 1998  Ian Lance Taylor  <ian@cygnus.com>

	* configure.in: Avoid [[ by using test and changequote.
	* configure: Rebuild.

Fri Aug 14 01:22:31 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* rtl.def (CONSTANT_P_RTX): Fix typo in string name.

	* config/sparc/sparc.md (seqdi_special_trunc, snedi_special_trunc,
	seqsi_special_extend, snesi_special_extend, snesi_zero_extend and
	split, snedi_zero_trunc and split, seqsi_zero_extend and split,
	seqdi_zero_trunc and split, pic_lo_sum_di, pic_sethi_di,
	movdi_cc_sp64_trunc, movdi_cc_reg_sp64_trunc, addx_extend_sp32 and
	split, addx_extend_sp64, subx_extend_sp64, subx_extend and split):
	Fix mismatching modes in SET operands.
	(conditional move patterns): Fix formatting.
	(unnamed subx arch64 pattern): Remove duplicate insn.
	
Fri Aug 14 00:34:34 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (const64_operand, const64_high_operand):
	Get it right when HOST_BITS_PER_WIDE_INT is not 64.
	(input_operand): Fixup test for what we accept for constant
	integers.
	(sparc_emit_set_const32, sparc_emit_set_symbolic_const64): Give
	set VOIDmode.
	(safe_constDI): Remove.
	(sparc_emit_set_safe_HIGH64, gen_safe_SET64, gen_safe_OR64,
	gen_safe_XOR64): New functions.
	(sparc_emit_set_const64_quick1, sparc_emit_set_const64_quick2,
	sparc_emit_set_const64_longway, sparc_emit_set_const64): Use
	them.
	* config/sparc/sparc.md (define_insn xordi3_sp64_dbl): Only make
	available when HOST_BITS_PER_WIDE_INT is not 64.
	(define_insn movdi_sp64_dbl, movdi_const64_special): Likewise and
	move before movdi_insn_sp64 pattern.
	(define_insn movdi_lo_sum_sp64_dbl, movdi_high_sp64_dbl): Remove.
	(define_insn sethi_di_medlow, seth44, setm44, sethh): Use
	symbolic_operand as predicate for second operand.
	(DImode minus split on arch32, negsi2 expander, one_cmplsi2
	expander): Give set VOIDmode.
	
Fri Aug 14 01:45:06 1998  Mumit Khan  <khan@xraylith.wisc.edu>

	* i386/cygwin32 (DEFAULT_PCC_STRUCT_RETURN): Define.

Fri Aug 14 01:40:21 1998  Geoffrey Keating  <geoffk@ozemail.com.au>

	* rs6000/linux.h (LINK_SPEC): Pass -G args to the linker.

Fri Aug 14 01:23:23 1998  Richard Earnshaw (rearnsha@arm.com)

	* arm/netbsd.h (TARGET_DEFAULT): Default includes software floating 
	point.
	(CPP_FLOAT_DEFAULT_SPEC): Re-define accordingly.

Fri Aug 14 01:19:08 1998  Robert Lipe  <robertl@dgii.com>

	* install.texi: Various SCO OpenServer tweaks.

Thu Aug 13 20:14:40 1998  Jim Wilson  <wilson@cygnus.com>

	* reload1.c (eliminate_regs_in_insn): Handle another case when
	eliminating the frame pointer to the hard frame pointer.  Add
	missing	ep->to_rtx check to one existing case.

	* mips/mips.md (movhi_internal2+2): Fix typo mem:SI -> mem:HI.

Thu Aug 13 17:08:11 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* tree.h: De-conditionalize init_priority code.

	* mips.h (NM_FLAGS): Change from -Bp to -Bn.
	* collect2.c (NM_FLAGS): Change from -p to -n.

	* configure.in: Turn on collect2 for mipstx39-elf.
	Handle use_collect2=no properly.

	* c-common.c: De-conditionalize init_priority code.
	* collect2.c (extract_init_priority, sort_ids): New fns.
	(main): Call sort_ids.
	Move sequence_number to file scope.

	* configure.in: Handle --enable-init-priority.
	* c-common.c (attrs): Add A_INIT_PRIORITY.
	(init_attributes, decl_attributes): Likewise.
	* tree.h (DEFAULT_INIT_PRIORITY, MAX_INIT_PRIORITY): New macros.
	* tree.c (get_file_function_name_long): Split out...
	(get_file_function_name): ...from here.

Thu Aug 13 16:09:53 1998  Martin von Loewis  <loewis@informatik.hu-berlin.de>

	* expr.c (safe_from_p): Change code to ERROR_MARK only when not
	accessing nodes.

Thu Aug 13 15:24:48 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* toplev.c (display_help): Add braces to shut up warnings.
	* tree.c (simple_cst_equal): Likewise.

	* fold-const.c (non_lvalue): Don't deal with null pointer 
	constants here.
	(fold, case COMPOUND_EXPR): Wrap a constant 0 in a NOP_EXPR.

	* c-typeck.c (initializer_constant_valid_p): Allow conversion of 0
	of any size to a pointer.

Thu Aug 13 12:53:13 1998  Jim Wilson  <wilson@cygnus.com>

	* i386/winnt.c (i386_pe_asm_file_end): Check TREE_SYMBOL_REFERENCED.

Wed Aug 12 17:25:18 1998  Jeffrey A Law  (law@cygnus.com)

	* mn10300.c (REG_SAVE_BYTES): Only reserve space for registers
	which will be saved.
	* mn10300.md (prologue insn): Only save registers which need saving.
	(epilogue insn): Similarly.

	* mn10300.c, mn10300.h, mn10300.md: Remove "global zero register"
	optimizations.

Wed Aug 12 12:39:16 1998  Gavin Romig-Koch  <gavin@cygnus.com>

	* mips/mips.h (ENCODE_SECTION_INFO): Set SYMBOL_REF_FLAG for
	VAR_DECL's in gp addressable sections.

Tue Aug 11 23:02:31 1998  John Carr  <jfc@mit.edu>

	* sparc.c: Change return <exp> to <exp>; return; in functions
 	returning void.
	* sparc.md: Add empty semicolon statement after final label in
	move expanders.

Tue Aug 11 22:42:01 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.md (define_insn addx_extend): Rename to
	addx_extend_sp64, only allow when TARGET_ARCH64.
	(define_insn addx_extend_sp32 and split): Version that works when
	not TARGET_ARCH64.
	(define_insn subx_extend): Likewise.
	(define_split adddi3 and subdi3 with zero extension): Fixup and
	correct bugs when not TARGET_ARCH64.

Tue Aug 11 16:04:34 1998  John Carr  <jfc@mit.edu>

	* except.c (set_exception_lang_code, set_exception_version_code):
	Use prototype-style definition if __STDC__, to match declaration
	in except.h.

	* genemit.c: Change FAIL and DONE macros not to use loops.

Tue Aug 11 12:27:03 1998  Jim Wilson  <wilson@cygnus.com>

	* dwarf2out.c (ASM_OUTPUT_DWARF_ADDR_CONST): Use
	ASM_OUTPUT_DWARF2_ADDR_CONST if defined.

	* mips/mips.md (reload_outsi): Use M16_REG_P when TARGET_MIPS16.

Tue Aug 11 18:12:53 1998  Dave Love  <d.love@dl.ac.uk>

	* README.g77: Update from Craig.

Tue Aug 11 04:46:01 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (sparc_emit_set_const32): INTVAL is of
	type HOST_WIDE_INT.
	(safe_constDI sparc_emit_set_const64_quick1,
	sparc_emit_set_const64_quick2, sparc_emit_set_const64_longway,
	analyze_64bit_constant, const64_is_2insns,
	create_simple_focus_bits): Fix some bugs when compiled on real
	64-bit hosts.
	(function_arg_record_value_3, function_arg_record_value_2,
	function_arg_record_value): Add fully prototyped forward decls.
	* config/sparc/sparc.md (define_insn cmpsi_insn_sp32): Rename back
	to cmpsi_insn and use on both 64 and 32 bit targets.
	(define_insn cmpsi_insn_sp64): Remove.
	(define_expand zero_extendsidi2): Allow for 32-bit target too.
	(define_insn zero_extendsidi2_insn): Rename to
	zero_extendsidi2_insn_sp64.
	(define_insn zero_extendsidi2_insn_sp32): New pattern and
	assosciated forced split for it.

	* config/sparc/sparc.c (const64_operand, const64_high_operand):
	New predicates.
	* config/sparc/sparc.h: Declare them.
	(PREDICATE_CODES): Add them.
	* config/sparc/sparc.md (movdi_lo_sum_sp64_dbl,
	movdi_high_sp64_dbl, xordi3_sp64_dbl): Use them.

Mon Aug 10 22:57:24 1998  John Carr  <jfc@mit.edu>

	* config/sparc/sparc.md (define_insn jump): Output ba,pt not b,pt
	in v9 case as the latter makes the Solaris assembler crash.

Mon Aug 10 22:39:09 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* config/sparc/sparc.c (input_operand): Do not accept a LO_SUM MEM
	for TFmode when !v9.  We require offsettable memory addresses.
	* config/sparc/sparc.h (ALTER_HARD_SUBREG): Handle TFmode to
	DFmode register number conversions.
	* config/sparc/sparc.md (define_split DFmode moves): If register
	is a SUBREG do alter_subreg on it before using.
	(define_expand movtf): Fixup comment about alignment on v9.
	(define_split TFmode moves): Don't use gen_{high,low}part, create
	explicit SUBREGs instead.

Mon Aug 10 19:02:55 1998  John Carr  <jfc@mit.edu>

	* Makefile.in (mbchar.o): Depend on mbchar.c.

Mon Aug 10 04:28:13 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>
			  Richard Henderson  <rth@cygnus.com>
	
	Rewrite Sparc backend for better code generation and
	improved sparc64 support.
	* config/sparc/sp64-elf.h: Set JUMP_TABLES_IN_TEXT_SECTION to
	zero.
	* config/sparc/sysv4.h: Likewise.
	* config/sparc/sparc.c (v8plus_regcmp_p, sparc_operand,
	move_operand, v8plus_regcmp_op, emit_move_sequence,
	singlemove_string, doublemove_string, mem_aligned_8,
	output_move_double, output_move_quad, output_fp_move_double,
	move_quad_direction, output_fp_move_quad, output_scc_insn):
	Remove.
	(small_int_or_double): New predicate.
	(gen_compare_reg): Remove TARGET_V8PLUS cmpdi_v8plus emission.
	(legitimize_pic_address): Emit movsi_{high,lo_sum}_pic instead of
	old pic_{sethi,lo_sum}_si patterns.
	(mem_min_alignment): New generic function to replace
	mem_aligned_8, which uses REGNO_POINTER_ALIGN information when
	available and can test for arbitrary alignments.  All callers
	changed.
	(save_regs, restore_regs, build_big_number,
	output_function_prologue, output_cbranch, output_return,
	sparc_flat_save_restore, sparc_flat_output_function_prologue,
	sparc_flat_output_function_epilogue): Prettify
	insn output.
	(output_function_epilogue): Likewise and add code to output
	deferred case vectors.
	(output_v9branch): Likewise, add new arg INSN and use it to tack
	on branch prediction settings.  All callers changed.
	(print_operand): Likewise and output %l44 for LO_SUMs when
	TARGET_CM_MEDMID.
	(sparc_splitdi_legitimate): New function to make sure DImode
	splits can be run properly when !arch64.
	(sparc_initialize_trampoline, sparc64_initialize_trampoline):
	Reformat example code in comments.
	(set_extends): Remove UNSPEC/v8plus_clear_high case.
	(sparc_addr_diff_list, sparc_addr_list): New statics to keep track
	of deferred case vectors we need to output.
	(sparc_defer_case_vector): Record a case vector.
	(sparc_output_addr_vec, sparc_output_addr_diff_vec,
	sparc_output_deferred_case_vectors): New functions to output them.
	(sparc_emit_set_const32): New function to form 32-bit constants in
	registers when that requires more than one instruction.
	(safe_constDI, sparc_emit_set_const64_quick1,
	sparc_emit_set_const64_quick2, sparc_emit_set_const64_longway,
	analyze_64bit_constant, const64_is_2insns,
	create_simple_focus_bits, sparc_emit_set_const64): New functions
	which do the same for 64-bit constants when arch64.
	(sparc_emit_set_symbolic_const64): New function to emit address
	loading for all code models on v9.
	* config/sparc/sparc.h (CONDITIONAL_REGISTER_USAGE): Do not make
	%g1 fixed when arch64, unfix %g0 when TARGET_LIVE_G0.
	(ALTER_HARD_SUBREG): Fix thinko, return REGNO + 1 not 1.
	(SECONDARY_INPUT_RELOAD_CLASS, SECONDARY_OUTPUT_RELOAD_CLASS): Fix
	inaccuracies in comments, add symbolic and text_segment operands
	when TARGET_CM_MEDANY and TARGET_CM_EMBMEDANY respectively.  Use
	GENERAL_REGS in these cases as a temp REG is needed to load these
	addresses into a register properly.
	(EXTRA_CONSTRAINT): Document more accurately, remove Q case as it
	is no longer used.
	(GO_IF_LEGITIMATE_ADDRESS): Allow TFmode for LO_SUM on v9 since fp
	quads are guarenteed to have 16-byte alignment.
	(LEGITIMIZE_ADDRESS): For SYMBOL_REF, CONST, and LABEL_REF use
	copy_to_suggested_reg instead of explicit LO_SUM and HIGH.
	(ASM_OUTPUT_ADDR_VEC, ASM_OUTPUT_ADDR_DIFF_VEC): New macros for
	deferred case vector implementation.
	(ASM_OUTPUT_ADDR_VEC_ELT): Use fputc to output newline.
	(ASM_OUTPUT_ADDR_DIFF_ELT): Parenthesize LABEL in macro calls.
	Generate "internal label - label" instead of "label - 1b".
	(PRINT_OPERAND_ADDRESS): For LO_SUM use %l44 on TARGET_CM_MEDMID.
	(PREDICATE_CODES): Remove sparc_operand, move_operand,
	v8plus_regcmp_op.  Add small_int_or_double, input_operand, and
	zero_operand.
	(doublemove_string, output_block_move, output_fp_move_double,
	output_fp_move_quad, output_move_double, output_move_quad,
	output_scc_insn, singlemove_string, mem_aligned_8, move_operand,
	sparc_operand, v8plus_regcmp_op, v8plus_regcmp_p): Remove externs.
	(sparc_emit_set_const32, sparc_emit_set_const64,
	sparc_emit_set_symbolic_const64, input_operand, zero_operand,
	mem_min_alignment, small_int_or_double): Add externs.
	* config/sparc/sparc.md: Document the many uses of UNSPEC and
	UNSPEC_VOLATILE in this backend.
	(define_function_unit ieu): Rename to ieu_unnamed.  Add move and
	unary to types which execute in it.
	(define_function_unit ieu_shift): Rename to ieu0.
	(define_function_unit ieu1): New, executes compare, call, and
	uncond_branch type insns.
	(define_function_units for type fdivs, fdivd, fsqrt): These
	execute in the fpu multiply unit not the adder on UltraSparc.
	(define_expand cmpdi): Disallow TARGET_V8PLUS.
	(define_insn cmpsi_insn): Rename to cmpsi_insn_sp32.
	(define_insn cmpsi_insn_sp64): New, same as sp32 variant except it
	allows the arith_double_operand predicate and rHI constraint when
	TARGET_ARCH64.
	(define_insn cmpdi_sp64, cmpsf_fpe, cmpdf_fpe, cmptf_fpe,
	cmpsf_fp, cmpdf_fp, cmptf_fp, sltu_insn, neg_sltu_insn,
	neg_sltu_minux_x, neg_sltu_plus_x, sgeu_insn, neg_sgeu_insn,
	sltu_plus_x, sltu_plus_x, sltu_plus_x_plus_y, x_minus_sltu,
	sgeu_plus_x, x_minus_sgeu, movqi_cc_sp64, movhi_cc_sp64,
	movsi_cc_sp64, movdi_cc_sp64, movsf_cc_sp64, movdf_cc_sp64,
	movtf_cc_sp64, movqi_cc_reg_sp64, movhi_cc_reg_sp64,
	movsi_cc_reg_sp64, movdi_cc_reg_sp64, movsf_cc_reg_sp64,
	movdf_cc_reg_sp64, movtf_cc_reg_sp64, zero_extendhisi2_insn,
	cmp_siqi_trunc, cmp_siqi_trunc_set, sign_extendhisi2_insn,
	sign_extendqihi2_insn, sign_extendqisi2_insn,
	sign_extendqidi2_insn, sign_extendhidi2_insn,
	extendsfdf2, extendsftf2, extenddftf2, truncdfsf2, trunctfsf2,
	trunctfdf2, floatsisf2, floatsidf2, floatsitf2, floatdisf2,
	floatdidf2, floatditf2, fix_truncsfsi2, fix_truncdfsi2,
	fix_trunctfsi2, fix_truncsfdi2, fix_truncdfdi2, fix_trunctfdi2,
	adddi3_sp64, addsi3, cmp_ccx_plus, cmp_cc_plus_set, subdi_sp64,
	subsi3, cmp_minus_ccx, cmp_minus_ccx_set, mulsi3, muldi3,
	muldi3_v8plus, cmp_mul_set, mulsidi3, mulsidi3_v8plus,
	const_mulsidi3_v8plus, mulsidi3_sp32, const_mulsidi3,
	smulsi3_highpart_v8plus, unnamed subreg mult,
	const_smulsi3_highpart_v8plus, smulsi3_highpart_sp32,
	const_smulsi3_highpart, umulsidi3_v8plus, umulsidi3_sp32,
	const_umulsidi3, const_umulsidi3_v8plus, umulsi3_highpart_v8plus,
	const_umulsi3_highpart_v8plus, umulsi3_highpart_sp32,
	const_umulsi3_highpart, divsi3, divdi3, cmp_sdiv_cc_set, udivsi3,
	udivdi3, cmp_udiv_cc_set, smacsi, smacdi, umacdi, anddi3_sp64,
	andsi3, and_not_di_sp64, and_not_si, iordi3_sp64, iorsi3,
	or_not_di_sp64, or_not_si, xordi3_sp64, xorsi3, xor_not_di_sp64,
	xor_not_si, cmp_cc_arith_op, cmp_ccx_arith_op,
	cmp_cc_arith_op_set, cmp_ccx_arith_op_set, cmp_ccx_xor_not,
	cmp_cc_xor_not_set, cmp_ccx_xor_not_set, cmp_cc_arith_op_not,
	cmp_ccx_arith_op_not, cmp_cc_arith_op_not_set,
	cmp_ccx_arith_op_not_set, negdi2_sp64, cmp_cc_neg, cmp_ccx_neg,
	cmp_cc_set_neg, cmp_ccx_set_neg, one_cmpldi2_sp64, cmp_cc_not,
	cmp_ccx_not, cmp_cc_set_not, cmp_ccx_set_not, addtf3, adddf3,
	addsf3, subtf3, subdf3, subsf3, multf3, muldf3, mulsf3,
	muldf3_extend, multf3_extend, divtf3, divdf3, divsf3, negtf2,
	negdf2, negsf2, abstf2, absdf2, abssf2, sqrttf2, sqrtdf2, sqrtsf2,
	ashlsi3, ashldi3, unnamed DI ashift, cmp_cc_ashift_1,
	cmp_cc_set_ashift_1, ashrsi3, ashrdi3, unnamed DI ashiftrt,
	ashrdi3_v8plus, lshrsi3, lshrdi3, unnamed DI lshiftrt,
	lshrdi3_v8plus, tablejump_sp32, tablejump_sp64, call_address_sp32,
	call_symbolic_sp32, call_address_sp64, call_symbolic_sp64,
	call_address_struct_value_sp32, call_symbolic_struct_value_sp32,
	call_address_untyped_struct_value_sp32,
	call_symbolic_untyped_struct_value_sp32, call_value_address_sp32,
	call_value_symbolic_sp32, call_value_address_sp64,
	call_value_symbolic_sp64, branch_sp32, branch_sp64,
	flush_register_windows, goto_handler_and_restore,
	goto_handler_and_restore_v9, goto_handler_and_restore_v9_sp64,
	flush, all ldd/std peepholes, return_qi, return_hi, return_si,
	return_addsi, return_di, return_adddi, return_sf, all call+jump
	peepholes, trap, unnamed trap insns): Prettify output strings.
	(define_insn anddi3_sp32, and_not_di_sp32, iordi3_sp32,
	or_not_di_sp32, xordi3_sp32, xor_not_di_sp32, one_cmpldi2):
	Likewise and force + implement splits for integer cases.
	(define_insn return_sf_no_fpu): Likewise and allow to match when
	no-fpu because of our subreg SFmode splits.
	(define_insn zero_extendqihi2, zero_extendqisi2_insn,
	zero_extendqidi2_insn, zero_extendhidi2_insn,
	zero_extendsidi2_insn, sign_extendsidi2_insn): Likewise and use
	input_operand for second operand.
	(cmp_minus_cc, cmp_minus_cc_set): Likewise and use
	reg_or_0_operand for operand 2 so new splits can use it.
	(cmp_zero_extendqisi2, cmp_zero_extendqisi2_set, cmp_cc_plus,
	cmp_cc_xor_not): Likewise and don't forget to check TARGET_LIVE_G0
	too.
	(cmp_zero_extract, cmp_zero_extract_sp64): Likewise and allow
	CONST_DOUBLEs for operand 2.
	(define_insn move_label_di): Likewise and label distance
	optimization because it no longer works with new deferred case
	vector scheme.  To be revisited.
	(define_insn x_minus_y_minus_sltu, x_minus_sltu_plus_y): Likewise
	and allow reg_or_0_operand and J constraint for second operand.
	(define_insn jump): Set branch predict taken on V9.
	(define_insn tablejump): Emit LABEL_REF + PLUS memory address for
	new deferred case vector scheme.
	(define_insn pic_tablejump_32, pic_tablejump_64): Remove.
	(define_insn negdi2_sp32): Force + implement splits.
	(define_insn negsi2, one_cmplsi2): Rename to negsi2_not_liveg0 and
	one_cmplsi2_not_liveg0 respectively, and create	expander of original
	names which emit special rtl for TARGET_LIVE_G0.
	(define_insn cmpdi_v8plus, scc_si, scc_di): Remove.
	(define_insn seq, sne, slt, sge, sle, sltu, sgeu): Don't do
	gen_compare_reg, FAIL instead.
	(define_insn sgtu, sleu): Likewise and check gen_s*() return
	values when trying to reverse condition codes, if they FAIL then
	do likewise.
	(define_insn snesi_zero, neg_snesi_zero, snesi_zero_extend,
	snedi_zero, neg_snedi_zero, snedi_zero_trunc, seqsi_zero,
	neg_seqsi_zero, seqsi_zero_extend, seqdi_zero, neg_seqdi_zero,
	seqdi_zero_trunc, x_plus_i_ne_0, x_minus_i_ne_0, x_plus_i_eq_0,
	x_minus_i_eq_0): Add new splits to perform these multi-insn cases,
	set output string to # to indicate they are mandatory splits.
	(define_insn pic_lo_sum_si, pic_sethi_si, pic_lo_sum_di,
	pic_sethi_di, move_pic_label_si): Remove.
	(define_insn movsi_low_sum, movsi_high, movsi_lo_sum_pic,
	movsi_high_pic, movsi_pic_label_reg): New patterns to take their
	place.
	(define_expand movsi_pic_label_ref, define_insn
	movsi_high_pic_label_ref, movsi_lo_sum_pic_label_ref): New
	expander and insns to handle PIC label references and deferred
	case vectors.
	(define_insn get_pc_via_rdpc): Comment out as it is no longer
	used.
	(define_expand movqi, movhi, movsi, movdi, movsf, movdf, movtf):
	Rewrite to not use emit_move_sequence, make use of new constant
	formation code, and new splits for all multi-insn cases.
	(define_insn movqi_insn): Remove sethi case, it can never happen.
	Use reg_or_zero_operand instead of const0_rtx explicit test,
	use input_operand instead of move_operand for source, and use
	general_operand now for dest.
	(define_insn movhi_insn): Similar but leave sethi case.
	(define_insn lo_sum_qi, store_qi, store_hi): Remove.
	(define_insn sethi_hi lo_sum_hi): Rename to movhi_high and
	movhi_lo_sum respectively, prettify output string.
	(define_insn movsi_zero_liveg0): New pattern to put zero into a
	register when needed on TARGET_LIVE_G0.
	(define_insn movsi_insn): Use general_operand and input_operand
	for dest and src respectively.  Simplify applicability test.
	Prettify output strings, and add clr alternative for J
	constraint.
	(define_insn movdi_sp32_v9, movdi_sp32, define_splits for
	deprecated std and reg-reg DI moves): Remove and...
	(define_insn movdi_insn_sp32, movdi_insn_sp64): Replace with new
	implementation which uses forced splits for all non-single insn
	cases.
	(define_split DI move cases on !arch64): New splits to handle all
	situations of 64-bit double register DImode on 32bit, and
	unaligned registers and memory addresses for all subtargets.
	(define_insn movsf_const_insn, movdf_const_insn, store_sf):
	Remove.
	(define_insn movsf_insn, movsf_no_f_insn): Use general_operand and
	input_operand for dest and src respectively, prettify output
	strings.
	(define_insn movdf_insn, movdf_no_e_insn, store_df,
	movtf_const_insn, movtf_insn, movtf_no_e_insn, store_tf): Remove
	and...
	(define_insn movdf_insn_sp32, movdf_no_e_insn_sp32,
	movdf_insn_sp64, movdf_no_e_insn_sp64, movtf_insn,
	movtf_no_e_insn_sp32, movtf_insn_hq_sp64, movtf_insn_sp64,
	movtf_no_e_insn_sp64) Replace with new
	implementation which uses forced splits for all non-single insn
	cases.
	(define_split DF move cases): New splits in similar vein to DI
	move counterparts.
	(define_insn sethi_di_medlow, sethi_di_medium_pic,
	sethi_di_embmedany_data, sethi_di_embmedany_text, sethi_di_sp64,
	movdi_sp64_insn): Remove old v9 code model and constant loading
	support insns and..
	(define_insn pic_lo_sum_di, pic_sethi_di,
	sethi_di_medlow_embmedany_pic, sethi_di_medlow, losum_di_medlow,
	seth44, setm44, setl44, sethh, setlm, sethm, setlo,
	embmedany_sethi, embmedany_losum, embmedany_brsum,
	embmedany_textuhi, embmedany_texthi, embmedany_textulo,
	embmedany_textlo, movdi_lo_sum_sp64_cint, movdi_lo_sum_sp64_dbl,
	movdi_high_sp64_cint, movdi_high_sp64_dbl): Replace with new
	scheme, using unspecs, secondary reloads, and one to one sparc
	insn to rtl insn mapping for better scheduling and code gen.
	(define_expand reload_indi, reload_outdi): Reload helpers for
	MEDANY and EMBMEDANY symbol address loading cases which require a
	temporary register.
	(define_expand movsicc): Remove v8plus_regcmp cases.
	(define_insn movdi_cc_sp64_trunc, movdi_cc_reg_sp64_trunc,
	cmp_zero_extendqidi2, cmp_zero_extendqidi2_set, cmp_qidi_trunc,
	cmp_diqi_trunc_set): New patterns used by some of the new scc
	splits on arch64.
	(define_insn xordi3_sp64_dbl): New pattern used for constant
	formation when crossing from 32-bit targets.
	(define_insn movsi_cc_reg_v8plus, v8plus_clear_high, and helper
	split): Remove.
	(define_insn addx, subx): Make visible and prettify.
	(define_insn adddi3_insn_sp32): Likewise and force split.
	(define_insn addx_extend, subx_extend, unnamed): New patterns for
	64bit scc split usage.
	(define_insn unnamed plusDI zero_extend, unnamed minusDI
	zero_extend, subdi3): Force and implement splits.
	
	* final.c (final_scan_insn): Don't output labels if target
	specifies ASM_OUTPUT_ADDR_{DIFF}_VEC.  Do these macro operations
	instead.
	
	* reorg.c (dbr_schedule): When taking on BR_PRED notes at the end,
	don't forget to walk inside SEQUENCESs too as these are what the
	delay slot scheduler will create.
	
Mon Aug 10 01:21:01 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.md (extxl+1,+2): New patterns to work around
	combine lossage.

Sat Aug  8 19:20:22 1998 Gary Thomas (gdt@linuxppc.org)

	* rs6000.c (rs6000_allocate_stack_space) Fix typo which
	caused bad assembly code to be generated.

Sat Aug  8 18:53:28 1998  Jeffrey A Law  (law@cygnus.com)

	* netbsd.h: Fix typo.

Mon Aug  3 00:06:42 1998  Robert Lipe  <robertl@dgii.com> 

	* config.sub: Fix typo.

Sun Aug  2 22:39:08 1998  Hans-Peter Nilsson  <hp@axis.se>

	* invoke.texi (Environment Variables): Typo: Change "ascpects"
	into "aspects".
	(Running Protoize): Typo: Change "ther" into "other".

Sun Aug  2 00:42:50 1998  Jeffrey A Law  (law@cygnus.com)

	* i386/netbsd.h: Undo previous change to DWARF2_UNWIND_INFO.
	* m68k/netbsd.h: Likewise.
	* ns32k/netbsd.h: Likewise.
	* sparc/netbsd.h: Likewise.

Sat Aug  1 17:59:30 1998  Richard Henderson  <rth@cygnus.com>

        * ginclude/va-alpha.h (va_list): Use a typedef, not a define.
        * ginclude/va-clipper.h (va_list): Likewise.

Fri Jul 31 20:22:02 1998  Michael Meissner  <meissner@cygnus.com>

	* rs6000.c (rs6000_override_options): If big endian and -Os, use
	load/store multiple instructions unless user overrides.

Fri Jul 31 17:08:59 1998  Jeffrey A Law  (law@cygnus.com)

	* ns32k/netbsd.h: Fix typo.

Fri Jul 31 10:23:55 1998  Doug Evans  <devans@canuck.cygnus.com>

	* m32r/m32r.h (ASM_OUTPUT_SOURCE_LINE): Always output line number
	labels with .debugsym if no parallel insns.

Thu Jul 30 19:15:53 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.md (fp cmp): Replicate patterns for ALPHA_TP_INSN.
	(fcmov): Remove ALPHA_TP_INSN patterns -- fcmov doesn't trap.

Thu Jul 30 19:50:15 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000/x-aix43 (AR_FOR_TARGET_FLAGS): Delete.
	(AR_FOR_TARGET): Define.

Thu Jul 30 12:29:12 1998  Mark Mitchell  <mark@markmitchell.com>

	* dyn-string.h: New file.
	* dyn-string.c: Likewise.
	* Makefile.in (OBJS): Add dyn-string.o.
	(dwarf2out.o): Add dyn-string.h dependency.
	(dyn-string.o): List dependencies.
	* dwarf2out.c: Include dyn-string.h.
	(ASM_NAME_TO_STRING): Use dyn_string_append, rather than strcpy.
	(addr_const_to_string): Take a dyn_string_t, not a char* as a
	prototype.  Use dyn_string_append rather than strcat, throughout.
	(addr_to_string): Use dyn_string_t.

Thu Jul 30 13:08:07 1998  Ken Raeburn  <raeburn@cygnus.com>

	Function entry/exit profiling instrumentation:
	* expr.h (profile_function_entry_libfunc,
	profile_function_exit_libfunc): Declare new variables.
	* optabs.c: Define them here.
	(init_optabs): Initialize them.
	* tree.h (struct tree_decl): New flag
	no_instrument_function_entry_exit.
	(DECL_NO_INSTRUMENT_FUNCTION_ENTRY_EXIT): New accessor macro.
	* c-decl.c (duplicate_decls): Merge it.
	* c-common.c (enum attrs): New value A_NO_INSTRUMENT_FUNCTION.
	(init_attributes): Use it for "no_instrument_function".
	(decl_attributes): Handle it, for functions that have not yet been
	compiled.  Set decl flag.
	* flags.h (flag_instrument_function_entry_exit): Declare new
	variable.
	* toplev.c (flag_instrument_function_entry_exit): Define it here.
	(f_options): New option "instrument-functions".
	* function.h (struct function): New field instrument_entry_exit.
	* function.c (current_function_instrument_entry_exit): New
	variable.
	(push_function_context_to, pop_function_context_from): Save and
	restore.
	(expand_function_start): Set current_ variable, maybe emit return
	label and entry profile call.
	(expand_function_end): Maybe emit exit profile call.

Thu Jul 30 00:58:34 1998  Jeffrey A Law  (law@cygnus.com)

	* i386.md (movqi): When optimizing a load of (const_int 1) into a
	NON_QI_REG_P, pretend the register is SImode.

Wed Jul 29 23:49:23 1998  Todd Vierling <tv@netbsd.org>

	* configure.in: Use xm-netbsd.h as the NetBSD xm file (not xm-siglist).
	Accept arm32 as arm, m68k4k as m68k, mipsle as mips-dec, and any
	manufacturer id for ns32k.
	* configure: Regenerated.
	* config/netbsd.h: When using ASM_WEAKEN_LABEL, make it global too.
	* config/t-netbsd: Don't compile libgcc1-test as the fns are in libc.
	* config/i386/netbsd.h: Undefine DWARF2_UNWIND_INFO, not define as 0.
	* config/m68k/netbsd.h: Same.
	* config/ns32k/netbsd.h: Same.
	* config/sparc/netbsd.h: Same.

Wed Jul 29 22:39:21 1998  Jeffrey A Law  (law@cygnus.com)

	* unroll.c (unroll_loop): Do not abort for an UNROLL_MODULO
	or UNROLL_COMPLETELY loop that starts with a jump to its
	exit code.

Wed Jul 29 22:18:14 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000/rs6000.md (absdi2 define_split): Swap operands of MINUS.
	* rs6000/rs6000.c (mask64_operand): Use HOST_BITS_PER_WIDE_INT.
	(print_operand, case 'B'): Don't fall through.
	(print_operand, case 'S'): Correct mask begin/end computation.
	Use HOST_BITS_PER_WIDE_INT.
	* rs6000/rs6000.h (CPP_PREDEFINES): Define _LONG_LONG.
	(CONDITIONAL_REGISTER_USAGE): GPR13 fixed if TARGET_64BIT.
	* rs6000/aix41.h (CPP_PREDEFINES): Same.
	* rs6000/aix43.h (CPP_PREDEFINES): Same.

Wed Jul 29 11:47:10 1998  Nick Clifton  <nickc@cygnus.com>

	* config/arm/thumb.md (extendqisi2_insn): Remove earlyclobber
	constraint from second alternative.

Tue Jul 28 23:29:04 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* configure.in: Fix --without/--disable cases for local-prefix, 
	gxx-include-dir and checking.

Tue Jul 28 22:01:23 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* configure.in (enable_haifa): Set by default for sparc64 too.
	configure: Rebuilt.

Tue Jul 28 23:29:04 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* i386/cygwin32.h (VALID_MACHINE_TYPE_ATTRIBUTE): New macro.
	* i386/winnt.c (associated_type): New fn.
	(i386_pe_valid_type_attribute_p): New fn.
	(i386_pe_check_vtable_importexport): Remove.
	(i386_pe_dllexport_p): Use associated_type.
	(i386_pe_dllimport_p): Likewise.

	From Antonio M. O. Neto <anmendes@cruzeironet.com.br>:
	* i386.c (i386_valid_type_attribute_p): Also accept
	attributes for METHOD_TYPEs.

Tue Jul 28 23:17:39 1998  Peter Gerwinski <peter@gerwinski.de>

	* tree.c (build_range_type): Copy TYPE_SIZE_UNIT.

Tue Jul 28 22:31:12 1998  Craig Burley  <burley@gnu.org>

	* gcc.c: Fix commentary describing %g, %u, %U, and %O.

	* gcc.c (do_spec_1): Fix handling of %g%O and %U%O to prevent
	them from generating a new base name for each occurence of
	a specific suffix.

1998-07-28  Vladimir N. Makarov  <vmakarov@cygnus.com>

	* cse.c (cse_insn): Enable subsitution inside libcall only for REG,
	SUBREG, MEM.
	* rtlanal.c (replace_rtx): Prohibit replaces in	CONST_DOUBLE. 



	* cplus-dem.c (type_kind_t): New type.
	(demangle_template_value_parm): Add type_kind_t parameter.  Rely
	on this paramter, rather than demangling the type again.
	(demangle_integral_value): Pass tk_integral.
	(demangle_template_: Pass the value returned from do_type.
	(do_type): Return a type_kind_t.  Pass tk_integral to
	demangle_template_value_parm for array bounds.
	(demangle_fund_type): Likewise.
	
Mon Jul 27 00:54:41 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* tree.c (simple_cst_equal, case CONSTRUCTOR): OK if the elts are
	identical.

Mon Jul 27 22:18:36 1998  Jeffrey A Law  (law@cygnus.com)

	* pa.c (move_operand): Accept CONSTANT_P_RTX.

Mon Jul 27 17:18:52 1998  Dave Brolley  <brolley@cygnus.com>

	* stor-layout.c (layout_type): Handle arrays of bits, for Chill.

	* expr.c (get_inner_reference): Handle zero-based, unsigned, array
	index conversion.

Mon Jul 27 14:51:33 1998  Jeffrey A Law  (law@cygnus.com)

	* mn10300.h (DEBUGGER_AUTO_OFFSET): Define.
	(DEBUGGER_ARG_OFFSET): Likewise.

	* mn10300.md (movsf): Remove last change.  Not needed.

Mon Jul 27 14:22:36 1998  Dave Brolley  <brolley@cygnus.com>

	* c-lex.c (yylex): Fix boundary conditions in character literal and
	string literal loops.

Mon Jul 27 11:43:54 1998  Stan Cox  <scox@cygnus.com>

	* longlong.h (count_leading_zeros): Sparclite scan instruction was
	being invoked incorrectly.

	* i386.c (ix86_prologue): Added SUBTARGET_PROLOGUE invocation.
	* i386/cygwin32.h (STARTFILE_SPEC, LIB_SPEC, SUBTARGET_PROLOGUE): 
	Add -pg support. 
	* i386/win32.h: New file.  Hybrid mingw32.h/cygwin32.h configuration.
	* configure.in: Added i[34567]86-*-win32
	* config.sub: Ditto.
	* configure: Rebuilt.
	
Sun Jul 26 01:11:12 1998  H.J. Lu  (hjl@gnu.org)

	* i386.h (CONST_DOUBLE_OK_FOR_LETTER_P): Return 0 when eliminating
	the frame pointer and compiling PIC code and reload has not completed.

	* i386.c (output_to_reg): Add code to emulate non-popping DImode
	case.

Sun Jul 26 01:01:32 1998  Jeffrey A Law  (law@cygnus.com)

	* regmove.c (regmove_optimize): Fix typo initializing regmove_bb_head.

Sat Jul 25 23:29:23 1998  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>

	* Makefile.in (install-info): Only try to update the info
	directory file if it exists in the first place.

Fri Jul 24 18:58:37 1998  Klaus Espenlaub  <kespenla@student.informatik.uni-ulm.de>

	* rs6000.h (ASM_OUTPUT_CONSTRUCTOR, ASM_OUTPUT_DESTRUCTOR): Delete.

Fri Jul 24 14:20:26 1998  Jeffrey A Law  (law@cygnus.com)

	* mn10300.md (movqi, movhi, movsi, movsf): Correctly handle
	CONST_DOUBLE source.

Fri Jul 24 11:17:04 1998  Nick Clifton  <nickc@cygnus.com>

	* config/arm/thumb.c (thumb_print_operand): Decode %_ in asm
	strings as the insertion of USER_LABEL_PREFIX.
	* config/arm/thumb.h (PRINT_OPERAND_PUNCT_VALID_P): Accept _ as a
	valid code.
	* config/arm/thumb.md: Use %_ as a prefix to gcc library function
	calls. 

Thu Jul 23 18:53:20 1998  Jim Wilson  <wilson@cygnus.com>

	* dbxout.c (dbxout_range_type): Only call dbxout_type_index for
	already defined type.

Thu Jul 23 13:49:41 1998  Jeffrey A Law  (law@cygnus.com)

	* expr.c (check_max_integer_computation_mode): Allow conversions
	of constant integers to MAX_INTEGER_COMPUTATION_MODE.
	(expand_expr): Likewise.

Thu Jul 23 11:12:06 1998  Alexandre Petit-Bianco  <apbianco@cygnus.com>

	* expr.c (expand_expr): Expand RETURN_EXPR.

Thu Jul 23 11:00:29 1998  Jim Wilson  <wilson@cygnus.com>

	* dwarf2out.c (dwarf2out_finish): Call stripattributes on TEXT_SECTION.

Wed Jul 22 19:10:00 1998  Catherine Moore  <clm@cygnus.com>

        * dwarf2out.c (output_aranges):  Call stripattributes
        for TEXT_SECTION references.
        (output_line_info): Likewise.

Wed Jul 22 14:08:54 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* profile.c (branch_prob): Call allocate_reg_info after outputting
	profile rtl in instrument_arcs.

Wed Jul 22 12:47:49 1998  Jim Wilson  <wilson@cygnus.com>

	* fixinc.irix (math.h): Install wrapper instead of copying.

Wed Jul 22 12:37:14 1998  Alexandre Petit-Bianco <apbianco@cygnus.com>

	* tree.def (EXPR_WITH_FILE_LOCATION): Defined as an 'e' expression
 	so WFL are expanded correctly when contained in a COMPOUND_EXPR.
	* tree.h (EXPR_WFL_EMIT_LINE_NOTE): Change macro not to use
 	lang_flag_0. Added documentation in the flag table.

Tue Jul 21 23:28:35 1998  Klaus Kaempf <kkaempf@rmi.de>

	* cccp.c (do_include): Fix vax c style include handling.

Tue Jul 21 13:28:19 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* cplus-dem.c (do_type): Use demangle_template_value_parm for arrays.

Sun Jul 12 01:27:05 1998  Jason Merrill  <jason@yorick.cygnus.com>

	* fold-const.c (non_lvalue): Don't deal with null pointer 
	constants here.
	(fold, case COMPOUND_EXPR): Wrap a constant 0 in a NOP_EXPR.

Tue Jul 21 15:49:31 1998  David Edelsohn  <edelsohn@mhpcc.edu>

	* rs6000.h (PREDICATE_CODES): Add CONSTANT_P_RTX.
	* rs6000.md (movsi, movdi): Add CONSTANT_P_RTX.
	* rs6000.c (short_cint_operand): Add CONSTANT_P_RTX.
	(u_short_cint_operand): Same.
	(reg_or_cint_operand): Same.
	(logical_operand): Same.
	(input_operand): Same.
	(reg_or_short_operand): Use u_short_cint_operand.

Tue Jul 21 08:56:42 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.md (fix_truncdfsi2, fix_truncsfsi2): Remove the define_expands,
	but keep the insns and splits.  Adjust so when the ultimate destination
	is memory, use cvtql.

Tue Jul 21 08:55:09 1998  Richard Henderson  <rth@cygnus.com>

	* flow.c (regno_uninitialized): Fixed regs are never uninitialized.

Tue Jul 21 00:31:01 1998  Jeffrey A Law  (law@cygnus.com)

	* gcc.c (do_spec): Call "error" not "warning".

	* configure.in: Fix minor problems with gas feature detection code.
	* configure: Rebuilt.

	* gcc.c (do_spec): Issue a warning for '%[]' usage.

	* Undo this change.
	* gcc.c: Delete %[spec] support.
	(do_spec_1, case '('): Likewise.
	(do_spec_1, case '['): Call error.

Mon Jul 20 22:34:17 1998  Richard Henderson  <rth@cygnus.com>

	* alpha.h (CPP_SPEC): Tidy.  Hook to cpp_cpu and cpp_subtarget.
	(CPP_SUBTARGET_SPEC): Default to empty string.
	(CPP_AM_*, CPP_IM_*, CPP_CPU_*, CPP_CPU_SPEC): New.
	(EXTRA_SPECS, SUBTARGET_EXTRA_SPECS): New.
	* alpha/elf.h (LD_SPEC): Use %(elf_dynamic_linker).
	* alpha/linux-elf.h (SUBTARGET_EXTRA_SPECS): New.
	(LIB_SPEC): Tidy.
	* alpha/linux.h (CPP_PREDEFINES): Tidy.
	* alpha/netbsd-elf.h (SUBTARGET_EXTRA_SPECS): New.
	* alpha/netbsd.h (CPP_PREDEFINES): Tidy.
	* alpha/osf.h (CPP_PREDEFINES): Remove bits subsumed by CPP_CPU_SPEC.
	* alpha/win-nt.h (CPP_PREDEFINES): Likewise.
	* alpha/vsf.h (CPP_PREDEFINES): Likewise.
	(CPP_SUBTARGET_SPEC): New.  Do this instead of overriding CPP_SPEC.
	* alpha/vxworks.h: Likewise.

Mon Jul 20 22:51:57 1998  Ken Raeburn  <raeburn@cygnus.com>

	* mips.md (reload_outsi): Added missing REGNO call.
	(smulsi3_highpart, umulsi3_highpart): Provide prototype for
	function pointer.
	(mul_acc_di, mul_acc_64bit_di): Don't use match_op_dup, use
	another match_operator and compare the codes.

	* mips.h (MASK_DEBUG_E, MASK_DEBUG_I): Set to zero.

	* MIPS multiply pattern fixes:
	* mips.h (enum reg_class, REG_CLASS_NAMES, REG_CLASS_CONTENTS):
	Add union classes for HI, LO, or HILO plus general registers.
	(GENERATE_MADD): Deleted.
	* mips.md (mulsi3_mult3): Don't disparage output-LO alternative.
	Add TARGET_MAD to condition.
	(mulsi3): Test HAVE_mulsi3_mult3, not specific flags.
	(mul_acc_si): Expand GENERATE_MADD here; it's the only use.  Use
	"*d" for accumulator, to give preference to LO initially but not
	during reload.

Mon Jul 20 16:16:38 1998  Dave Brolley  <brolley@cygnus.com>

	* configure.in (enable_c_mbchar): New configure option.
	(extra_cpp_objs): Always available now.

	* cexp.y (mbchar.h): #include it.
	(yylex): Handle Multibyte characters in character literals.

	* cccp.c (mbchar.h): #include it.
	(main): Set character set based on LANG environment variable.
	(rescan): Handle multibyte characters in comments.
	(skip_if_group): See above.
	(validate_else): See above.
	(skip_to_end_of_comment): See above.
	(macarg1): See above.
	(discard_comments): See above.
	(rescan): Handle multibyte characters in string and character literals.
	(collect_expansion): See above.
	(skip_quoted_string): See above.
	(macroexpand): See above.
	(macarg1): See above.
	(discard_comments): See above.
	(change_newlines): See above.

	* c-lex.c (mbchar.h): #include it.
	(GET_ENVIRONMENT): New macro.
	(init_lex): Set character set based on LANG environment variable.
	(yylex): Handle multibyte characters in character literals.
	(yylex): Handle multibyte characters in string literals.

	* Makefile.in (mbchar.o): New target.
	(cccp$(exeext)): @extra_cpp_objs@ is always available.
	(cppmain$(exeext)): @extra_cpp_objs@ is always available.

	* mbchar.[ch]: New files for multibyte character handling.

Mon Jul 20 01:11:11 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>

	* jump.c (jump_optimize): When simplifying noop moves and
	PUSH_ROUNDING, fix thinko so we use same criterion for identifying
	the PUSHes to rewrite in second loop as we did in the first.

Sun Jul 19 08:23:53 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* cplus-dem.c (demangle_nested_args): Make function definition
	static to match the prototype.

Fri Jul 17 14:58:44 1998  Richard Henderson  <rth@cygnus.com>

	* alloca.c: Respect USE_C_ALLOCA.
	* gencheck.c (xmalloc): Ignore __GNUC__ for definition.
	* gengenrtl.c (xmalloc): Likewise.

Fri Jul 17 14:18:14 1998  Richard Henderson  <rth@cygnus.com>

	* loop.h (struct induction): Add no_const_addval.
	* loop.c (the_movables, reg_address_cost): New variables.
	(init_loop): Init reg_address_cost.
	(loop_optimize): Call end_alias_analysis.
	(scan_loop): Init the_movables.
	(record_giv): Init induction->no_const_addval.
	(basic_induction_var) [PLUS]: Use rtx_equal_p instead of ==.
	[REG]: Rearrange loop search test to catch more cases.
	(general_induction_var): Return success not benefit; take an extra
	argument for that.  Change all callers.
	(simplify_giv_expr) [PLUS]: Always combine invariants.  Use sge_plus.
	[MULT]: Use rtx_equal_p instead of ==.  Combine simple invariants.
	[default]: Search the_movables for additional combinations.
	(sge_plus_constant, sge_plus): New functions.
	(express_from_1): New function.
	(express_from): Always define.  Rewrite using express_from_1.
	(combine_givs_p): Handle more cases.  Ignore address cost.
	(cmp_combine_givs_stats): New function.
	(combine_givs_used_once, combine_givs_benefit_from): New functions.
	(combine_givs): Rewrite to do best-fit combination.

	* fold-const.c (operand_equal_p): Handle RTL_EXPR.
	(fold): Do a complete (A*C)+(B*C) association check.

Fri Jul 17 11:21:55 1998  Jim Wilson  <wilson@cygnus.com>

	* function.c (fixup_var_refs_insns): Handle CLOBBER of a CONCAT.

Fri Jul 17 11:48:55 1998  Jeffrey A Law  (law@cygnus.com)

	* mn10300.c (MODES_TIEABLE_P): Fix typo.

Fri Jul 17 03:26:12 1998  Rihcard Earnshaw (rearnsha@arm.com)

	* tree.c (valid_machine_attribute): Only create a new type variant if
	there is a decl to use it.

Thu Jul 16 14:48:04 1998  Nick Clifton  <nickc@cygnus.com>

	* gcc.c (do_spec_1): Cope with %g/%u/%U options which do not have
	a suffix.

Fri Jul 17 03:24:40 1998  Hans-Peter Nilsson  <hp@axis.se>

	* extend.texi (Explicit Reg Vars): Typo: change "may deleted" into "may
	be deleted" 

Thu Jul 16 14:48:47 1998  Jeffrey A Law  (law@cygnus.com)

	* mn10300.c (count_tst_insns): New arg oreg_countp.  Callers changed.
	Simplify tests for clearing an address register.
	(expand_prologue): Corresponding changes.

	* mn10300.md (movXX patterns): Make sure the destination is an
	ADDRESS_REG when substituting "zero_areg" for (const_int 0).
	(logical patterns): Split into expanders + patterns
	(zero and sign extension patterns): Similarly.
	(shift patterns): Similarly.

Thu Jul 16 01:17:44 1998  Richard Henderson  <rth@cygnus.com>

	* loop.c (emit_iv_add_mult): Scan the entire insn list generated
	for the sequence, recording base values.

Wed Jul 15 10:49:55 1998  Richard Henderson  <rth@cygnus.com>

	* i386.h (CPP_CPU_SPEC): Remove -Asystem(unix).

Tue Jul 14 14:15:30 1998  Nick Clifton  <nickc@cygnus.com>

	* gcc.c: Remove ANSI-C ism from --help code.

	* toplev.c: Support --help with USE_CPPLIB.

Tue Jul 14 14:46:08 1998  Jeffrey A Law  (law@cygnus.com)

	* configure.in: Rework gas feature code to work with symlink based
	source trees.

	* extend.texi: Clarify some issues related to local variables
	assigned to explicit registers.

	* mn10300.md (mulsi): Turn into expander + pattern.

	* mn10300.md (movsi, movsf, movdi, movdf): Remove "x" from I -> a
	alternative.

Tue Jul 14 07:41:59 1998  Richard Earnshaw (rearnsha@arm.com)

	* arm/tcoff.h (USER_LABEL_PREFIX): Make it empty to match coff.h.

Tue Jul 14 03:02:44 1998  Jeffrey A Law  (law@cygnus.com)

	* version.c: Bump again to distinguish mainline tree from the
	egcs-1.1 branch.

See ChangeLog.0 for earlier changes.

Local Variables:
add-log-time-format: current-time-string
End:
