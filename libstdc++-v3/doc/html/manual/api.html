<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>API Evolution and Deprecation History</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><meta name="keywords" content="ISO C++, api, evolution, deprecation, history" /><meta name="keywords" content="ISO C++, library" /><meta name="keywords" content="ISO C++, runtime, library" /><link rel="home" href="../index.html" title="The GNU C++ Library" /><link rel="up" href="appendix_porting.html" title="Appendix B.  Porting and Maintenance" /><link rel="prev" href="abi.html" title="ABI Policy and Guidelines" /><link rel="next" href="backwards.html" title="Backwards Compatibility" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">API Evolution and Deprecation History</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="abi.html">Prev</a> </td><th width="60%" align="center">Appendix B. 
  Porting and Maintenance
  
</th><td width="20%" align="right"> <a accesskey="n" href="backwards.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendix.porting.api"></a>API Evolution and Deprecation History</h2></div></div></div><p>
A list of user-visible changes, in chronological order
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_300"></a><code class="constant">3.0</code></h3></div></div></div><p>
Extensions moved to <code class="filename">include/ext</code>.
  </p><p>
Include files from the SGI/HP sources that pre-date the ISO standard
are added. These files are placed into
the <code class="filename">include/backward</code> directory and a deprecated warning
is added that notifies on inclusion (<code class="literal">-Wno-deprecated</code>
deactivates the warning.)
</p><p>Deprecated include <code class="filename">&lt;backward/strstream&gt;</code> added.</p><p>Removal of include <code class="filename">&lt;builtinbuf.h&gt;</code>, <code class="filename">&lt;indstream.h&gt;</code>, <code class="filename">&lt;parsestream.h&gt;</code>, <code class="filename">&lt;PlotFile.h&gt;</code>, <code class="filename">&lt;SFile.h&gt;</code>, <code class="filename">&lt;stdiostream.h&gt;</code>, and <code class="filename">&lt;stream.h&gt;</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_310"></a><code class="constant">3.1</code></h3></div></div></div><p>
  </p><p>
Extensions from SGI/HP moved from <code class="code">namespace std</code>
to <code class="code">namespace __gnu_cxx</code>. As part of this, the following
new includes are
added: <code class="filename">&lt;ext/algorithm&gt;</code>, <code class="filename">&lt;ext/functional&gt;</code>, <code class="filename">&lt;ext/iterator&gt;</code>, <code class="filename">&lt;ext/memory&gt;</code>, and <code class="filename">&lt;ext/numeric&gt;</code>.
</p><p>
Extensions to <code class="code">basic_filebuf</code> introduced: <code class="code">__gnu_cxx::enc_filebuf</code>, and <code class="code">__gnu_cxx::stdio_filebuf</code>.
</p><p>
Extensions to tree data structures added in <code class="filename">&lt;ext/rb_tree&gt;</code>.
</p><p>
Removal of <code class="filename">&lt;ext/tree&gt;</code>, moved to <code class="filename">&lt;backward/tree.h&gt;</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_320"></a><code class="constant">3.2</code></h3></div></div></div><p>
  </p><p>Symbol versioning introduced for shared library.</p><p>Removal of include <code class="filename">&lt;backward/strstream.h&gt;</code>.</p><p>Allocator changes. Change <code class="code">__malloc_alloc</code> to <code class="code">malloc_allocator</code> and <code class="code">__new_alloc</code> to <code class="code">new_allocator</code>. </p><p> For GCC releases from 2.95 through the 3.1 series, defining
   <code class="literal">__USE_MALLOC</code> on the gcc command line would change the
   default allocation strategy to instead use <code class="code">malloc</code> and
   <code class="code">free</code>. For the 3.2 and 3.3 release series the same
   functionality was spelled <code class="literal">_GLIBCXX_FORCE_NEW</code>. From
   GCC 3.4 onwards the default allocator uses <code class="code">new</code> anyway,
   but for the optional pooling allocators the functionality is enabled by
   setting <code class="literal">GLIBCXX_FORCE_NEW</code> in the environment, see
   <a class="link" href="mt_allocator.html" title="Chapter 19. The mt_allocator">the mt allocator chapter</a>
   for details.
   </p><p>Error handling in iostreams cleaned up, made consistent. </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_330"></a><code class="constant">3.3</code></h3></div></div></div><p>
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_340"></a><code class="constant">3.4</code></h3></div></div></div><p>
  </p><p>
Large file support.
</p><p> Extensions for generic characters and <code class="code">char_traits</code> added in <code class="filename">&lt;ext/pod_char_traits.h&gt;</code>.
</p><p>
Support for <code class="code">wchar_t</code> specializations of <code class="code">basic_filebuf</code> enhanced to support <code class="code">UTF-8</code> and <code class="code">Unicode</code>, depending on host. More hosts support basic <code class="code">wchar_t</code> functionality.
</p><p>
Support for <code class="code">char_traits</code> beyond builtin types.
</p><p>
Conformant <code class="code">allocator</code> class and usage in containers. As
part of this, the following extensions are
added: <code class="filename">&lt;ext/bitmap_allocator.h&gt;</code>, <code class="filename">&lt;ext/debug_allocator.h&gt;</code>, <code class="filename">&lt;ext/mt_allocator.h&gt;</code>, <code class="filename">&lt;ext/malloc_allocator.h&gt;</code>,<code class="filename">&lt;ext/new_allocator.h&gt;</code>, <code class="filename">&lt;ext/pool_allocator.h&gt;</code>.
</p><p>
This is a change from all previous versions, and may require
source-level changes due to allocator-related changes to structures
names and template parameters, filenames, and file locations. Some,
like <code class="code">__simple_alloc, __allocator, __alloc, </code> and <code class="code">
_Alloc_traits</code> have been removed.
</p><p>Default behavior of <code class="code">std::allocator</code> has changed.</p><p>
   Previous versions prior to 3.4 cache allocations in a memory
   pool, instead of passing through to call the global allocation
   operators (i.e., <code class="classname">__gnu_cxx::pool_allocator</code>).  More
   recent versions default to the
   simpler <code class="classname">__gnu_cxx::new_allocator</code>.
</p><p> Previously, all allocators were written to the SGI
   style, and all STL containers expected this interface. This
   interface had a traits class called <code class="code">_Alloc_traits</code> that
   attempted to provide more information for compile-time allocation
   selection and optimization. This traits class had another allocator
   wrapper, <code class="code">__simple_alloc&lt;T,A&gt;</code>, which was a
   wrapper around another allocator, A, which itself is an allocator
   for instances of T. But wait, there's more:
   <code class="code">__allocator&lt;T,A&gt;</code> is another adapter.  Many of
   the provided allocator classes were SGI style: such classes can be
   changed to a conforming interface with this wrapper:
   <code class="code">__allocator&lt;T, __alloc&gt;</code> is thus the same as
   <code class="code">allocator&lt;T&gt;</code>.
   </p><p> The class <code class="classname">allocator</code> used the typedef
   <span class="type">__alloc</span> to select an underlying allocator that
   satisfied memory allocation requests. The selection of this
   underlying allocator was not user-configurable.
   </p><div class="table"><a id="table.extension_allocators"></a><p class="title"><strong>Table B.6. Extension Allocators</strong></p><div class="table-contents"><table class="table" summary="Extension Allocators" border="1"><colgroup><col align="left" class="c1" /><col align="left" class="c2" /><col align="left" class="c3" /><col align="left" class="c4" /></colgroup><thead><tr><th align="left">Allocator (3.4)</th><th align="left">Header (3.4)</th><th align="left">Allocator (3.[0-3])</th><th align="left">Header (3.[0-3])</th></tr></thead><tbody><tr><td align="left"><code class="classname">__gnu_cxx::new_allocator&lt;T&gt;</code></td><td align="left"><code class="filename">&lt;ext/new_allocator.h&gt;</code></td><td align="left"><code class="classname">std::__new_alloc</code></td><td align="left"><code class="filename">&lt;memory&gt;</code></td></tr><tr><td align="left"><code class="classname">__gnu_cxx::malloc_allocator&lt;T&gt;</code></td><td align="left"><code class="filename">&lt;ext/malloc_allocator.h&gt;</code></td><td align="left"><code class="classname">std::__malloc_alloc_template&lt;int&gt;</code></td><td align="left"><code class="filename">&lt;memory&gt;</code></td></tr><tr><td align="left"><code class="classname">__gnu_cxx::debug_allocator&lt;T&gt;</code></td><td align="left"><code class="filename">&lt;ext/debug_allocator.h&gt;</code></td><td align="left"><code class="classname">std::debug_alloc&lt;T&gt;</code></td><td align="left"><code class="filename">&lt;memory&gt;</code></td></tr><tr><td align="left"><code class="classname">__gnu_cxx::__pool_alloc&lt;T&gt;</code></td><td align="left"><code class="filename">&lt;ext/pool_allocator.h&gt;</code></td><td align="left"><code class="classname">std::__default_alloc_template&lt;bool,int&gt;</code></td><td align="left"><code class="filename">&lt;memory&gt;</code></td></tr><tr><td align="left"><code class="classname">__gnu_cxx::__mt_alloc&lt;T&gt;</code></td><td align="left"><code class="filename">&lt;ext/mt_allocator.h&gt;</code></td><td align="left"> </td><td align="left"> </td></tr><tr><td align="left"><code class="classname">__gnu_cxx::bitmap_allocator&lt;T&gt;</code></td><td align="left"><code class="filename">&lt;ext/bitmap_allocator.h&gt;</code></td><td align="left"> </td><td align="left"> </td></tr></tbody></table></div></div><br class="table-break" /><p> Releases after gcc-3.4 have continued to add to the collection
   of available allocators. All of these new allocators are
   standard-style. The following table includes details, along with
   the first released version of GCC that included the extension allocator.
   </p><div class="table"><a id="table.extension_allocators2"></a><p class="title"><strong>Table B.7. Extension Allocators Continued</strong></p><div class="table-contents"><table class="table" summary="Extension Allocators Continued" border="1"><colgroup><col align="left" class="c1" /><col align="left" class="c2" /><col align="left" class="c3" /></colgroup><thead><tr><th align="left">Allocator</th><th align="left">Include</th><th align="left">Version</th></tr></thead><tbody><tr><td align="left"><code class="classname">__gnu_cxx::array_allocator&lt;T&gt;</code></td><td align="left"><code class="filename">&lt;ext/array_allocator.h&gt;</code></td><td align="left">4.0.0</td></tr><tr><td align="left"><code class="classname">__gnu_cxx::throw_allocator&lt;T&gt;</code></td><td align="left"><code class="filename">&lt;ext/throw_allocator.h&gt;</code></td><td align="left">4.2.0</td></tr></tbody></table></div></div><br class="table-break" /><p>
Debug mode first appears.
</p><p>
Precompiled header support <acronym class="acronym">PCH</acronym> support.
</p><p>
Macro guard for changed, from <code class="literal">_GLIBCPP_</code> to <code class="literal">_GLIBCXX_</code>.
</p><p>
Extension <code class="filename">&lt;ext/stdio_sync_filebuf.h&gt;</code> added.
</p><p>
Extension <code class="filename">&lt;ext/demangle.h&gt;</code> added.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_400"></a><code class="constant">4.0</code></h3></div></div></div><p>
  </p><p>
TR1 features first appear.
</p><p>
Extension allocator <code class="filename">&lt;ext/array_allocator.h&gt;</code> added.
</p><p>
Extension <code class="code">codecvt</code> specializations moved to <code class="filename">&lt;ext/codecvt_specializations.h&gt;</code>.
</p><p>
Removal of <code class="filename">&lt;ext/demangle.h&gt;</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_410"></a><code class="constant">4.1</code></h3></div></div></div><p>
  </p><p>
Removal of <code class="filename">&lt;cassert&gt;</code> from all standard headers: now has to be explicitly included for <code class="code">std::assert</code> calls.
</p><p> Extensions for policy-based data structures first added. New includes,
types, namespace <code class="code">pb_assoc</code>.
</p><p> Extensions for typelists added in <code class="filename">&lt;ext/typelist.h&gt;</code>.
</p><p> Extension for policy-based <code class="code">basic_string</code> first added: <code class="code">__gnu_cxx::__versa_string</code> in <code class="filename">&lt;ext/vstring.h&gt;</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_420"></a><code class="constant">4.2</code></h3></div></div></div><p>
  </p><p> Default visibility attributes applied to <code class="code">namespace std</code>. Support for <code class="code">-fvisibility</code>.
</p><p>TR1 <code class="filename">&lt;random&gt;</code>, <code class="filename">&lt;complex&gt;</code>, and C compatibility headers added.</p><p> Extensions for concurrent programming consolidated
into <code class="filename">&lt;ext/concurrence.h&gt;</code> and <code class="filename">&lt;ext/atomicity.h&gt;</code>,
including change of namespace to <code class="code">__gnu_cxx</code> in some
cases. Added types
include <code class="code">_Lock_policy</code>, <code class="code">__concurrence_lock_error</code>, <code class="code">__concurrence_unlock_error</code>, <code class="code">__mutex</code>, <code class="code">__scoped_lock</code>.</p><p> Extensions for type traits consolidated
into <code class="filename">&lt;ext/type_traits.h&gt;</code>. Additional traits are added
(<code class="code">__conditional_type</code>, <code class="code">__enable_if</code>, others.)
</p><p> Extensions for policy-based data structures revised. New includes,
types, namespace moved to <code class="code">__pb_ds</code>.
</p><p> Extensions for debug mode modified: now nested in <code class="code">namespace
std::__debug</code> and extensions in <code class="code">namespace
__gnu_cxx::__debug</code>.</p><p> Extensions added: <code class="filename">&lt;ext/typelist.h&gt;</code>
and <code class="filename">&lt;ext/throw_allocator.h&gt;</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_430"></a><code class="constant">4.3</code></h3></div></div></div><p>
  </p><p>
C++0X features first appear.
</p><p>TR1 <code class="filename">&lt;regex&gt;</code> and <code class="filename">&lt;cmath&gt;</code>'s mathematical special function added.
</p><p>
Backward include edit.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Removed</p><p>
<code class="filename">&lt;algobase.h&gt;</code> <code class="filename">&lt;algo.h&gt;</code> <code class="filename">&lt;alloc.h&gt;</code> <code class="filename">&lt;bvector.h&gt;</code> <code class="filename">&lt;complex.h&gt;</code>
<code class="filename">&lt;defalloc.h&gt;</code> <code class="filename">&lt;deque.h&gt;</code> <code class="filename">&lt;fstream.h&gt;</code> <code class="filename">&lt;function.h&gt;</code> <code class="filename">&lt;hash_map.h&gt;</code> <code class="filename">&lt;hash_set.h&gt;</code>
<code class="filename">&lt;hashtable.h&gt;</code> <code class="filename">&lt;heap.h&gt;</code> <code class="filename">&lt;iomanip.h&gt;</code> <code class="filename">&lt;iostream.h&gt;</code> <code class="filename">&lt;istream.h&gt;</code> <code class="filename">&lt;iterator.h&gt;</code>
<code class="filename">&lt;list.h&gt;</code> <code class="filename">&lt;map.h&gt;</code> <code class="filename">&lt;multimap.h&gt;</code> <code class="filename">&lt;multiset.h&gt;</code> <code class="filename">&lt;new.h&gt;</code> <code class="filename">&lt;ostream.h&gt;</code> <code class="filename">&lt;pair.h&gt;</code> <code class="filename">&lt;queue.h&gt;</code> <code class="filename">&lt;rope.h&gt;</code> <code class="filename">&lt;set.h&gt;</code> <code class="filename">&lt;slist.h&gt;</code> <code class="filename">&lt;stack.h&gt;</code> <code class="filename">&lt;streambuf.h&gt;</code> <code class="filename">&lt;stream.h&gt;</code> <code class="filename">&lt;tempbuf.h&gt;</code>
<code class="filename">&lt;tree.h&gt;</code> <code class="filename">&lt;vector.h&gt;</code>
  </p></li><li class="listitem"><p>Added</p><p>
  <code class="filename">&lt;hash_map&gt;</code> and <code class="filename">&lt;hash_set&gt;</code>
  </p></li><li class="listitem"><p>Added in C++11</p><p>
    <code class="filename">&lt;auto_ptr.h&gt;</code> and <code class="filename">&lt;binders.h&gt;</code>
  </p></li></ul></div><p>
Header dependency streamlining.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">&lt;algorithm&gt;</code> no longer includes <code class="filename">&lt;climits&gt;</code>, <code class="filename">&lt;cstring&gt;</code>, or <code class="filename">&lt;iosfwd&gt;</code> </p></li><li class="listitem"><p><code class="filename">&lt;bitset&gt;</code> no longer includes <code class="filename">&lt;istream&gt;</code> or <code class="filename">&lt;ostream&gt;</code>, adds <code class="filename">&lt;iosfwd&gt;</code> </p></li><li class="listitem"><p><code class="filename">&lt;functional&gt;</code> no longer includes <code class="filename">&lt;cstddef&gt;</code></p></li><li class="listitem"><p><code class="filename">&lt;iomanip&gt;</code> no longer includes <code class="filename">&lt;istream&gt;</code>, <code class="filename">&lt;istream&gt;</code>, or <code class="filename">&lt;functional&gt;</code>, adds <code class="filename">&lt;ioswd&gt;</code> </p></li><li class="listitem"><p><code class="filename">&lt;numeric&gt;</code> no longer includes <code class="filename">&lt;iterator&gt;</code></p></li><li class="listitem"><p><code class="filename">&lt;string&gt;</code> no longer includes <code class="filename">&lt;algorithm&gt;</code> or <code class="filename">&lt;memory&gt;</code></p></li><li class="listitem"><p><code class="filename">&lt;valarray&gt;</code> no longer includes <code class="filename">&lt;numeric&gt;</code> or <code class="filename">&lt;cstdlib&gt;</code></p></li><li class="listitem"><p><code class="filename">&lt;tr1/hashtable&gt;</code> no longer includes <code class="filename">&lt;memory&gt;</code> or <code class="filename">&lt;functional&gt;</code></p></li><li class="listitem"><p><code class="filename">&lt;tr1/memory&gt;</code> no longer includes <code class="filename">&lt;algorithm&gt;</code></p></li><li class="listitem"><p><code class="filename">&lt;tr1/random&gt;</code> no longer includes <code class="filename">&lt;algorithm&gt;</code> or <code class="filename">&lt;fstream&gt;</code></p></li></ul></div><p>
Debug mode for <code class="filename">&lt;unordered_map&gt;</code> and <code class="filename">&lt;unordered_set&gt;</code>.
</p><p>
Parallel mode first appears.
</p><p>Variadic template implementations of items in <code class="filename">&lt;tuple&gt;</code> and
    <code class="filename">&lt;functional&gt;</code>.
</p><p>Default <code class="code">what</code> implementations give more elaborate
    exception strings for <code class="code">bad_cast</code>,
    <code class="code">bad_typeid</code>, <code class="code">bad_exception</code>, and
    <code class="code">bad_alloc</code>.
</p><p>
PCH binary files no longer installed. Instead, the source files are installed.
</p><p>
Namespace pb_ds moved to __gnu_pb_ds.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_440"></a><code class="constant">4.4</code></h3></div></div></div><p>
  </p><p>
C++0X features.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Added.
  </p><p>
    <code class="filename">&lt;atomic&gt;</code>,
    <code class="filename">&lt;chrono&gt;</code>,
    <code class="filename">&lt;condition_variable&gt;</code>,
    <code class="filename">&lt;forward_list&gt;</code>,
    <code class="filename">&lt;initializer_list&gt;</code>,
    <code class="filename">&lt;mutex&gt;</code>,
    <code class="filename">&lt;ratio&gt;</code>,
    <code class="filename">&lt;thread&gt;</code>
  </p></li><li class="listitem"><p>
    Updated and improved.
  </p><p>
    <code class="filename">&lt;algorithm&gt;</code>,
    <code class="filename">&lt;system_error&gt;</code>,
    <code class="filename">&lt;type_traits&gt;</code>
  </p></li><li class="listitem"><p>
    Use of the GNU extension namespace association converted to inline namespaces.
  </p></li><li class="listitem"><p>
    Preliminary support for <code class="classname">initializer_list</code>
    and defaulted and deleted constructors in container classes.
  </p></li><li class="listitem"><p>
    <code class="classname">unique_ptr</code>.
  </p></li><li class="listitem"><p>
    Support for new character types <span class="type">char16_t</span>
    and <span class="type">char32_t</span> added
    to <code class="classname">char_traits</code>, <code class="classname">basic_string</code>, <code class="classname">numeric_limits</code>,
    and assorted compile-time type traits.
  </p></li><li class="listitem"><p>
    Support for string conversions <code class="function">to_string</code>
    and <code class="function">to_wstring</code>.
  </p></li><li class="listitem"><p>
    Member functions taking string arguments were added to iostreams
    including <code class="classname">basic_filebuf</code>, <code class="classname">basic_ofstream</code>,
    and <code class="classname">basic_ifstream</code>.
  </p></li><li class="listitem"><p>
    Exception propagation support,
    including <code class="classname">exception_ptr</code>, <code class="function">current_exception</code>, <code class="function">copy_exception</code>,
    and <code class="function">rethrow_exception</code>.
  </p></li></ul></div><p>
Uglification of <code class="literal">try</code> to <code class="literal">__try</code>
and <code class="literal">catch</code> to <code class="literal">__catch</code>.
  </p><p>
Audit of internal mutex usage, conversion to functions returning static
local mutex.
  </p><p> Extensions
added: <code class="filename">&lt;ext/pointer.h&gt;</code>
and <code class="filename">&lt;ext/extptr_allocator.h&gt;</code>. Support
for non-standard pointer types has been added
to <code class="classname">vector</code>
and <code class="classname">forward_list</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_450"></a><code class="constant">4.5</code></h3></div></div></div><p>
  </p><p>
C++0X features.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Added.
  </p><p>
    <code class="filename">&lt;functional&gt;</code>,
    <code class="filename">&lt;future&gt;</code>,
    <code class="filename">&lt;random&gt;</code>
  </p></li><li class="listitem"><p>
    Updated and improved.
  </p><p>
    <code class="filename">&lt;atomic&gt;</code>,
    <code class="filename">&lt;system_error&gt;</code>,
    <code class="filename">&lt;type_traits&gt;</code>
  </p></li><li class="listitem"><p>
    Add support for explicit operators and standard layout types.
  </p></li></ul></div><p>
Profile mode first appears.
</p><p>
Support for decimal floating-point arithmetic, including <code class="classname">decimal32</code>, <code class="classname">decimal64</code>, and <code class="classname">decimal128</code>.
</p><p>
Python pretty-printers are added for use with appropriately-advanced versions of <span class="command"><strong>gdb</strong></span>.
</p><p>
Audit for application of function attributes nothrow, const, pure, and noreturn.
</p><p>
The default behavior for comparing typeinfo names changed, so
in <code class="filename">&lt;typeinfo&gt;</code>, <code class="literal">__GXX_MERGED_TYPEINFO_NAMES</code>
now defaults to zero.
</p><p> Extensions modified: <code class="filename">&lt;ext/throw_allocator.h&gt;</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_460"></a><code class="constant">4.6</code></h3></div></div></div><p>
  Use constexpr and nullptr where appropriate throughout the library.
</p><p>
  The library was updated to avoid including
  <code class="filename">&lt;stddef.h&gt;</code> in order
  to reduce namespace pollution.
</p><p>Reference-count annotations to assist data race detectors.
</p><p>
  Added <code class="function">make_exception_ptr</code> as an alias of
  <code class="function">copy_exception</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_470"></a><code class="constant">4.7</code></h3></div></div></div><p>Use of noexcept throughout library.</p><p>Partial support for C++11 allocators first appears.</p><p>
  <code class="classname">monotonic_clock</code> renamed to
  <code class="classname">steady_clock</code> as required by the final C++11
  standard.
</p><p>A new clocale model for newlib is available.</p><p>
  The library was updated to avoid including
  <code class="filename">&lt;unistd.h&gt;</code> in order
  to reduce namespace pollution.
</p><p>Debug Mode was improved for unordered containers. </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_480"></a><code class="constant">4.8</code></h3></div></div></div><p>
  New random number engines and distributions.
  Optimisations for random.
</p><p>New --enable-libstdcxx-verbose configure option</p><p>
  The --enable-libstdcxx-time configure option becomes unnecessary given a
  sufficiently recent glibc.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_490"></a><code class="constant">4.9</code></h3></div></div></div><p> Implementation of <code class="classname">regex</code> completed. </p><p> C++14 library and TS implementations are added. </p><p> <code class="function">copy_exception</code> deprecated. </p><p> <code class="classname">__gnu_cxx::array_allocator</code> deprecated. </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_51"></a><code class="constant">5</code></h3></div></div></div><p>
  ABI transition adds new implementations of several components, using the
  <code class="code">abi_tag</code> attribute and the <code class="code">__cxx11</code> inline
  namespace to distinguish the new entities from the old ones.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Use of the new or old ABI can be selected per-translation unit with the
    <a class="xref" href="using_macros.html" title="Macros">Macros</a>.
  </p></li><li class="listitem"><p>
    New non-reference-counted <code class="classname">string</code> implementation.
  </p></li><li class="listitem"><p>
    New <code class="classname">list</code> implementation containing a new
    data member in order to provide O(1) <code class="function">size()</code>.
  </p></li><li class="listitem"><p>
    New <code class="classname">ios_base::failure</code> implementation inheriting
    from <code class="classname">system_error</code>.
  </p></li></ul></div><p>
  C++11 support completed (movable iostreams, new I/O manipulators,
  Unicode conversion utilities, atomic operations for
  <code class="classname">shared_ptr</code>, functions for notifying condition
  variables and making futures ready at thread exit).
</p><p>
   Changed formatting of floating point types when
   <code class="code">ios_base::fixed|ios_base::scientific</code> is set in a stream's
   format flags.
</p><p> Improved C++14 support and TS implementations. </p><p> New random number engines and distributions. </p><p>
  GDB Xmethods for containers and <code class="classname">unique_ptr</code> added.
</p><p>
  <code class="classname">has_trivial_default_constructor</code>,
  <code class="classname">has_trivial_copy_constructor</code> and
  <code class="classname">has_trivial_copy_assign</code> deprecated.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="api.rel_53"></a><code class="constant">5.3</code></h4></div></div></div><p> Experimental implementation of the C++ Filesystem TS added. </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_61"></a><code class="constant">6</code></h3></div></div></div><p> C++14 support completed. </p><p>
  Support for mathematical special functions (ISO/IEC 29124:2010) added.
</p><p>
  Assertions to check function preconditions can be enabled by defining the
  <a class="link" href="using_macros.html" title="Macros"><span class="symbol">_GLIBCXX_ASSERTIONS</span>
  macro</a>.
  The initial set of assertions are a subset of the checks enabled by
  the Debug Mode, but without the ABI changes and changes to algorithmic
  complexity that are caused by enabling the full Debug Mode.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_71"></a><code class="constant">7</code></h3></div></div></div><p>
  The type of exception thrown by iostreams changed to the <code class="code">cxx11</code>
  ABI version of <code class="classname">std::ios_base::failure</code>.
</p><p>
  Experimental C++17 support added, including most new library features.
  The meaning of <code class="classname">shared_ptr&lt;T[]&gt;</code> changed to
  match the C++17 semantics.
</p><p>
  <a class="xref" href="using_macros.html" title="Macros">Macros</a> added.
</p><p>
  <code class="classname">has_trivial_default_constructor</code>,
  <code class="classname">has_trivial_copy_constructor</code> and
  <code class="classname">has_trivial_copy_assign</code> removed.
</p><p>
Calling a <code class="code">std::bind</code> result as volatile was deprecated for C++17.
</p><p> Profile Mode was deprecated. </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="api.rel_72"></a><code class="constant">7.2</code></h4></div></div></div><p>
  Library Fundamentals TS header
  <code class="filename">&lt;experimental/source_location&gt;</code>
  added.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="api.rel_73"></a><code class="constant">7.3</code></h4></div></div></div><p>
  Including new C++14 or C++17 headers without a suitable <code class="option">-std</code>
  no longer causes compilation to fail via <code class="literal">#error</code>.
  Instead the header is simply empty and doesn't define anything.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_81"></a><code class="constant">8</code></h3></div></div></div><p>
  The exceptions thrown by iostreams can now be caught by handlers for either
  version of <code class="classname">std::ios_base::failure</code>.
</p><p>
  Improved experimental C++17 support. Headers
  <code class="filename">&lt;charconv&gt;</code> and
  <code class="filename">&lt;filesystem&gt;</code>.
  Experimental implementation of the C++17 Filesystem library added.
</p><p>
  Experimental C++2a support
  (<code class="function">to_address</code> and <code class="classname">endian</code>).
</p><p>
  AddressSanitizer annotations added to <code class="classname">std::vector</code>
  to detect out-of-range accesses to the unused capacity of a vector.
</p><p>
  <code class="function">std::char_traits&lt;char16_t&gt;::to_int_type(u'\uFFFF')</code>
  now returns <code class="literal">0xFFFD</code>, as <code class="literal">0xFFFF</code> is
  used for <code class="function">std::char_traits&lt;char16_t&gt;::eof()</code>.
</p><p>
  The extension allowing arithmetic on
  <code class="classname">std::atomic&lt;void*&gt;</code> and types like
  <code class="classname">std::atomic&lt;R(*)()&gt;</code> was deprecated.
</p><p>
  The <code class="function">std::uncaught_exception</code> function was deprecated
  for C++17 mode.
</p><p>
  The nested typedefs <span class="type">std::hash::result_type</span> and
  <span class="type">std::hash::argument_type</span> were deprecated for C++17 mode.
</p><p>
  The deprecated iostream members <span class="type">ios_base::io_state</span>,
  <span class="type">ios_base::open_mode</span>, <span class="type">ios_base::seek_dir</span>, and
  <code class="function">basic_streambuf::stossc</code> were removed for C++17 mode.
</p><p>
  The non-standard C++0x <code class="function">std::copy_exception</code> function
  was removed.
</p><p>
  For <code class="option">-std=c++11</code>, <code class="option">-std=c++14</code>, and
  <code class="option">-std=c++17</code> modes the <code class="filename">&lt;complex.h&gt;</code>
  header no longer includes the C99 <code class="filename">&lt;complex.h&gt;</code>
  header.
</p><p>
  For the non-default <code class="option">--enable-symvers=gnu-versioned-namespace</code>
  configuration, the shared library SONAME has been changed to
  <code class="filename">libstdc++.so.8</code>.
</p><p>
  The extension allowing containers to be instantiated with an allocator
  that doesn't match the container's value type is no longer allowed in
  strict (<code class="option">-std=c++NN</code>) modes, only in
  <code class="option">-std=gnu++NN</code> modes.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_91"></a><code class="constant">9</code></h3></div></div></div><p>
  C++17 header
  <code class="filename">&lt;memory_resource&gt;</code>
  added.
</p><p>
  Experimental C++2a support improved, with new headers
  <code class="filename">&lt;bit&gt;</code> and
  <code class="filename">&lt;version&gt;</code> added.
  Support for new character type <span class="type">char8_t</span> added
  to <code class="classname">char_traits</code>, <code class="classname">basic_string</code>,
  <code class="classname">numeric_limits</code>,
  and relevant locale facets and type traits.
</p><p>
  Experimental implementation of the Networking TS library added,
  with new headers
  <code class="filename">&lt;experimental/buffer&gt;</code>,
  <code class="filename">&lt;experimental/executor&gt;</code>,
  <code class="filename">&lt;experimental/internet&gt;</code>,
  <code class="filename">&lt;experimental/io_context&gt;</code>,
  <code class="filename">&lt;experimental/net&gt;</code>,
  <code class="filename">&lt;experimental/netfwd&gt;</code>,
  <code class="filename">&lt;experimental/socket&gt;</code>,
  and
  <code class="filename">&lt;experimental/timer&gt;</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_101"></a><code class="constant">10</code></h3></div></div></div><p> Deprecated features removed:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"> Profile Mode </li><li class="listitem"><code class="classname">__gnu_cxx::array_allocator</code></li></ul></div><p>
</p><p>
  The non-standard <code class="function">std::__is_nullptr_t</code> type trait
  was deprecated.
</p><p>
  The <code class="classname">std::packaged_task</code> constructors taking
  an allocator argument are only defined for C++11 and C++14.
</p><p>
  Several members of <code class="classname">std::allocator</code> were removed
  for C++20 mode. The removed functionality has been provided by
  <code class="classname">std::allocator_traits</code> since C++11 and that should
  be used instead.
</p><p>
  The type of the <code class="classname">std::iterator</code> base class of
  <code class="classname">std::istreambuf_iterator</code> was changed to be
  consistent for all <code class="option">-std</code> modes.
  Before GCC 10.1 the base class had one type in C++98 mode and a
  different type in C++11 and later modes. The type in C++98 mode
  was changed to be the same as for C++11 and later.
</p><p>
  Experimental C++2a support improved, with new headers
  <code class="filename">&lt;concepts&gt;</code>,
  <code class="filename">&lt;ranges&gt;</code>,
  <code class="filename">&lt;compare&gt;</code>,
  <code class="filename">&lt;coroutine&gt;</code>,
  <code class="filename">&lt;numbers&gt;</code>,
  <code class="filename">&lt;span&gt;</code>,
  and
  <code class="filename">&lt;stop_token&gt;</code>
  added.
</p><p>
  The extension allowing containers to be instantiated with an allocator
  that doesn't match the container's value type is no longer allowed in
  C++20 mode, even in non-strict <code class="option">-std=gnu++20</code> mode.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_111"></a><code class="constant">11</code></h3></div></div></div><p>
  The <code class="option">--enable-cheaders=c_std</code> configuration
  was deprecated.
</p><p>
  When compiling as C++20, the <code class="function">operator&gt;&gt;</code> overloads
  for extracting strings into character buffers only work with arrays,
  not raw pointers.
</p><p>
  <code class="code">std::string::reserve(n)</code> will no longer reduce
  the string's capacity.
  Calling <code class="function">reserve()</code> with no arguments is equivalent
  to <code class="function">shrink_to_fit()</code>, but is deprecated.
  <code class="function">shrink_to_fit()</code> should be used instead.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_121"></a><code class="constant">12</code></h3></div></div></div><p>
The <code class="function">std::random_shuffle</code> algorithms are deprecated
for C++14 and later. The C++11 <code class="function">std::shuffle</code> algorithm
can be used instead.
</p><p>
The <code class="function">std::unexpected</code> function and related typedef and
accessors for the unexpected handler are deprecated for C++11 and later.
Dynamic exception specifications should be replaced with <code class="code">noexcept</code>.
</p><p>
C++98 adaptable function utilities
(<code class="code">std::bind1st</code>, <code class="code">std::unary_function</code>,
<code class="code">std::ptr_fun</code>, <code class="code">std::mem_fun_ref</code> etc.)
were deprecated for C++11.
<code class="code">std::iterator</code>, <code class="code">std::raw_storage_iterator</code>,
<code class="code">get_temporary_buffer</code>, and <code class="code">std::not_fun</code>
were deprecated for C++17.
</p><p>
Non-standard <code class="code">std::pair</code> constructors were deprecated.
A non-standard default argument for
<code class="code">vector&lt;bool&gt;::insert(const_iterator, const bool&amp;)</code>
was deprecated.
</p><p>
The <code class="literal">bitmap</code>, <code class="literal">mt</code>, and <code class="literal">pool</code>
options for <code class="option">--enable-libstdcxx-allocator</code> were removed.
For the <code class="literal">new</code> option, <code class="classname">std::allocator</code>
no longer derives from <code class="classname">__gnu_cxx::new_allocator</code>;
they both derive from <code class="classname">std::__new_allocator</code> instead.
</p><p>
<code class="function">std::condition_variable::wait</code> changed to be
<code class="code">noexcept(false)</code> to allow thread cancellation exceptions to
be thrown from <code class="function">pthread_cond_wait</code> without aborting
the process.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_123"></a><code class="constant">12.3</code></h3></div></div></div><p>
Calling a <code class="code">std::bind</code> result as volatile is ill-formed for C++20
and later.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_131"></a><code class="constant">13</code></h3></div></div></div><p>
Tunables <span style="color: red">&lt;variable&gt;glibcxx.eh_pool.obj_count&lt;/variable&gt;</span> and
<span style="color: red">&lt;variable&gt;glibcxx.eh_pool.obj_size&lt;/variable&gt;</span> were added.
</p><p>Static library <code class="filename">libstdc++exp.a</code> was added
to provide the symbols for the experimental C++ Contracts support.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_133"></a><code class="constant">13.3</code></h3></div></div></div><p>
Symbols for the Filesystem TS and C++23 <code class="filename">&lt;stacktrace&gt;</code>
header were added to the static library <code class="filename">libstdc++exp.a</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_141"></a><code class="constant">14</code></h3></div></div></div><p>
Deprecate the non-standard overload that allows <code class="code">std::setfill</code>
to be used with <code class="code">std::basic_istream</code>.
</p><p>
  The extension allowing <code class="code">std::basic_string</code> to be instantiated
  with an allocator that doesn't match the string's character type is no
  longer allowed in C++20 mode.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api.rel_151"></a><code class="constant">15</code></h3></div></div></div><p>
Enabled debug assertions by default for unoptimized builds.
</p><p>
Added warnings when including the headers that were deprecated in C++17
and removed in C++20:
<code class="filename">&lt;ccomplex&gt;</code>,
<code class="filename">&lt;ciso646&gt;</code>,
<code class="filename">&lt;cstdalign&gt;</code>,
<code class="filename">&lt;cstdbool&gt;</code>, and
<code class="filename">&lt;ctgmath&gt;</code>.
</p><p>
Nested <code class="code">result_type</code> and <code class="code">argument_type</code> removed from
<code class="classname">std::hash</code> specializations for C++20.
</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="abi.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="appendix_porting.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="backwards.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">ABI Policy and Guidelines </td><td width="20%" align="center"><a accesskey="h" href="../index.html">Home</a></td><td width="40%" align="right" valign="top"> Backwards Compatibility</td></tr></table></div></body></html>