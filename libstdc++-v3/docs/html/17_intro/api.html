<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html
          PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
   <meta name="AUTHOR" content="bkoz@gcc.gnu.org (Benjamin Kosnik)" />
   <meta name="KEYWORDS" content="C++, libstdc++, API, evolution, deprecate" />
   <meta name="DESCRIPTION" content="API evolution and deprecation history" />
   <meta name="GENERATOR" content="emacs and ten fingers" />
   <title>API Evolution and Deprecation History</title>
<link rel="StyleSheet" href="lib3styles.css" type="text/css" />
<link rel="Start" href="documentation.html" type="text/html"
  title="GNU C++ Standard Library" />
<link rel="Copyright" href="17_intro/license.html" type="text/html" />
</head>
<body>

<h1 class="centered"><a name="top">API Evolution and Deprecation History</a></h1>

<p class="fineprint"><em>
   The latest version of this document is always available at
   <a href="http://gcc.gnu.org/onlinedocs/libstdc++/17_intro/api.html">
   http://gcc.gnu.org/onlinedocs/libstdc++/17_intro/api.html</a>.
</em></p>

<p><em>
   To the <a href="http://gcc.gnu.org/libstdc++/">libstdc++ homepage</a>.
</em></p>

<!-- ####################################################### -->

<hr />
<h3 class="left">
  <a name="intro">API Evolution, Deprecation, and History of User Visible Changes</a>
</h3>

<p> A list of user-visible changes, by release version.
</p>

<h3 class="left">
  <a name="3.0">3.0</a>
</h3>

<p>
Extensions moved to <code>include/ext</code>.
</p>

<p>
Include files from the SGI/HP sources that pre-date the ISO standard
are added. These files are placed into
the <code>include/backward</code> directory and a deprecated warning
is added that notifies on inclusion (<code>-Wno-deprecated</code>
deactivates the warning.)
</p>

<p>Deprecated include &lt;backward/strstream&gt; added.</p>

<p>Removal of include &lt;builtinbuf.h&gt;, &lt;indstream.h&gt;, &lt;parsestream.h&gt;, &lt;PlotFile.h&gt;, &lt;SFile.h&gt;, &lt;stdiostream.h&gt;, and &lt;stream.h&gt;.</p>


<h3 class="left">
  <a name="3.1">3.1</a>
</h3>

<p>
Extensions from SGI/HP moved from <code>namespace std</code>
to <code>namespace __gnu_cxx</code>. As part of this, the following
new includes are
added: &lt;ext/algorithm&gt;, &lt;ext/functional&gt;, &lt;ext/iterator&gt;, &lt;ext/memory&gt;, and &lt;ext/numeric&gt;.
</p>

<p>
Extensions to <code>basic_filebuf</code> introduced: <code>__gnu_cxx::enc_filebuf</code>, and <code>__gnu_cxx::stdio_filebuf</code>.
</p>

<p>
Extensions to tree data structures added in &lt;ext/rb_tree&gt;.
</p>

<p>
Removal of &lt;ext/tree&gt;, moved to &lt;backward/tree.h&gt;.
</p>


<h3 class="left">
  <a name="3.2">3.2</a>
</h3>
<p>Symbol versioning introduced for shared library.</p>

<p>Removal of include &lt;backward/strstream.h&gt;.</p>

<h3 class="left">
  <a name="3.3">3.3</a>
</h3>
<p>Allocator changes. Change <code>__malloc_alloc</code> to <code>malloc_allocator</code> and <code>__new_alloc</code> to <code>new_allocator</code>. </p>

<p>Error handling in iostreams cleaned up, made consistent. </p>


<h3 class="left">
  <a name="3.4">3.4</a>
</h3>
<p>
Large file support.
</p>

<p> Extensions for generic characters and <code>char_traits</code> added in &lt;ext/pod_char_traits.h&gt;.
</p>

<p>
Support for <code>wchar_t</code> specializations of <code>basic_filebuf</code> enhanced to support <code>UTF-8</code> and <code>Unicode</code>, depending on host. More hosts support basic <code>wchar_t</code> functionality.
</p>

<p>
Support for <code>char_traits</code> beyond builtin types.
</p>

<p>
Conformant <code>allocator</code> class and usage in containers. As
part of this, the following extensions are
added: &lt;ext/bitmap_allocator.h&gt;, &lt;ext/debug_allocator.h&gt;, &lt;ext/mt_allocator.h&gt;, &lt;ext/malloc_allocator.h&gt;,&lt;ext/new_allocator.h&gt;, &lt;ext/pool_allocator.h&gt;.
</p>


<p>
Debug mode first appears.
</p>

<p>
PCH support.
</p>

<p>
Macro guard for libstdc++ changed, from _GLIBCPP_ to _GLIBCXX_.
</p>

<p>
Extension &lt;ext/stdio_sync_filebuf.h&gt; added.
</p>

<p>
Extension &lt;ext/demangle.h&gt; added.
</p>


<h3 class="left">
  <a name="4.0">4.0</a>
</h3>
<p>
TR1 features first appear.
</p>

<p>
Extension allocator &lt;ext/array_allocator.h&gt; added.
</p>

<p>
Extension <code>codecvt</code> specializations moved to &lt;ext/codecvt_specializations.h&gt;.
</p>

<p>
Removal of &lt;ext/demangle.h&gt;.
</p>


<h3 class="left">
  <a name="4.1">4.1</a>
</h3>

<p>
Removal of &lt;cassert&gt; from all standard headers: now has to be explicitly included for <code>std::assert</code> calls.
</p>

<p> Extensions for policy-based data structures first added. New includes,
types, namespace <code>pb_assoc</code>.
</p>



<p> Extensions for typelists added in &lt;ext/typelist.h&gt;.
</p>

<p> Extension for policy-based <code>basic_string</code> first added: <code>__gnu_cxx::__versa_string</code> in &lt;ext/vstring.h&gt;.
</p>

<h3 class="left">
  <a name="4.2">4.2</a>
</h3>

<p> Default visibility attributes applied to <code>namespace std</code>. Support for <code>-fvisibility</code>.
</p>

<p>TR1 &lt;random&gt;, &lt;complex&gt;, and C compatibility headers added.</p>

<p> Extensions for concurrent programming consolidated
into &lt;ext/concurrence.h&gt; and &lt;ext/atomicity.h&gt;,
including change of namespace to <code>__gnu_cxx</code> in some
cases. Added types
include <code>_Lock_policy</code>, <code>__concurrence_lock_error</code>, <code>__concurrence_unlock_error</code>, <code>__mutex</code>, <code>__scoped_lock</code>.</p>

<p> Extensions for type traits consolidated
into &lt;ext/type_traits.h&gt;. Additional traits are added
(<code>__conditional_type</code>, <code>__enable_if</code>, others.)
</p>

<p> Extensions for policy-based data structures revised. New includes,
types, namespace moved to <code>__pb_ds</code>.
</p>

<p> Extensions for debug mode modified: now nested in <code>namespace
std::__debug</code> and extensions in <code>namespace
__gnu_cxx::__debug</code>.</p>

<p> Extensions added: &lt;ext/typelist.h&gt;
and &lt;ext/throw_allocator.h&gt;.
</p>

<h3 class="left">
  <a name="4.3">4.3</a>
</h3>

<p>
C++0X features first appear.
</p>

<p>TR1 &lt;regex&gt; and &lt;cmath&gt;'s mathematical special function added.</p>

<p>
Backward include edit.
</p>
<ul>
  <li> Removed: &lt;algobase.h&gt; &lt;algo.h&gt; &lt;alloc.h&gt; &lt;bvector.h&gt; &lt;complex.h&gt;
defalloc.h&gt; &lt;deque.h&gt; &lt;fstream.h&gt; &lt;function.h&gt; &lt;hash_map.h&gt; &lt;hash_set.h&gt;
hashtable.h&gt; &lt;heap.h&gt; &lt;iomanip.h&gt; &lt;iostream.h&gt; &lt;istream.h&gt; &lt;iterator.h&gt;
list.h&gt; &lt;map.h&gt; &lt;multimap.h&gt; &lt;multiset.h&gt; &lt;new.h&gt; &lt;ostream.h&gt; &lt;pair.h&gt; &lt;queue.h&gt;
rope.h&gt; &lt;set.h&gt; &lt;slist.h&gt; &lt;stack.h&gt; &lt;streambuf.h&gt; &lt;stream.h&gt; &lt;tempbuf.h&gt;
&lt;tree.h&gt; &lt;vector.h&gt;
  </li>
  <li> Added: &lt;hash_map&gt; and &lt;hash_set&gt;</li>
  <li> Added in C++0x: &lt;auto_ptr.h&gt; and &lt;binders.h&gt;</li>
</ul>

<p>
Header dependency streamlining.
</p>

<ul>
  <li>&lt;algorithm&gt; no longer includes &lt;climits&gt;, &lt;cstring&gt;, or &lt;iosfwd&gt; </li>
  <li>&lt;bitset&gt; no longer includes &lt;istream&gt; or &lt;ostream&gt;, adds &lt;iosfwd&gt; </li>
  <li>&lt;functional&gt; no longer includes &lt;cstddef&gt;</li>
  <li>&lt;iomanip&gt; no longer includes &lt;istream&gt;, &lt;istream&gt;, or &lt;functional&gt;, adds &lt;ioswd&gt; </li>
  <li>&lt;numeric&gt; no longer includes &lt;iterator&gt;</li>
  <li>&lt;string&gt; no longer includes &lt;algorithm&gt; or &lt;memory&gt;</li>

  <li>&lt;valarray&gt; no longer includes &lt;numeric&gt; or &lt;cstdlib&gt;</li>
  <li>&lt;tr1/hashtable&gt; no longer includes &lt;memory&gt; or &lt;functional&gt;</li>
  <li>&lt;tr1/memory&gt; no longer includes &lt;algorithm&gt;</li>
  <li>&lt;tr1/random&gt; no longer includes &lt;algorithm&gt; or &lt;fstream&gt;</li>
</ul>

<p>
Debug mode for &lt;unordered_map&gt; and &lt;unordered_set&gt;.
</p>

<p>
Parallel mode first appears.
</p>

<p>Variadic template implementations of items in &lt;tuple&gt; and
    &lt;functional&gt;. 
</p>

<p>Default <code>what</code> implementations give more elaborate
    exception strings for <code>bad_cast</code>,
    <code>bad_typeid</code>, <code>bad_exception</code>, and
    <code>bad_alloc</code>.
</p>

<p>
PCH binary files no longer installed. Instead, the source files are installed. 
</p>

<p>
Namespace pb_ds moved to __gnu_pb_ds.
</p>

</body>
</html>

